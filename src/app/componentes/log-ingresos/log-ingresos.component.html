<div class="log-ingresos-container">
  <!-- Spinner de Carga -->
  <div class="loading-overlay" *ngIf="cargando">
    <div class="spinner-container">
      <img src="assets/imagenes/logo2.png" alt="Cargando..." class="spinner-logo">
      <p class="loading-text">Cargando datos...</p>
    </div>
  </div>

  <!-- Header -->
  <div class="log-header">
    <button class="btn-volver" routerLink="/estadisticas">
      <i class="fa fa-arrow-left"></i> Volver al Dashboard
    </button>
    
    <div class="header-content">
      <h1 class="page-titulo">
      
        Registro de Ingresos
      </h1>
    </div>

    <div class="acciones-buttons">
      <button class="btn-excel" (click)="exportToExcel()">
        Exportar Excel
      </button>
    </div>
  </div>

 

  <!-- Tabla Moderna -->
  <div class="tabla-moderna-container">
    <div class="tabla-wrapper">
      <table class="tabla-moderna">
        <thead>
          <tr>
            
            <th><i class="fa fa-user"></i> Usuario</th>
            <th><i class="fa fa-calendar-alt"></i> Fecha y Hora</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let log of logsOrdenados | paginacion:paginaActual:itemsPorPagina; let i = index" 
              class="tabla-row">
           
            <td class="col-email">
              <div class="email-cell">
                <i class="fa fa-envelope"></i>
                <span>{{ log.email }}</span>
              </div>
            </td>
            <td class="col-fecha">
              <div class="fecha-cell">
                <i class="fa fa-clock"></i>
                <span>{{log.fecha.seconds | formatoFecha}}</span>
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Sin resultados -->
      <div *ngIf="logsOrdenados.length === 0" class="sin-resultados">
        <i class="fa fa-inbox"></i>
        <p>No hay registros de ingresos</p>
      </div>
    </div>
  </div>

  <!-- PaginaciÃ³n -->
  <div class="paginacion-container" *ngIf="totalPaginas > 1">
    <button 
      class="btn-paginacion" 
      [disabled]="paginaActual === 1"
      (click)="cambiarPagina(1)">
      <i class="fa fa-angle-double-left"></i>
    </button>

    <button 
      class="btn-paginacion" 
      [disabled]="paginaActual === 1"
      (click)="cambiarPagina(paginaActual - 1)">
      <i class="fa fa-angle-left"></i> Anterior
    </button>

    <div class="paginas-numeros">
      <ng-container *ngFor="let pagina of paginasArray">
        <span 
          *ngIf="esPuntosSuspensivos(pagina)"
          class="puntos-suspensivos">
          ...
        </span>
        <button 
          *ngIf="!esPuntosSuspensivos(pagina)"
          class="btn-pagina"
          [class.activa]="pagina === paginaActual"
          (click)="cambiarPagina(+pagina)">
          {{pagina}}
        </button>
      </ng-container>
    </div>

    <button 
      class="btn-paginacion" 
      [disabled]="paginaActual === totalPaginas"
      (click)="cambiarPagina(paginaActual + 1)">
      Siguiente <i class="fa fa-angle-right"></i>
    </button>

    <button 
      class="btn-paginacion" 
      [disabled]="paginaActual === totalPaginas"
      (click)="cambiarPagina(totalPaginas)">
      <i class="fa fa-angle-double-right"></i>
    </button>
  </div>
</div>