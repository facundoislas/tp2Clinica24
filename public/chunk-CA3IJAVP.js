import{$ as Bg,A as me,Aa as Gg,Ab as $t,Ac as hv,B as ah,Ba as qt,Bb as kc,C as Ot,Ca as ph,Cc as Th,D as Vg,Da as ti,Dc as dv,E as ch,Ea as Hg,F as Lg,Fa as lt,Fc as Ah,Gc as fv,Ha as Wg,Ia as mh,J as Zr,Ja as Kg,Ka as ni,L as Qi,Lb as et,M as Io,Ma as gh,Nb as rv,O as uh,P as Yi,Q as Fg,Qa as Qg,S as Rc,Sa as bo,T as dr,Ta as mr,Tb as sn,U as lh,Ua as oe,Ub as Nc,V as Ug,W as hh,Z as dh,Za as Yg,_ as rn,_a as To,a as q,ab as It,b as Ie,ba as Xe,bc as Ao,ca as xe,cc as iv,d as vb,da as kn,db as vh,dc as xc,e as yb,ea as de,ec as Oc,f as lr,fa as fr,fb as Ji,fc as sv,g as E,ga as jg,gc as Ih,h as kg,ha as Ae,hb as At,hc as Eh,i as th,ia as fh,ib as Jg,j as Xr,ja as ve,jb as Xg,jc as Co,k as nh,ka as se,kb as Zg,kc as ov,l as rh,la as _t,lb as yh,lc as av,m as nn,ma as Eo,mb as wh,mc as Zi,n as yt,na as Pc,nb as ri,o as Ng,oa as pr,oc as es,p as xg,pa as Ze,pb as _h,pc as Mn,q as hr,r as ih,ra as Nn,rc as ts,sa as qg,sc as cv,t as sh,ta as Dc,tb as ze,tc as uv,u as oh,ua as xn,ub as Ue,uc as zt,v as wt,va as ei,vb as Xi,vc as bh,w as re,wa as $g,wb as ev,wc as Mc,x as _o,xa as zg,xb as tv,xc as lv,y as Og,yb as nv,z as Mg,za as On}from"./chunk-Y4Q3JQPZ.js";var h_=vb((hn,Ff)=>{"use strict";(function(n,e){typeof hn=="object"&&typeof Ff<"u"?Ff.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(hn,function(){"use strict";function n(g,c){(c==null||c>g.length)&&(c=g.length);for(var l=0,m=Array(c);l<c;l++)m[l]=g[l];return m}function e(g){if(Array.isArray(g))return g}function t(g){if(Array.isArray(g))return n(g)}function r(g,c,l){if(typeof g=="function"?g===c:g.has(c))return arguments.length<3?c:l;throw new TypeError("Private element is not present on this object")}function i(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function s(g,c,l){return c=V(c),S(g,J()?Reflect.construct(c,l||[],V(g).constructor):c.apply(g,l))}function o(g,c){if(c.has(g))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function")}function d(g,c){return g.get(r(g,c))}function f(g,c,l){o(g,c),c.set(g,l)}function v(g,c,l){return g.set(r(g,c),l),l}function w(g,c,l){if(J())return Reflect.construct.apply(null,arguments);var m=[null];m.push.apply(m,c);var _=new(g.bind.apply(g,m));return _}function A(g,c){for(var l=0;l<c.length;l++){var m=c[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,b(m.key),m)}}function O(g,c,l){return c&&A(g.prototype,c),Object.defineProperty(g,"prototype",{writable:!1}),g}function L(g,c){var l=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!l){if(Array.isArray(g)||(l=wn(g))||c){l&&(g=l);var m=0,_=function(){};return{s:_,n:function(){return m>=g.length?{done:!0}:{done:!1,value:g[m++]}},e:function(X){throw X},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,B=!0,ne=!1;return{s:function(){l=l.call(g)},n:function(){var X=l.next();return B=X.done,X},e:function(X){ne=!0,x=X},f:function(){try{B||l.return==null||l.return()}finally{if(ne)throw x}}}}function j(){return j=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(g,c,l){var m=C(g,c);if(m){var _=Object.getOwnPropertyDescriptor(m,c);return _.get?_.get.call(arguments.length<3?g:l):_.value}},j.apply(null,arguments)}function V(g){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},V(g)}function Q(g,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(c&&c.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),c&&I(g,c)}function J(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!g})()}function te(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function Ee(g,c){var l=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(l!=null){var m,_,x,B,ne=[],X=!0,Ne=!1;try{if(x=(l=l.call(g)).next,c!==0)for(;!(X=(m=x.call(l)).done)&&(ne.push(m.value),ne.length!==c);X=!0);}catch(wo){Ne=!0,_=wo}finally{try{if(!X&&l.return!=null&&(B=l.return(),Object(B)!==B))return}finally{if(Ne)throw _}}return ne}}function nt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(g,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(g)}function I(g,c){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,m){return l.__proto__=m,l},I(g,c)}function T(g,c){return e(g)||Ee(g,c)||wn(g,c)||nt()}function C(g,c){for(;!{}.hasOwnProperty.call(g,c)&&(g=V(g))!==null;);return g}function R(g){return t(g)||te(g)||wn(g)||pe()}function D(g,c){if(typeof g!="object"||!g)return g;var l=g[Symbol.toPrimitive];if(l!==void 0){var m=l.call(g,c);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}function b(g){var c=D(g,"string");return typeof c=="symbol"?c:c+""}function Te(g){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Te(g)}function wn(g,c){if(g){if(typeof g=="string")return n(g,c);var l={}.toString.call(g).slice(8,-1);return l==="Object"&&g.constructor&&(l=g.constructor.name),l==="Map"||l==="Set"?Array.from(g):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?n(g,c):void 0}}var Ml=100,Y={},xr=function(){Y.previousActiveElement instanceof HTMLElement?(Y.previousActiveElement.focus(),Y.previousActiveElement=null):document.body&&document.body.focus()},Ws=function(c){return new Promise(function(l){if(!c)return l();var m=window.scrollX,_=window.scrollY;Y.restoreFocusTimeout=setTimeout(function(){xr(),l()},Ml),window.scrollTo(m,_)})},Ks="swal2-",Vl=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],k=Vl.reduce(function(g,c){return g[c]=Ks+c,g},{}),Je=["success","warning","info","question","error"],Vi=Je.reduce(function(g,c){return g[c]=Ks+c,g},{}),Jn="SweetAlert2:",Qs=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},je=function(c){console.warn("".concat(Jn," ").concat(Te(c)==="object"?c.join(" "):c))},_n=function(c){console.error("".concat(Jn," ").concat(c))},$a=[],Li=function(c){$a.includes(c)||($a.push(c),je(c))},Or=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Li('"'.concat(c,'" is deprecated and will be removed in the next major release.').concat(l?' Use "'.concat(l,'" instead.'):""))},Xn=function(c){return typeof c=="function"?c():c},Mr=function(c){return c&&typeof c.toPromise=="function"},In=function(c){return Mr(c)?c.toPromise():Promise.resolve(c)},Vr=function(c){return c&&Promise.resolve(c)===c},rt=function(){return document.body.querySelector(".".concat(k.container))},Zn=function(c){var l=rt();return l?l.querySelector(c):null},ft=function(c){return Zn(".".concat(c))},fe=function(){return ft(k.popup)},er=function(){return ft(k.icon)},Ys=function(){return ft(k["icon-content"])},Js=function(){return ft(k.title)},Xs=function(){return ft(k["html-container"])},Fi=function(){return ft(k.image)},Lr=function(){return ft(k["progress-steps"])},tr=function(){return ft(k["validation-message"])},be=function(){return Zn(".".concat(k.actions," .").concat(k.confirm))},De=function(){return Zn(".".concat(k.actions," .").concat(k.cancel))},kt=function(){return Zn(".".concat(k.actions," .").concat(k.deny))},za=function(){return ft(k["input-label"])},En=function(){return Zn(".".concat(k.loader))},Fr=function(){return ft(k.actions)},nr=function(){return ft(k.footer)},Ur=function(){return ft(k["timer-progress-bar"])},Ui=function(){return ft(k.close)},Zs=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,eo=function(){var c=fe();if(!c)return[];var l=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),m=Array.from(l).sort(function(B,ne){var X=parseInt(B.getAttribute("tabindex")||"0"),Ne=parseInt(ne.getAttribute("tabindex")||"0");return X>Ne?1:X<Ne?-1:0}),_=c.querySelectorAll(Zs),x=Array.from(_).filter(function(B){return B.getAttribute("tabindex")!=="-1"});return R(new Set(m.concat(x))).filter(function(B){return Le(B)})},to=function(){return pt(document.body,k.shown)&&!pt(document.body,k["toast-shown"])&&!pt(document.body,k["no-backdrop"])},rr=function(){var c=fe();return c?pt(c,k.toast):!1},Ga=function(){var c=fe();return c?c.hasAttribute("data-loading"):!1},ct=function(c,l){if(c.textContent="",l){var m=new DOMParser,_=m.parseFromString(l,"text/html"),x=_.querySelector("head");x&&Array.from(x.childNodes).forEach(function(ne){c.appendChild(ne)});var B=_.querySelector("body");B&&Array.from(B.childNodes).forEach(function(ne){ne instanceof HTMLVideoElement||ne instanceof HTMLAudioElement?c.appendChild(ne.cloneNode(!0)):c.appendChild(ne)})}},pt=function(c,l){if(!l)return!1;for(var m=l.split(/\s+/),_=0;_<m.length;_++)if(!c.classList.contains(m[_]))return!1;return!0},no=function(c,l){Array.from(c.classList).forEach(function(m){!Object.values(k).includes(m)&&!Object.values(Vi).includes(m)&&!Object.values(l.showClass||{}).includes(m)&&c.classList.remove(m)})},it=function(c,l,m){if(no(c,l),!!l.customClass){var _=l.customClass[m];if(_){if(typeof _!="string"&&!_.forEach){je("Invalid type of customClass.".concat(m,'! Expected string or iterable object, got "').concat(Te(_),'"'));return}ue(c,_)}}},Nt=function(c,l){if(!l)return null;switch(l){case"select":case"textarea":case"file":return c.querySelector(".".concat(k.popup," > .").concat(k[l]));case"checkbox":return c.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return c.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||c.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return c.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return c.querySelector(".".concat(k.popup," > .").concat(k.input))}},ro=function(c){if(c.focus(),c.type!=="file"){var l=c.value;c.value="",c.value=l}},Br=function(c,l,m){!c||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(function(_){Array.isArray(c)?c.forEach(function(x){m?x.classList.add(_):x.classList.remove(_)}):m?c.classList.add(_):c.classList.remove(_)}))},ue=function(c,l){Br(c,l,!0)},ut=function(c,l){Br(c,l,!1)},Ft=function(c,l){for(var m=Array.from(c.children),_=0;_<m.length;_++){var x=m[_];if(x instanceof HTMLElement&&pt(x,l))return x}},Re=function(c,l,m){m==="".concat(parseInt(m))&&(m=parseInt(m)),m||parseInt(m)===0?c.style.setProperty(l,typeof m=="number"?"".concat(m,"px"):m):c.style.removeProperty(l)},Ve=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=l)},ke=function(c){c&&(c.style.display="none")},bn=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){jr(c,c.innerHTML,l)}).observe(c,{childList:!0,subtree:!0})},Ha=function(c,l,m,_){var x=c.querySelector(l);x&&x.style.setProperty(m,_)},jr=function(c,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";l?Ve(c,m):ke(c)},Le=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},Ll=function(){return!Le(be())&&!Le(kt())&&!Le(De())},Wa=function(c){return c.scrollHeight>c.clientHeight},qr=function(c){var l=window.getComputedStyle(c),m=parseFloat(l.getPropertyValue("animation-duration")||"0"),_=parseFloat(l.getPropertyValue("transition-duration")||"0");return m>0||_>0},Bi=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=Ur();m&&Le(m)&&(l&&(m.style.transition="none",m.style.width="100%"),setTimeout(function(){m.style.transition="width ".concat(c/1e3,"s linear"),m.style.width="0%"},10))},io=function(){var c=Ur();if(c){var l=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var m=parseInt(window.getComputedStyle(c).width),_=l/m*100;c.style.width="".concat(_,"%")}},$r=function(){return typeof window>"u"||typeof document>"u"},Qt=`
 <div aria-labelledby="`.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,`" tabindex="-1">
   <button type="button" class="`).concat(k.close,`"></button>
   <ul class="`).concat(k["progress-steps"],`"></ul>
   <div class="`).concat(k.icon,`"></div>
   <img class="`).concat(k.image,`" />
   <h2 class="`).concat(k.title,'" id="').concat(k.title,`"></h2>
   <div class="`).concat(k["html-container"],'" id="').concat(k["html-container"],`"></div>
   <input class="`).concat(k.input,'" id="').concat(k.input,`" />
   <input type="file" class="`).concat(k.file,`" />
   <div class="`).concat(k.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(k.select,'" id="').concat(k.select,`"></select>
   <div class="`).concat(k.radio,`"></div>
   <label class="`).concat(k.checkbox,`">
     <input type="checkbox" id="`).concat(k.checkbox,`" />
     <span class="`).concat(k.label,`"></span>
   </label>
   <textarea class="`).concat(k.textarea,'" id="').concat(k.textarea,`"></textarea>
   <div class="`).concat(k["validation-message"],'" id="').concat(k["validation-message"],`"></div>
   <div class="`).concat(k.actions,`">
     <div class="`).concat(k.loader,`"></div>
     <button type="button" class="`).concat(k.confirm,`"></button>
     <button type="button" class="`).concat(k.deny,`"></button>
     <button type="button" class="`).concat(k.cancel,`"></button>
   </div>
   <div class="`).concat(k.footer,`"></div>
   <div class="`).concat(k["timer-progress-bar-container"],`">
     <div class="`).concat(k["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ka=function(){var c=rt();return c?(c.remove(),ut([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0):!1},Yt=function(){Y.currentInstance.resetValidationMessage()},so=function(){var c=fe(),l=Ft(c,k.input),m=Ft(c,k.file),_=c.querySelector(".".concat(k.range," input")),x=c.querySelector(".".concat(k.range," output")),B=Ft(c,k.select),ne=c.querySelector(".".concat(k.checkbox," input")),X=Ft(c,k.textarea);l.oninput=Yt,m.onchange=Yt,B.onchange=Yt,ne.onchange=Yt,X.oninput=Yt,_.oninput=function(){Yt(),x.value=_.value},_.onchange=function(){Yt(),x.value=_.value}},oo=function(c){return typeof c=="string"?document.querySelector(c):c},Qa=function(c){var l=fe();l.setAttribute("role",c.toast?"alert":"dialog"),l.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||l.setAttribute("aria-modal","true")},Ya=function(c){window.getComputedStyle(c).direction==="rtl"&&ue(rt(),k.rtl)},Fl=function(c){var l=Ka();if($r()){_n("SweetAlert2 requires document to initialize");return}var m=document.createElement("div");m.className=k.container,l&&ue(m,k["no-transition"]),ct(m,Qt);var _=oo(c.target);_.appendChild(m),Qa(c),Ya(_),so()},ir=function(c,l){c instanceof HTMLElement?l.appendChild(c):Te(c)==="object"?Ja(c,l):c&&ct(l,c)},Ja=function(c,l){c.jquery?ao(l,c):ct(l,c.toString())},ao=function(c,l){if(c.textContent="",0 in l)for(var m=0;m in l;m++)c.appendChild(l[m].cloneNode(!0));else c.appendChild(l.cloneNode(!0))},bt=function(){if($r())return!1;var g=document.createElement("div");return typeof g.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof g.style.animation<"u"?"animationend":!1}(),Tn=function(c,l){var m=Fr(),_=En();!m||!_||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?ke(m):Ve(m),it(m,l,"actions"),co(m,_,l),ct(_,l.loaderHtml||""),it(_,l,"loader"))};function co(g,c,l){var m=be(),_=kt(),x=De();!m||!_||!x||(ji(m,"confirm",l),ji(_,"deny",l),ji(x,"cancel",l),Ul(m,_,x,l),l.reverseButtons&&(l.toast?(g.insertBefore(x,m),g.insertBefore(_,m)):(g.insertBefore(x,c),g.insertBefore(_,c),g.insertBefore(m,c))))}function Ul(g,c,l,m){if(!m.buttonsStyling){ut([g,c,l],k.styled);return}ue([g,c,l],k.styled),m.confirmButtonColor&&(g.style.backgroundColor=m.confirmButtonColor,ue(g,k["default-outline"])),m.denyButtonColor&&(c.style.backgroundColor=m.denyButtonColor,ue(c,k["default-outline"])),m.cancelButtonColor&&(l.style.backgroundColor=m.cancelButtonColor,ue(l,k["default-outline"]))}function ji(g,c,l){var m=Qs(c);jr(g,l["show".concat(m,"Button")],"inline-block"),ct(g,l["".concat(c,"ButtonText")]||""),g.setAttribute("aria-label",l["".concat(c,"ButtonAriaLabel")]||""),g.className=k[c],it(g,l,"".concat(c,"Button"))}var Xa=function(c,l){var m=Ui();m&&(ct(m,l.closeButtonHtml||""),it(m,l,"closeButton"),jr(m,l.showCloseButton),m.setAttribute("aria-label",l.closeButtonAriaLabel||""))},Za=function(c,l){var m=rt();m&&(uo(m,l.backdrop),lo(m,l.position),ec(m,l.grow),it(m,l,"container"))};function uo(g,c){typeof c=="string"?g.style.background=c:c||ue([document.documentElement,document.body],k["no-backdrop"])}function lo(g,c){c&&(c in k?ue(g,k[c]):(je('The "position" parameter is not valid, defaulting to "center"'),ue(g,k.center)))}function ec(g,c){c&&ue(g,k["grow-".concat(c)])}var we={innerParams:new WeakMap,domCache:new WeakMap},Bl=["input","file","range","select","radio","checkbox","textarea"],jl=function(c,l){var m=fe();if(m){var _=we.innerParams.get(c),x=!_||l.input!==_.input;Bl.forEach(function(B){var ne=Ft(m,k[B]);ne&&(ql(B,l.inputAttributes),ne.className=k[B],x&&ke(ne))}),l.input&&(x&&tc(l),An(l))}},tc=function(c){if(c.input){if(!W[c.input]){_n("Unexpected type of input! Expected ".concat(Object.keys(W).join(" | "),', got "').concat(c.input,'"'));return}var l=zr(c.input);if(l){var m=W[c.input](l,c);Ve(l),c.inputAutoFocus&&setTimeout(function(){ro(m)})}}},nc=function(c){for(var l=0;l<c.attributes.length;l++){var m=c.attributes[l].name;["id","type","value","style"].includes(m)||c.removeAttribute(m)}},ql=function(c,l){var m=fe();if(m){var _=Nt(m,c);if(_){nc(_);for(var x in l)_.setAttribute(x,l[x])}}},An=function(c){if(c.input){var l=zr(c.input);l&&it(l,c,"input")}},Tt=function(c,l){!c.placeholder&&l.inputPlaceholder&&(c.placeholder=l.inputPlaceholder)},Jt=function(c,l,m){if(m.inputLabel){var _=document.createElement("label"),x=k["input-label"];_.setAttribute("for",c.id),_.className=x,Te(m.customClass)==="object"&&ue(_,m.customClass.inputLabel),_.innerText=m.inputLabel,l.insertAdjacentElement("beforebegin",_)}},zr=function(c){var l=fe();if(l)return Ft(l,k[c]||k.input)},Gr=function(c,l){["string","number"].includes(Te(l))?c.value="".concat(l):Vr(l)||je('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Te(l),'"'))},W={};W.text=W.email=W.password=W.number=W.tel=W.url=W.search=W.date=W["datetime-local"]=W.time=W.week=W.month=function(g,c){return Gr(g,c.inputValue),Jt(g,g,c),Tt(g,c),g.type=c.input,g},W.file=function(g,c){return Jt(g,g,c),Tt(g,c),g},W.range=function(g,c){var l=g.querySelector("input"),m=g.querySelector("output");return Gr(l,c.inputValue),l.type=c.input,Gr(m,c.inputValue),Jt(l,g,c),g},W.select=function(g,c){if(g.textContent="",c.inputPlaceholder){var l=document.createElement("option");ct(l,c.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,g.appendChild(l)}return Jt(g,g,c),g},W.radio=function(g){return g.textContent="",g},W.checkbox=function(g,c){var l=Nt(fe(),"checkbox");l.value="1",l.checked=!!c.inputValue;var m=g.querySelector("span");return ct(m,c.inputPlaceholder),l},W.textarea=function(g,c){Gr(g,c.inputValue),Tt(g,c),Jt(g,g,c);var l=function(_){return parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var m=parseInt(window.getComputedStyle(fe()).width),_=function(){if(document.body.contains(g)){var B=g.offsetWidth+l(g);B>m?fe().style.width="".concat(B,"px"):Re(fe(),"width",c.width)}};new MutationObserver(_).observe(g,{attributes:!0,attributeFilter:["style"]})}}),g};var qi=function(c,l){var m=Xs();m&&(bn(m),it(m,l,"htmlContainer"),l.html?(ir(l.html,m),Ve(m,"block")):l.text?(m.textContent=l.text,Ve(m,"block")):ke(m),jl(c,l))},Hr=function(c,l){var m=nr();m&&(bn(m),jr(m,l.footer,"block"),l.footer&&ir(l.footer,m),it(m,l,"footer"))},Wr=function(c,l){var m=we.innerParams.get(c),_=er();if(_){if(m&&l.icon===m.icon){sc(_,l),rc(_,l);return}if(!l.icon&&!l.iconHtml){ke(_);return}if(l.icon&&Object.keys(Vi).indexOf(l.icon)===-1){_n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(l.icon,'"')),ke(_);return}Ve(_),sc(_,l),rc(_,l),ue(_,l.showClass&&l.showClass.icon)}},rc=function(c,l){for(var m=0,_=Object.entries(Vi);m<_.length;m++){var x=T(_[m],2),B=x[0],ne=x[1];l.icon!==B&&ut(c,ne)}ue(c,l.icon&&Vi[l.icon]),Gl(c,l),ic(),it(c,l,"icon")},ic=function(){var c=fe();if(c)for(var l=window.getComputedStyle(c).getPropertyValue("background-color"),m=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),_=0;_<m.length;_++)m[_].style.backgroundColor=l},$l=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,zl=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sc=function(c,l){if(!(!l.icon&&!l.iconHtml)){var m=c.innerHTML,_="";if(l.iconHtml)_=sr(l.iconHtml);else if(l.icon==="success")_=$l,m=m.replace(/ style=".*?"/g,"");else if(l.icon==="error")_=zl;else if(l.icon){var x={question:"?",warning:"!",info:"i"};_=sr(x[l.icon])}m.trim()!==_.trim()&&ct(c,_)}},Gl=function(c,l){if(l.iconColor){c.style.color=l.iconColor,c.style.borderColor=l.iconColor;for(var m=0,_=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];m<_.length;m++){var x=_[m];Ha(c,x,"background-color",l.iconColor)}Ha(c,".swal2-success-ring","border-color",l.iconColor)}},sr=function(c){return'<div class="'.concat(k["icon-content"],'">').concat(c,"</div>")},Xt=function(c,l){var m=Fi();if(m){if(!l.imageUrl){ke(m);return}Ve(m,""),m.setAttribute("src",l.imageUrl),m.setAttribute("alt",l.imageAlt||""),Re(m,"width",l.imageWidth),Re(m,"height",l.imageHeight),m.className=k.image,it(m,l,"image")}},oc=function(c,l){var m=rt(),_=fe();if(!(!m||!_)){if(l.toast){Re(m,"width",l.width),_.style.width="100%";var x=En();x&&_.insertBefore(x,er())}else Re(_,"width",l.width);Re(_,"padding",l.padding),l.color&&(_.style.color=l.color),l.background&&(_.style.background=l.background),ke(tr()),ac(_,l)}},ac=function(c,l){var m=l.showClass||{};c.className="".concat(k.popup," ").concat(Le(c)?m.popup:""),l.toast?(ue([document.documentElement,document.body],k["toast-shown"]),ue(c,k.toast)):ue(c,k.modal),it(c,l,"popup"),typeof l.customClass=="string"&&ue(c,l.customClass),l.icon&&ue(c,k["icon-".concat(l.icon)])},cc=function(c,l){var m=Lr();if(m){var _=l.progressSteps,x=l.currentProgressStep;if(!_||_.length===0||x===void 0){ke(m);return}Ve(m),m.textContent="",x>=_.length&&je("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach(function(B,ne){var X=or(B);if(m.appendChild(X),ne===x&&ue(X,k["active-progress-step"]),ne!==_.length-1){var Ne=Hl(l);m.appendChild(Ne)}})}},or=function(c){var l=document.createElement("li");return ue(l,k["progress-step"]),ct(l,c),l},Hl=function(c){var l=document.createElement("li");return ue(l,k["progress-step-line"]),c.progressStepsDistance&&Re(l,"width",c.progressStepsDistance),l},Wl=function(c,l){var m=Js();m&&(bn(m),jr(m,l.title||l.titleText,"block"),l.title&&ir(l.title,m),l.titleText&&(m.innerText=l.titleText),it(m,l,"title"))},uc=function(c,l){oc(c,l),Za(c,l),cc(c,l),Wr(c,l),Xt(c,l),Wl(c,l),Xa(c,l),qi(c,l),Tn(c,l),Hr(c,l);var m=fe();typeof l.didRender=="function"&&m&&l.didRender(m)},Zt=function(){return Le(fe())},lc=function(){var c;return(c=be())===null||c===void 0?void 0:c.click()},Kl=function(){var c;return(c=kt())===null||c===void 0?void 0:c.click()},Kr=function(){var c;return(c=De())===null||c===void 0?void 0:c.click()},Ut=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ho=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Qr=function(c,l,m){ho(c),l.toast||(c.keydownHandler=function(_){return Se(l,_,m)},c.keydownTarget=l.keydownListenerCapture?window:fe(),c.keydownListenerCapture=l.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Cn=function(c,l){var m,_=eo();if(_.length){c=c+l,c===_.length?c=0:c===-1&&(c=_.length-1),_[c].focus();return}(m=fe())===null||m===void 0||m.focus()},fo=["ArrowRight","ArrowDown"],po=["ArrowLeft","ArrowUp"],Se=function(c,l,m){c&&(l.isComposing||l.keyCode===229||(c.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?Ql(l,c):l.key==="Tab"?Yl(l):[].concat(fo,po).includes(l.key)?hc(l.key):l.key==="Escape"&&dc(l,c,m)))},Ql=function(c,l){if(Xn(l.allowEnterKey)){var m=Nt(fe(),l.input);if(c.target&&m&&c.target instanceof HTMLElement&&c.target.outerHTML===m.outerHTML){if(["textarea","file"].includes(l.input))return;lc(),c.preventDefault()}}},Yl=function(c){for(var l=c.target,m=eo(),_=-1,x=0;x<m.length;x++)if(l===m[x]){_=x;break}c.shiftKey?Cn(_,-1):Cn(_,1),c.stopPropagation(),c.preventDefault()},hc=function(c){var l=Fr(),m=be(),_=kt(),x=De();if(!(!l||!m||!_||!x)){var B=[m,_,x];if(!(document.activeElement instanceof HTMLElement&&!B.includes(document.activeElement))){var ne=fo.includes(c)?"nextElementSibling":"previousElementSibling",X=document.activeElement;if(X){for(var Ne=0;Ne<l.children.length;Ne++){if(X=X[ne],!X)return;if(X instanceof HTMLButtonElement&&Le(X))break}X instanceof HTMLButtonElement&&X.focus()}}}},dc=function(c,l,m){Xn(l.allowEscapeKey)&&(c.preventDefault(),m(Ut.esc))},Sn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},$i=function(){var c=rt(),l=Array.from(document.body.children);l.forEach(function(m){m.contains(c)||(m.hasAttribute("aria-hidden")&&m.setAttribute("data-previous-aria-hidden",m.getAttribute("aria-hidden")||""),m.setAttribute("aria-hidden","true"))})},mo=function(){var c=Array.from(document.body.children);c.forEach(function(l){l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},xt=typeof window<"u"&&!!window.GestureEvent,fc=function(){if(xt&&!pt(document.body,k.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),ue(document.body,k.iosfix),Jl()}},Jl=function(){var c=rt();if(c){var l;c.ontouchstart=function(m){l=Yr(m)},c.ontouchmove=function(m){l&&(m.preventDefault(),m.stopPropagation())}}},Yr=function(c){var l=c.target,m=rt(),_=Xs();return!m||!_||pc(c)||go(c)?!1:l===m||!Wa(m)&&l instanceof HTMLElement&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(Wa(_)&&_.contains(l))},pc=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},go=function(c){return c.touches&&c.touches.length>1},zi=function(){if(pt(document.body,k.iosfix)){var c=parseInt(document.body.style.top,10);ut(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},mc=function(){var c=document.createElement("div");c.className=k["scrollbar-measure"],document.body.appendChild(c);var l=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),l},Bt=null,Xl=function(c){Bt===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(Bt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Bt+mc(),"px"))},gc=function(){Bt!==null&&(document.body.style.paddingRight="".concat(Bt,"px"),Bt=null)};function ar(g,c,l,m){rr()?en(g,m):(Ws(l).then(function(){return en(g,m)}),ho(Y)),xt?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),to()&&(gc(),zi(),mo()),vc()}function vc(){ut([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function jt(g){g=Hi(g);var c=Sn.swalPromiseResolve.get(this),l=vo(this);this.isAwaitingPromise?g.isDismissed||(cr(this),c(g)):l&&c(g)}var vo=function(c){var l=fe();if(!l)return!1;var m=we.innerParams.get(c);if(!m||pt(l,m.hideClass.popup))return!1;ut(l,m.showClass.popup),ue(l,m.hideClass.popup);var _=rt();return ut(_,m.showClass.backdrop),ue(_,m.hideClass.backdrop),yc(c,l,m),!0};function Gi(g){var c=Sn.swalPromiseReject.get(this);cr(this),c&&c(g)}var cr=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,we.innerParams.get(c)||c._destroy())},Hi=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},yc=function(c,l,m){var _=rt(),x=bt&&qr(l);typeof m.willClose=="function"&&m.willClose(l),x?wc(c,l,_,m.returnFocus,m.didClose):ar(c,_,m.returnFocus,m.didClose)},wc=function(c,l,m,_,x){bt&&(Y.swalCloseEventFinishedCallback=ar.bind(null,c,m,_,x),l.addEventListener(bt,function(B){B.target===l&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback)}))},en=function(c,l){setTimeout(function(){typeof l=="function"&&l.bind(c.params)(),c._destroy&&c._destroy()})},Rn=function(c){var l=fe();if(l||new Sc,l=fe(),!!l){var m=En();rr()?ke(er()):_c(l,c),Ve(m),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()}},_c=function(c,l){var m=Fr(),_=En();!m||!_||(!l&&Le(be())&&(l=be()),Ve(m),l&&(ke(l),_.setAttribute("data-button-to-replace",l.className),m.insertBefore(_,l)),ue([c,m],k.loading))},Ic=function(c,l){l.input==="select"||l.input==="radio"?Tc(c,l):["text","email","number","tel","textarea"].some(function(m){return m===l.input})&&(Mr(l.inputValue)||Vr(l.inputValue))&&(Rn(be()),ur(c,l))},Ec=function(c,l){var m=c.getInput();if(!m)return null;switch(l.input){case"checkbox":return Wi(m);case"radio":return mt(m);case"file":return bc(m);default:return l.inputAutoTrim?m.value.trim():m.value}},Wi=function(c){return c.checked?1:0},mt=function(c){return c.checked?c.value:null},bc=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},Tc=function(c,l){var m=fe();if(m){var _=function(B){l.input==="select"?a(m,p(B),l):l.input==="radio"&&h(m,p(B),l)};Mr(l.inputOptions)||Vr(l.inputOptions)?(Rn(be()),In(l.inputOptions).then(function(x){c.hideLoading(),_(x)})):Te(l.inputOptions)==="object"?_(l.inputOptions):_n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Te(l.inputOptions)))}},ur=function(c,l){var m=c.getInput();m&&(ke(m),In(l.inputValue).then(function(_){m.value=l.input==="number"?"".concat(parseFloat(_)||0):"".concat(_),Ve(m),m.focus(),c.hideLoading()}).catch(function(_){_n("Error in inputValue promise: ".concat(_)),m.value="",Ve(m),m.focus(),c.hideLoading()}))};function a(g,c,l){var m=Ft(g,k.select);if(m){var _=function(B,ne,X){var Ne=document.createElement("option");Ne.value=X,ct(Ne,ne),Ne.selected=y(X,l.inputValue),B.appendChild(Ne)};c.forEach(function(x){var B=x[0],ne=x[1];if(Array.isArray(ne)){var X=document.createElement("optgroup");X.label=B,X.disabled=!1,m.appendChild(X),ne.forEach(function(Ne){return _(X,Ne[1],Ne[0])})}else _(m,ne,B)}),m.focus()}}function h(g,c,l){var m=Ft(g,k.radio);if(m){c.forEach(function(x){var B=x[0],ne=x[1],X=document.createElement("input"),Ne=document.createElement("label");X.type="radio",X.name=k.radio,X.value=B,y(B,l.inputValue)&&(X.checked=!0);var wo=document.createElement("span");ct(wo,ne),wo.className=k.label,Ne.appendChild(X),Ne.appendChild(wo),m.appendChild(Ne)});var _=m.querySelectorAll("input");_.length&&_[0].focus()}}var p=function g(c){var l=[];return c instanceof Map?c.forEach(function(m,_){var x=m;Te(x)==="object"&&(x=g(x)),l.push([_,x])}):Object.keys(c).forEach(function(m){var _=c[m];Te(_)==="object"&&(_=g(_)),l.push([m,_])}),l},y=function(c,l){return!!l&&l.toString()===c.toString()},P=void 0,N=function(c){var l=we.innerParams.get(c);c.disableButtons(),l.input?qe(c,"confirm"):gt(c,!0)},U=function(c){var l=we.innerParams.get(c);c.disableButtons(),l.returnInputValueOnDeny?qe(c,"deny"):$e(c,!1)},_e=function(c,l){c.disableButtons(),l(Ut.cancel)},qe=function(c,l){var m=we.innerParams.get(c);if(!m.input){_n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Qs(l)));return}var _=c.getInput(),x=Ec(c,m);m.inputValidator?le(c,x,l):_&&!_.checkValidity()?(c.enableButtons(),c.showValidationMessage(m.validationMessage||_.validationMessage)):l==="deny"?$e(c,x):gt(c,x)},le=function(c,l,m){var _=we.innerParams.get(c);c.disableInput();var x=Promise.resolve().then(function(){return In(_.inputValidator(l,_.validationMessage))});x.then(function(B){c.enableButtons(),c.enableInput(),B?c.showValidationMessage(B):m==="deny"?$e(c,l):gt(c,l)})},$e=function(c,l){var m=we.innerParams.get(c||P);if(m.showLoaderOnDeny&&Rn(kt()),m.preDeny){c.isAwaitingPromise=!0;var _=Promise.resolve().then(function(){return In(m.preDeny(l,m.validationMessage))});_.then(function(x){x===!1?(c.hideLoading(),cr(c)):c.close({isDenied:!0,value:typeof x>"u"?l:x})}).catch(function(x){return Pn(c||P,x)})}else c.close({isDenied:!0,value:l})},Ke=function(c,l){c.close({isConfirmed:!0,value:l})},Pn=function(c,l){c.rejectPromise(l)},gt=function(c,l){var m=we.innerParams.get(c||P);if(m.showLoaderOnConfirm&&Rn(),m.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var _=Promise.resolve().then(function(){return In(m.preConfirm(l,m.validationMessage))});_.then(function(x){Le(tr())||x===!1?(c.hideLoading(),cr(c)):Ke(c,typeof x>"u"?l:x)}).catch(function(x){return Pn(c||P,x)})}else Ke(c,l)};function Dn(){var g=we.innerParams.get(this);if(g){var c=we.domCache.get(this);ke(c.loader),rr()?g.icon&&Ve(er()):yo(c),ut([c.popup,c.actions],k.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var yo=function(c){var l=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));l.length?Ve(l[0],"inline-block"):Ll()&&ke(c.actions)};function ag(){var g=we.innerParams.get(this),c=we.domCache.get(this);return c?Nt(c.popup,g.input):null}function cg(g,c,l){var m=we.domCache.get(g);c.forEach(function(_){m[_].disabled=l})}function ug(g,c){var l=fe();if(!(!l||!g))if(g.type==="radio")for(var m=l.querySelectorAll('[name="'.concat(k.radio,'"]')),_=0;_<m.length;_++)m[_].disabled=c;else g.disabled=c}function lg(){cg(this,["confirmButton","denyButton","cancelButton"],!1)}function hg(){cg(this,["confirmButton","denyButton","cancelButton"],!0)}function dg(){ug(this.getInput(),!1)}function fg(){ug(this.getInput(),!0)}function pg(g){var c=we.domCache.get(this),l=we.innerParams.get(this);ct(c.validationMessage,g),c.validationMessage.className=k["validation-message"],l.customClass&&l.customClass.validationMessage&&ue(c.validationMessage,l.customClass.validationMessage),Ve(c.validationMessage);var m=this.getInput();m&&(m.setAttribute("aria-invalid","true"),m.setAttribute("aria-describedby",k["validation-message"]),ro(m),ue(m,k.inputerror))}function mg(){var g=we.domCache.get(this);g.validationMessage&&ke(g.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),ut(c,k.inputerror))}var Ki={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yE=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wE={allowEnterKey:void 0},_E=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],gg=function(c){return Object.prototype.hasOwnProperty.call(Ki,c)},vg=function(c){return yE.indexOf(c)!==-1},yg=function(c){return wE[c]},IE=function(c){gg(c)||je('Unknown parameter "'.concat(c,'"'))},EE=function(c){_E.includes(c)&&je('The parameter "'.concat(c,'" is incompatible with toasts'))},bE=function(c){var l=yg(c);l&&Or(c,l)},TE=function(c){c.backdrop===!1&&c.allowOutsideClick&&je('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var l in c)IE(l),c.toast&&EE(l),bE(l)};function wg(g){var c=fe(),l=we.innerParams.get(this);if(!c||pt(c,l.hideClass.popup)){je("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var m=AE(g),_=Object.assign({},l,m);uc(this,_),we.innerParams.set(this,_),Object.defineProperties(this,{params:{value:Object.assign({},this.params,g),writable:!1,enumerable:!0}})}var AE=function(c){var l={};return Object.keys(c).forEach(function(m){vg(m)?l[m]=c[m]:je("Invalid parameter to update: ".concat(m))}),l};function _g(){var g=we.domCache.get(this),c=we.innerParams.get(this);if(!c){Ig(this);return}g.popup&&Y.swalCloseEventFinishedCallback&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),CE(this)}var CE=function(c){Ig(c),delete c.params,delete Y.keydownHandler,delete Y.keydownTarget,delete Y.currentInstance},Ig=function(c){c.isAwaitingPromise?(Zl(we,c),c.isAwaitingPromise=!0):(Zl(Sn,c),Zl(we,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},Zl=function(c,l){for(var m in c)c[m].delete(l)},SE=Object.freeze({__proto__:null,_destroy:_g,close:jt,closeModal:jt,closePopup:jt,closeToast:jt,disableButtons:hg,disableInput:fg,disableLoading:Dn,enableButtons:lg,enableInput:dg,getInput:ag,handleAwaitingPromise:cr,hideLoading:Dn,rejectPromise:Gi,resetValidationMessage:mg,showValidationMessage:pg,update:wg}),RE=function(c,l,m){c.toast?PE(c,l,m):(kE(l),NE(l),xE(c,l,m))},PE=function(c,l,m){l.popup.onclick=function(){c&&(DE(c)||c.timer||c.input)||m(Ut.close)}},DE=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},Ac=!1,kE=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(l){c.container.onmouseup=function(){},l.target===c.container&&(Ac=!0)}}},NE=function(c){c.container.onmousedown=function(l){l.target===c.container&&l.preventDefault(),c.popup.onmouseup=function(m){c.popup.onmouseup=function(){},(m.target===c.popup||m.target instanceof HTMLElement&&c.popup.contains(m.target))&&(Ac=!0)}}},xE=function(c,l,m){l.container.onclick=function(_){if(Ac){Ac=!1;return}_.target===l.container&&Xn(c.allowOutsideClick)&&m(Ut.backdrop)}},OE=function(c){return Te(c)==="object"&&c.jquery},Eg=function(c){return c instanceof Element||OE(c)},ME=function(c){var l={};return Te(c[0])==="object"&&!Eg(c[0])?Object.assign(l,c[0]):["title","html","icon"].forEach(function(m,_){var x=c[_];typeof x=="string"||Eg(x)?l[m]=x:x!==void 0&&_n("Unexpected type of ".concat(m,'! Expected "string" or "Element", got ').concat(Te(x)))}),l};function VE(){for(var g=this,c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];return w(g,l)}function LE(g){var c=function(l){function m(){return u(this,m),s(this,m,arguments)}return Q(m,l),O(m,[{key:"_main",value:function(x,B){return j(V(m.prototype),"_main",this).call(this,x,Object.assign({},g,B))}}])}(this);return c}var FE=function(){return Y.timeout&&Y.timeout.getTimerLeft()},bg=function(){if(Y.timeout)return io(),Y.timeout.stop()},Tg=function(){if(Y.timeout){var c=Y.timeout.start();return Bi(c),c}},UE=function(){var c=Y.timeout;return c&&(c.running?bg():Tg())},BE=function(c){if(Y.timeout){var l=Y.timeout.increase(c);return Bi(l,!0),l}},jE=function(){return!!(Y.timeout&&Y.timeout.isRunning())},Ag=!1,eh={};function qE(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";eh[g]=this,Ag||(document.body.addEventListener("click",$E),Ag=!0)}var $E=function(c){for(var l=c.target;l&&l!==document;l=l.parentNode)for(var m in eh){var _=l.getAttribute(m);if(_){eh[m].fire({template:_});return}}},zE=Object.freeze({__proto__:null,argsToParams:ME,bindClickHandler:qE,clickCancel:Kr,clickConfirm:lc,clickDeny:Kl,enableLoading:Rn,fire:VE,getActions:Fr,getCancelButton:De,getCloseButton:Ui,getConfirmButton:be,getContainer:rt,getDenyButton:kt,getFocusableElements:eo,getFooter:nr,getHtmlContainer:Xs,getIcon:er,getIconContent:Ys,getImage:Fi,getInputLabel:za,getLoader:En,getPopup:fe,getProgressSteps:Lr,getTimerLeft:FE,getTimerProgressBar:Ur,getTitle:Js,getValidationMessage:tr,increaseTimer:BE,isDeprecatedParameter:yg,isLoading:Ga,isTimerRunning:jE,isUpdatableParameter:vg,isValidParameter:gg,isVisible:Zt,mixin:LE,resumeTimer:Tg,showLoading:Rn,stopTimer:bg,toggleTimer:UE}),GE=function(){function g(c,l){u(this,g),this.callback=c,this.remaining=l,this.running=!1,this.start()}return O(g,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(l){var m=this.running;return m&&this.stop(),this.remaining+=l,m&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Cg=["swal-title","swal-html","swal-footer"],HE=function(c){var l=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!l)return{};var m=l.content;eb(m);var _=Object.assign(WE(m),KE(m),QE(m),YE(m),JE(m),XE(m),ZE(m,Cg));return _},WE=function(c){var l={},m=Array.from(c.querySelectorAll("swal-param"));return m.forEach(function(_){Jr(_,["name","value"]);var x=_.getAttribute("name"),B=_.getAttribute("value");!x||!B||(typeof Ki[x]=="boolean"?l[x]=B!=="false":Te(Ki[x])==="object"?l[x]=JSON.parse(B):l[x]=B)}),l},KE=function(c){var l={},m=Array.from(c.querySelectorAll("swal-function-param"));return m.forEach(function(_){var x=_.getAttribute("name"),B=_.getAttribute("value");!x||!B||(l[x]=new Function("return ".concat(B))())}),l},QE=function(c){var l={},m=Array.from(c.querySelectorAll("swal-button"));return m.forEach(function(_){Jr(_,["type","color","aria-label"]);var x=_.getAttribute("type");!x||!["confirm","cancel","deny"].includes(x)||(l["".concat(x,"ButtonText")]=_.innerHTML,l["show".concat(Qs(x),"Button")]=!0,_.hasAttribute("color")&&(l["".concat(x,"ButtonColor")]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(l["".concat(x,"ButtonAriaLabel")]=_.getAttribute("aria-label")))}),l},YE=function(c){var l={},m=c.querySelector("swal-image");return m&&(Jr(m,["src","width","height","alt"]),m.hasAttribute("src")&&(l.imageUrl=m.getAttribute("src")||void 0),m.hasAttribute("width")&&(l.imageWidth=m.getAttribute("width")||void 0),m.hasAttribute("height")&&(l.imageHeight=m.getAttribute("height")||void 0),m.hasAttribute("alt")&&(l.imageAlt=m.getAttribute("alt")||void 0)),l},JE=function(c){var l={},m=c.querySelector("swal-icon");return m&&(Jr(m,["type","color"]),m.hasAttribute("type")&&(l.icon=m.getAttribute("type")),m.hasAttribute("color")&&(l.iconColor=m.getAttribute("color")),l.iconHtml=m.innerHTML),l},XE=function(c){var l={},m=c.querySelector("swal-input");m&&(Jr(m,["type","label","placeholder","value"]),l.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(l.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(l.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(l.inputValue=m.getAttribute("value")));var _=Array.from(c.querySelectorAll("swal-input-option"));return _.length&&(l.inputOptions={},_.forEach(function(x){Jr(x,["value"]);var B=x.getAttribute("value");if(B){var ne=x.innerHTML;l.inputOptions[B]=ne}})),l},ZE=function(c,l){var m={};for(var _ in l){var x=l[_],B=c.querySelector(x);B&&(Jr(B,[]),m[x.replace(/^swal-/,"")]=B.innerHTML.trim())}return m},eb=function(c){var l=Cg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(m){var _=m.tagName.toLowerCase();l.includes(_)||je("Unrecognized element <".concat(_,">"))})},Jr=function(c,l){Array.from(c.attributes).forEach(function(m){l.indexOf(m.name)===-1&&je(['Unrecognized attribute "'.concat(m.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(l.length?"Allowed attributes are: ".concat(l.join(", ")):"To set the value, use HTML within the element.")])})},Sg=10,tb=function(c){var l=rt(),m=fe();typeof c.willOpen=="function"&&c.willOpen(m);var _=window.getComputedStyle(document.body),x=_.overflowY;sb(l,m,c),setTimeout(function(){rb(l,m)},Sg),to()&&(ib(l,c.scrollbarPadding,x),$i()),!rr()&&!Y.previousActiveElement&&(Y.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(m)}),ut(l,k["no-transition"])},nb=function g(c){var l=fe();if(!(c.target!==l||!bt)){var m=rt();l.removeEventListener(bt,g),m.style.overflowY="auto"}},rb=function(c,l){bt&&qr(l)?(c.style.overflowY="hidden",l.addEventListener(bt,nb)):c.style.overflowY="auto"},ib=function(c,l,m){fc(),l&&m!=="hidden"&&Xl(m),setTimeout(function(){c.scrollTop=0})},sb=function(c,l,m){ue(c,m.showClass.backdrop),m.animation?(l.style.setProperty("opacity","0","important"),Ve(l,"grid"),setTimeout(function(){ue(l,m.showClass.popup),l.style.removeProperty("opacity")},Sg)):Ve(l,"grid"),ue([document.documentElement,document.body],k.shown),m.heightAuto&&m.backdrop&&!m.toast&&ue([document.documentElement,document.body],k["height-auto"])},Rg={email:function(c,l){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid email address")},url:function(c,l){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid URL")}};function ob(g){g.inputValidator||(g.input==="email"&&(g.inputValidator=Rg.email),g.input==="url"&&(g.inputValidator=Rg.url))}function ab(g){(!g.target||typeof g.target=="string"&&!document.querySelector(g.target)||typeof g.target!="string"&&!g.target.appendChild)&&(je('Target parameter is not valid, defaulting to "body"'),g.target="body")}function cb(g){ob(g),g.showLoaderOnConfirm&&!g.preConfirm&&je(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ab(g),typeof g.title=="string"&&(g.title=g.title.split(`
`).join("<br />")),Fl(g)}var tn,Cc=new WeakMap,Fe=function(){function g(){if(u(this,g),f(this,Cc,void 0),!(typeof window>"u")){tn=this;for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];var _=Object.freeze(this.constructor.argsToParams(l));this.params=_,this.isAwaitingPromise=!1,v(Cc,this,this._main(tn.params))}}return O(g,[{key:"_main",value:function(l){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(TE(Object.assign({},m,l)),Y.currentInstance){var _=Sn.swalPromiseResolve.get(Y.currentInstance),x=Y.currentInstance.isAwaitingPromise;Y.currentInstance._destroy(),x||_({isDismissed:!0}),to()&&mo()}Y.currentInstance=tn;var B=lb(l,m);cb(B),Object.freeze(B),Y.timeout&&(Y.timeout.stop(),delete Y.timeout),clearTimeout(Y.restoreFocusTimeout);var ne=hb(tn);return uc(tn,B),we.innerParams.set(tn,B),ub(tn,ne,B)}},{key:"then",value:function(l){return d(Cc,this).then(l)}},{key:"finally",value:function(l){return d(Cc,this).finally(l)}}])}(),ub=function(c,l,m){return new Promise(function(_,x){var B=function(X){c.close({isDismissed:!0,dismiss:X})};Sn.swalPromiseResolve.set(c,_),Sn.swalPromiseReject.set(c,x),l.confirmButton.onclick=function(){N(c)},l.denyButton.onclick=function(){U(c)},l.cancelButton.onclick=function(){_e(c,B)},l.closeButton.onclick=function(){B(Ut.close)},RE(m,l,B),Qr(Y,m,B),Ic(c,m),tb(m),db(Y,m,B),fb(l,m),setTimeout(function(){l.container.scrollTop=0})})},lb=function(c,l){var m=HE(c),_=Object.assign({},Ki,l,m,c);return _.showClass=Object.assign({},Ki.showClass,_.showClass),_.hideClass=Object.assign({},Ki.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},hb=function(c){var l={popup:fe(),container:rt(),actions:Fr(),confirmButton:be(),denyButton:kt(),cancelButton:De(),loader:En(),closeButton:Ui(),validationMessage:tr(),progressSteps:Lr()};return we.domCache.set(c,l),l},db=function(c,l,m){var _=Ur();ke(_),l.timer&&(c.timeout=new GE(function(){m("timer"),delete c.timeout},l.timer),l.timerProgressBar&&(Ve(_),it(_,l,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&Bi(l.timer)})))},fb=function(c,l){if(!l.toast){if(!Xn(l.allowEnterKey)){Or("allowEnterKey"),gb();return}pb(c)||mb(c,l)||Cn(-1,1)}},pb=function(c){var l=c.popup.querySelectorAll("[autofocus]"),m=L(l),_;try{for(m.s();!(_=m.n()).done;){var x=_.value;if(x instanceof HTMLElement&&Le(x))return x.focus(),!0}}catch(B){m.e(B)}finally{m.f()}return!1},mb=function(c,l){return l.focusDeny&&Le(c.denyButton)?(c.denyButton.focus(),!0):l.focusCancel&&Le(c.cancelButton)?(c.cancelButton.focus(),!0):l.focusConfirm&&Le(c.confirmButton)?(c.confirmButton.focus(),!0):!1},gb=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Pg=new Date,Dg=localStorage.getItem("swal-initiation");Dg?(Pg.getTime()-Date.parse(Dg))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var g=document.createElement("audio");g.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",g.loop=!0,document.body.appendChild(g),setTimeout(function(){g.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Pg))}Fe.prototype.disableButtons=hg,Fe.prototype.enableButtons=lg,Fe.prototype.getInput=ag,Fe.prototype.disableInput=fg,Fe.prototype.enableInput=dg,Fe.prototype.hideLoading=Dn,Fe.prototype.disableLoading=Dn,Fe.prototype.showValidationMessage=pg,Fe.prototype.resetValidationMessage=mg,Fe.prototype.close=jt,Fe.prototype.closePopup=jt,Fe.prototype.closeModal=jt,Fe.prototype.closeToast=jt,Fe.prototype.rejectPromise=Gi,Fe.prototype.update=wg,Fe.prototype._destroy=_g,Object.assign(Fe,zE),Object.keys(SE).forEach(function(g){Fe[g]=function(){if(tn&&tn[g]){var c;return(c=tn)[g].apply(c,arguments)}return null}}),Fe.DismissReason=Ut,Fe.version="11.12.3";var Sc=Fe;return Sc.default=Sc,Sc});typeof hn<"u"&&hn.Sweetalert2&&(hn.swal=hn.sweetAlert=hn.Swal=hn.SweetAlert=hn.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Rh=class extends uv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ph=class n extends Rh{static makeCurrent(){cv(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_b();return t==null?null:Ib(t)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lv(document.cookie,e)}},So=null;function _b(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}function Ib(n){return new URL(n,document.baseURI).pathname}var Eb=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),Vc=new Ae(""),vv=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new xe(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ve(Vc),ve(It))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),Ro=class{constructor(e){this._doc=e}},Ch="ng-app-id",yv=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ah(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ch}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ch),o;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Ch,this.appId),r.appendChild(u),u}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,u=o.get(i)?.elements;u?u.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ve(zt),ve(mh),ve(gh,8),ve(ni))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),Sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kh=/%COMP%/g,wv="%COMP%",bb=`_nghost-${wv}`,Tb=`_ngcontent-${wv}`,Ab=!0,Cb=new Ae("",{providedIn:"root",factory:()=>Ab});function Sb(n){return Tb.replace(kh,n)}function Rb(n){return bb.replace(kh,n)}function _v(n,e){return e.map(t=>t.replace(kh,n))}var pv=(()=>{let e=class e{constructor(r,i,s,o,u,d,f,v=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=u,this.platformId=d,this.ngZone=f,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=Ah(d),this.defaultRenderer=new Po(r,u,f,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Eo.ShadowDom&&(i=Ie(q({},i),{encapsulation:Eo.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Lc?s.applyToHost(r):s instanceof Do&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let u=this.doc,d=this.ngZone,f=this.eventManager,v=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(i.encapsulation){case Eo.Emulated:o=new Lc(f,v,i,this.appId,w,u,d,A);break;case Eo.ShadowDom:return new Dh(f,v,r,i,u,d,this.nonce,A);default:o=new Do(f,v,i,w,u,d,A);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ve(vv),ve(yv),ve(mh),ve(Cb),ve(zt),ve(ni),ve(It),ve(gh))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),Po=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Sh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mv(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mv(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new xe(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Sh[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Sh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bo.DashCase|bo.Important)?e.style.setProperty(t,r,i&bo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ts().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function mv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dh=class extends Po{constructor(e,t,r,i,s,o,u,d){super(e,s,o,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=_v(i.id,i.styles);for(let v of f){let w=document.createElement("style");u&&w.setAttribute("nonce",u),w.textContent=v,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Do=class extends Po{constructor(e,t,r,i,s,o,u,d){super(e,s,o,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=d?_v(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Lc=class extends Do{constructor(e,t,r,i,s,o,u,d){let f=i+"-"+r.id;super(e,t,r,s,o,u,d,f),this.contentAttr=Sb(f),this.hostAttr=Rb(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Pb=(()=>{let e=class e extends Ro{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ve(zt))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),Db=(()=>{let e=class e extends Ro{constructor(r){super(r),this.delegate=se(av,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ve(zt))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})(),gv=["alt","control","meta","shift"],kb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nb={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xb=(()=>{let e=class e extends Ro{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),u=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ts().onAndCancel(r,o.domEventName,u))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),u="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),u="code."),gv.forEach(v=>{let w=i.indexOf(v);w>-1&&(i.splice(w,1),u+=v+".")}),u+=o,i.length!=0||o.length===0)return null;let f={};return f.domEventName=s,f.fullKey=u,f}static matchEventFullKeyCode(r,i){let s=kb[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),gv.forEach(u=>{if(u!==s){let d=Nb[u];d(r)&&(o+=u+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ve(zt))},e.\u0275prov=de({token:e,factory:e.\u0275fac});let n=e;return n})();function uN(n,e){return ov(q({rootComponent:n},Ob(e)))}function Ob(n){return{appProviders:[...Ub,...n?.providers??[]],platformProviders:Fb}}function Mb(){Ph.makeCurrent()}function Vb(){return new ph}function Lb(){return Wg(document),document}var Fb=[{provide:ni,useValue:dv},{provide:Kg,useValue:Mb,multi:!0},{provide:zt,useFactory:Lb,deps:[]}];var Ub=[{provide:qg,useValue:"root"},{provide:ph,useFactory:Vb,deps:[]},{provide:Vc,useClass:Pb,multi:!0,deps:[zt,It,ni]},{provide:Vc,useClass:xb,multi:!0,deps:[zt]},{provide:Vc,useClass:Db,multi:!0},pv,yv,vv,{provide:Yg,useExisting:pv},{provide:fv,useClass:Eb,deps:[]},[]];var Iv=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ve(zt))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var kv=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(oe(To),oe(ti))},e.\u0275dir=Ze({type:e});let n=e;return n})(),Hc=(()=>{let e=class e extends kv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,features:[At]});let n=e;return n})(),os=new Ae(""),jb={provide:os,useExisting:kn(()=>qb),multi:!0},qb=(()=>{let e=class e extends Hc{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&$t("change",function(u){return s.onChange(u.target.checked)})("blur",function(){return s.onTouched()})},features:[sn([jb]),At]});let n=e;return n})(),$b={provide:os,useExisting:kn(()=>Nv),multi:!0};function zb(){let n=ts()?ts().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Gb=new Ae(""),Nv=(()=>{let e=class e extends kv{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zb())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(oe(To),oe(ti),oe(Gb,8))},e.\u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&$t("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[sn([$b]),At]});let n=e;return n})();function vr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function xv(n){return n!=null&&typeof n.length=="number"}var Wc=new Ae(""),Kc=new Ae(""),Hb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ev=class{static min(e){return Wb(e)}static max(e){return Kb(e)}static required(e){return Qb(e)}static requiredTrue(e){return Yb(e)}static email(e){return Jb(e)}static minLength(e){return Xb(e)}static maxLength(e){return Zb(e)}static pattern(e){return eT(e)}static nullValidator(e){return Ov(e)}static compose(e){return Bv(e)}static composeAsync(e){return jv(e)}};function Wb(n){return e=>{if(vr(e.value)||vr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Kb(n){return e=>{if(vr(e.value)||vr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Qb(n){return vr(n.value)?{required:!0}:null}function Yb(n){return n.value===!0?null:{required:!0}}function Jb(n){return vr(n.value)||Hb.test(n.value)?null:{email:!0}}function Xb(n){return e=>vr(e.value)||!xv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Zb(n){return e=>xv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function eT(n){if(!n)return Ov;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ov(n){return null}function Mv(n){return n!=null}function Vv(n){return Oc(n)?wt(n):n}function Lv(n){let e={};return n.forEach(t=>{e=t!=null?q(q({},e),t):e}),Object.keys(e).length===0?null:e}function Fv(n,e){return e.map(t=>t(n))}function tT(n){return!n.validate}function Uv(n){return n.map(e=>tT(e)?e:t=>e.validate(t))}function Bv(n){if(!n)return null;let e=n.filter(Mv);return e.length==0?null:function(t){return Lv(Fv(t,e))}}function Lh(n){return n!=null?Bv(Uv(n)):null}function jv(n){if(!n)return null;let e=n.filter(Mv);return e.length==0?null:function(t){let r=Fv(t,e).map(Vv);return Lg(r).pipe(me(Lv))}}function Fh(n){return n!=null?jv(Uv(n)):null}function bv(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qv(n){return n._rawValidators}function $v(n){return n._rawAsyncValidators}function Nh(n){return n?Array.isArray(n)?n:[n]:[]}function Uc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Tv(n,e){let t=Nh(e);return Nh(n).forEach(i=>{Uc(t,i)||t.push(i)}),t}function Av(n,e){return Nh(e).filter(t=>!Uc(n,t))}var Bc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Vn=class extends Bc{get formDirective(){return null}get path(){return null}},ii=class extends Bc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CN=Ie(q({},nT),{"[class.ng-submitted]":"isSubmitted"}),SN=(()=>{let e=class e extends jc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(oe(ii,2))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&_h("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[At]});let n=e;return n})(),RN=(()=>{let e=class e extends jc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(oe(Vn,10))},e.\u0275dir=Ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&_h("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[At]});let n=e;return n})();var ko="VALID",Fc="INVALID",ns="PENDING",No="DISABLED",yr=class{},qc=class extends yr{constructor(e,t){super(),this.value=e,this.source=t}},Oo=class extends yr{constructor(e,t){super(),this.pristine=e,this.source=t}},Mo=class extends yr{constructor(e,t){super(),this.touched=e,this.source=t}},rs=class extends yr{constructor(e,t){super(),this.status=e,this.source=t}},xh=class extends yr{constructor(e){super(),this.source=e}},Oh=class extends yr{constructor(e){super(),this.source=e}};function Uh(n){return(Qc(n)?n.validators:n)||null}function rT(n){return Array.isArray(n)?Lh(n):n||null}function Bh(n,e){return(Qc(e)?e.asyncValidators:n)||null}function iT(n){return Array.isArray(n)?Fh(n):n||null}function Qc(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function zv(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")}function Gv(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new xe(1002,"")})}var is=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=es(()=>this.statusReactive()),this.statusReactive=Ji(void 0),this._pristine=es(()=>this.pristineReactive()),this.pristineReactive=Ji(!0),this._touched=es(()=>this.touchedReactive()),this.touchedReactive=Ji(!1),this._events=new nn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mn(this.statusReactive)}set status(e){Mn(()=>this.statusReactive.set(e))}get valid(){return this.status===ko}get invalid(){return this.status===Fc}get pending(){return this.status==ns}get disabled(){return this.status===No}get enabled(){return this.status!==No}get pristine(){return Mn(this.pristineReactive)}set pristine(e){Mn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Mn(this.touchedReactive)}set touched(e){Mn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Av(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Av(e,this._rawAsyncValidators))}hasValidator(e){return Uc(this._rawValidators,e)}hasAsyncValidator(e){return Uc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ie(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Mo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Mo(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ie(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oo(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oo(!0,r))}markAsPending(e={}){this.status=ns;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ie(q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=No,this.errors=null,this._forEachChild(i=>{i.disable(Ie(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qc(this.value,r)),this._events.next(new rs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ko,this._forEachChild(r=>{r.enable(Ie(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ko||this.status===ns)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qc(this.value,t)),this._events.next(new rs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ie(q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?No:ko}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Vv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new rs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?No:this.errors?Fc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(Fc)?Fc:ko}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oo(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Mo(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rT(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iT(this._rawAsyncValidators)}},ss=class extends is{constructor(e,t,r){super(Uh(t),Bh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Gv(this,!0,e),Object.keys(e).forEach(r=>{zv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Mh=class extends ss{};var Lo=new Ae("CallSetDisabledState",{providedIn:"root",factory:()=>Yc}),Yc="always";function Hv(n,e){return[...e.path,n]}function $c(n,e,t=Yc){jh(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),oT(n,e),cT(n,e),aT(n,e),sT(n,e)}function Cv(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sT(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jh(n,e){let t=qv(n);e.validator!==null?n.setValidators(bv(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=$v(n);e.asyncValidator!==null?n.setAsyncValidators(bv(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();zc(e._rawValidators,i),zc(e._rawAsyncValidators,i)}function Gc(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=qv(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=$v(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return zc(e._rawValidators,r),zc(e._rawAsyncValidators,r),t}function oT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Wv(n,e)})}function aT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Wv(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Wv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cT(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Kv(n,e){n==null,jh(n,e)}function uT(n,e){return Gc(n,e)}function Qv(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function lT(n){return Object.getPrototypeOf(n.constructor)===Hc}function Yv(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jv(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Nv?t=s:lT(s)?r=s:i=s}),i||r||t||null}function hT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var dT={provide:Vn,useExisting:kn(()=>fT)},xo=Promise.resolve(),fT=(()=>{let e=class e extends Vn{get submitted(){return Mn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=es(()=>this.submittedReactive()),this.submittedReactive=Ji(!1),this._directives=new Set,this.ngSubmit=new lt,this.form=new ss({},Lh(r),Fh(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xo.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),$c(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xo.then(()=>{let i=this._findContainer(r.path),s=new ss({});Kv(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xo.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),Yv(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(oe(Wc,10),oe(Kc,10),oe(Lo,8))},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&$t("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sn([dT]),At]});let n=e;return n})();function Sv(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rv(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Vo=class extends is{constructor(e=null,t,r){super(Uh(t),Bh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Rv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Rv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pT=n=>n instanceof Vo;var mT={provide:ii,useExisting:kn(()=>gT)},Pv=Promise.resolve(),gT=(()=>{let e=class e extends ii{constructor(r,i,s,o,u,d){super(),this._changeDetectorRef=u,this.callSetDisabledState=d,this.control=new Vo,this._registered=!1,this.name="",this.update=new lt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Jv(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Qv(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Pv.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Zi(i);Pv.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Hv(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(oe(Vn,9),oe(Wc,10),oe(Kc,10),oe(os,10),oe(Co,8),oe(Lo,8))},e.\u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sn([mT]),At,ei]});let n=e;return n})(),DN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),vT={provide:os,useExisting:kn(()=>yT),multi:!0},yT=(()=>{let e=class e extends Hc{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&$t("input",function(u){return s.onChange(u.target.value)})("blur",function(){return s.onTouched()})},features:[sn([vT]),At]});let n=e;return n})();var wT={provide:os,useExisting:kn(()=>_T),multi:!0},_T=(()=>{let e=class e extends Hc{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,s){i&1&&$t("change",function(u){return s.onChange(u.target.value)})("input",function(u){return s.onChange(u.target.value)})("blur",function(){return s.onTouched()})},features:[sn([wT]),At]});let n=e;return n})(),Xv=new Ae("");var IT={provide:Vn,useExisting:kn(()=>ET)},ET=(()=>{let e=class e extends Vn{get submitted(){return Mn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=es(()=>this._submittedReactive()),this._submittedReactive=Ji(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return $c(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Cv(r.control||null,r,!1),hT(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Yv(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new xh(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new Oh(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Cv(i||null,r),pT(s)&&($c(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Kv(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&uT(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jh(this.form,this),this._oldForm&&Gc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(oe(Wc,10),oe(Kc,10),oe(Lo,8))},e.\u0275dir=Ze({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&$t("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sn([IT]),At,ei]});let n=e;return n})();var bT={provide:ii,useExisting:kn(()=>TT)},TT=(()=>{let e=class e extends ii{set isDisabled(r){}constructor(r,i,s,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new lt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Jv(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Qv(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Hv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(oe(Vn,13),oe(Wc,10),oe(Kc,10),oe(os,10),oe(Xv,8))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[sn([bT]),At,ei]});let n=e;return n})();var Zv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pr({type:e}),e.\u0275inj=fr({});let n=e;return n})(),Vh=class extends is{constructor(e,t,r){super(Uh(t),Bh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Gv(this,!1,e),e.forEach((r,i)=>{zv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Dv(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var kN=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return Dv(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ss(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Mh(s,i)}control(r,i,s){let o={};return this.useNonNullable?(Dv(i)?o=i:(o.validators=i,o.asyncValidators=s),new Vo(r,Ie(q({},o),{nonNullable:!0}))):new Vo(r,i,s)}array(r,i,s){let o=r.map(u=>this._createControl(u));return new Vh(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Vo)return r;if(r instanceof is)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ey=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Lo,useValue:r.callSetDisabledState??Yc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pr({type:e}),e.\u0275inj=fr({imports:[Zv]});let n=e;return n})(),NN=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xv,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Lo,useValue:r.callSetDisabledState??Yc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pr({type:e}),e.\u0275inj=fr({imports:[Zv]});let n=e;return n})();var ie="primary",Zo=Symbol("RouteTitle"),Hh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ds(n){return new Hh(n)}function CT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],u=n[s];if(o[0]===":")i[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ST(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!on(n[t],e[t]))return!1;return!0}function on(n,e){let t=n?Wh(n):void 0,r=e?Wh(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!cy(n[i],e[i]))return!1;return!0}function Wh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function uy(n){return n.length>0?n[n.length-1]:null}function wr(n){return Og(n)?n:Oc(n)?wt(Promise.resolve(n)):re(n)}var RT={exact:hy,subset:dy},ly={exact:PT,subset:DT,ignored:()=>!0};function ty(n,e,t){return RT[t.paths](n.root,e.root,t.matrixParams)&&ly[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function PT(n,e){return on(n,e)}function hy(n,e,t){if(!oi(n.segments,e.segments)||!Zc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!hy(n.children[r],e.children[r],t))return!1;return!0}function DT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cy(n[t],e[t]))}function dy(n,e,t){return fy(n,e,e.segments,t)}function fy(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!oi(i,t)||e.hasChildren()||!Zc(i,t,r))}else if(n.segments.length===t.length){if(!oi(n.segments,t)||!Zc(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dy(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!oi(n.segments,i)||!Zc(n.segments,i,r)||!n.children[ie]?!1:fy(n.children[ie],e,s,r)}}function Zc(n,e,t){return e.every((r,i)=>ly[t](n[i].parameters,r.parameters))}var Fn=class{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ds(this.queryParams),this._queryParamMap}toString(){return xT.serialize(this)}},ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eu(this)}},si=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ds(this.parameters),this._parameterMap}toString(){return my(this)}};function kT(n,e){return oi(n,e)&&n.every((t,r)=>on(t.parameters,e[r].parameters))}function oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function NT(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var wd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:()=>new zo,providedIn:"root"});let n=e;return n})(),zo=class{parse(e){let t=new Qh(e);return new Fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Fo(e.root,!0)}`,r=VT(e.queryParams),i=typeof e.fragment=="string"?`#${OT(e.fragment)}`:"";return`${t}${r}${i}`}},xT=new zo;function eu(n){return n.segments.map(e=>my(e)).join("/")}function Fo(n,e){if(!n.hasChildren())return eu(n);if(e){let t=n.children[ie]?Fo(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${Fo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=NT(n,(r,i)=>i===ie?[Fo(n.children[ie],!1)]:[`${i}:${Fo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${eu(n)}/${t[0]}`:`${eu(n)}/(${t.join("//")})`}}function py(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(n){return py(n).replace(/%3B/gi,";")}function OT(n){return encodeURI(n)}function Kh(n){return py(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tu(n){return decodeURIComponent(n)}function ny(n){return tu(n.replace(/\+/g,"%20"))}function my(n){return`${Kh(n.path)}${MT(n.parameters)}`}function MT(n){return Object.entries(n).map(([e,t])=>`;${Kh(e)}=${Kh(t)}`).join("")}function VT(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Jc(t)}=${Jc(i)}`).join("&"):`${Jc(t)}=${Jc(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var LT=/^[^\/()?;#]+/;function qh(n){let e=n.match(LT);return e?e[0]:""}var FT=/^[^\/()?;=#]+/;function UT(n){let e=n.match(FT);return e?e[0]:""}var BT=/^[^=?&#]+/;function jT(n){let e=n.match(BT);return e?e[0]:""}var qT=/^[^&#]+/;function $T(n){let e=n.match(qT);return e?e[0]:""}var Qh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new ye(e,t)),r}parseSegment(){let e=qh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(e),new si(tu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=UT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=qh(this.remaining);i&&(r=i,this.capture(r))}e[tu(t)]=tu(r)}parseQueryParam(e){let t=jT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=$T(this.remaining);o&&(r=o,this.capture(r))}let i=ny(t),s=ny(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new xe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ie]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new xe(4011,!1)}};function gy(n){return n.segments.length>0?new ye([],{[ie]:n}):n}function vy(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=vy(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,u]of Object.entries(s.children))e[o]=u;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ye(n.segments,e);return zT(t)}function zT(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new ye(n.segments.concat(e.segments),e.children)}return n}function ai(n){return n instanceof Fn}function GT(n,e,t=null,r=null){let i=yy(n);return wy(i,e,t,r)}function yy(n){let e;function t(s){let o={};for(let d of s.children){let f=t(d);o[d.outlet]=f}let u=new ye(s.url,o);return s===n&&(e=u),u}let r=t(n.root),i=gy(r);return e??i}function wy(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return $h(i,i,i,t,r);let s=HT(e);if(s.toRoot())return $h(i,i,new ye([],{}),t,r);let o=WT(s,i,n),u=o.processChildren?jo(o.segmentGroup,o.index,s.commands):Iy(o.segmentGroup,o.index,s.commands);return $h(i,o.segmentGroup,u,t,r)}function nu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Go(n){return typeof n=="object"&&n!=null&&n.outlets}function $h(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`});let o;n===e?o=t:o=_y(n,e,t);let u=gy(vy(o));return new Fn(u,s,i)}function _y(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=_y(s,e,t)}),new ye(n.segments,r)}var ru=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nu(r[0]))throw new xe(4003,!1);let i=r.find(Go);if(i&&i!==uy(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ru(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let u={};return Object.entries(s.outlets).forEach(([d,f])=>{u[d]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?t=!0:u===".."?e++:u!=""&&i.push(u))}),i):[...i,s]},[]);return new ru(t,e,r)}var us=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function WT(n,e,t){if(n.isAbsolute)return new us(e,!0,0);if(!t)return new us(e,!1,NaN);if(t.parent===null)return new us(t,!0,0);let r=nu(n.commands[0])?0:1,i=t.segments.length-1+r;return KT(t,i,n.numberOfDoubleDots)}function KT(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new xe(4005,!1);i=r.segments.length}return new us(r,!1,i-s)}function QT(n){return Go(n[0])?n[0].outlets:{[ie]:n}}function Iy(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return jo(n,e,t);let r=YT(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[ie]=new ye(n.segments.slice(r.pathIndex),n.children),jo(s,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?Yh(n,e,t):r.match?jo(n,0,i):Yh(n,e,t)}function jo(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=QT(t),i={};if(Object.keys(r).some(s=>s!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let s=jo(n.children[ie],e,t);return new ye(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Iy(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(n.segments,i)}}function YT(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],u=t[r];if(Go(u))break;let d=`${u}`,f=r<t.length-1?t[r+1]:null;if(i>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!iy(d,f,o))return s;r+=2}else{if(!iy(d,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yh(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Go(s)){let d=JT(s.outlets);return new ye(r,d)}if(i===0&&nu(t[0])){let d=n.segments[e];r.push(new si(d.path,ry(t[0]))),i++;continue}let o=Go(s)?s.outlets[ie]:`${s}`,u=i<t.length-1?t[i+1]:null;o&&u&&nu(u)?(r.push(new si(o,ry(u))),i+=2):(r.push(new si(o,{})),i++)}return new ye(r,{})}function JT(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Yh(new ye([],{}),0,r))}),e}function ry(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function iy(n,e,t){return n==t.path&&on(e,t.parameters)}var qo="imperative",st=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(st||{}),Mt=class{constructor(e,t){this.id=e,this.url=t}},Ho=class extends Mt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Mt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(St||{}),Jh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Jh||{}),Ln=class extends Mt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends Mt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=st.NavigationSkipped}},Wo=class extends Mt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iu=class extends Mt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xh=class extends Mt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends Mt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ed=class extends Mt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},td=class extends Mt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nd=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rd=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},id=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sd=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ad=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ko=class{},fs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function XT(n,e){return n.providers&&!n._injector&&(n._injector=Zg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gt(n){return n.outlet||ie}function ZT(n,e){let t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}function ea(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var cd=class{get injector(){return ea(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new hu(this.rootInjector),this.attachRef=null}},hu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cd(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ve(Dc))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),su=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ud(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ud(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ld(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ld(e,this._root).map(t=>t.value)}};function ud(n,e){if(n===e.value)return e;for(let t of e.children){let r=ud(n,t);if(r)return r}return null}function ld(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ld(n,t);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function cs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ou=class extends su{constructor(e,t){super(e),this.snapshot=t,_d(this,e)}toString(){return this.snapshot.toString()}};function Ey(n){let e=e0(n),t=new yt([new si("",{})]),r=new yt({}),i=new yt({}),s=new yt({}),o=new yt(""),u=new ui(t,r,s,o,i,ie,n,e.root);return u.snapshot=e.root,new ou(new Ct(u,[]),e)}function e0(n){let e={},t={},r={},i="",s=new ls([],e,r,i,t,ie,n,null,{});return new cu("",new Ct(s,[]))}var ui=class{constructor(e,t,r,i,s,o,u,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(me(f=>f[Zo]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>ds(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>ds(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function au(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),n.params),data:q(q({},e.data),n.data),resolve:q(q(q(q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:q({},n.params),data:q({},n.data),resolve:q(q({},n.data),n._resolvedData??{})},i&&Ty(i)&&(r.resolve[Zo]=i.title),r}var ls=class{get title(){return this.data?.[Zo]}constructor(e,t,r,i,s,o,u,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ds(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},cu=class extends su{constructor(e,t){super(t),this.url=e,_d(this,t)}toString(){return by(this._root)}};function _d(n,e){e.value._routerState=n,e.children.forEach(t=>_d(n,t))}function by(n){let e=n.children.length>0?` { ${n.children.map(by).join(", ")} } `:"";return`${n.value}${e}`}function zh(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,on(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),on(e.params,t.params)||n.paramsSubject.next(t.params),ST(e.url,t.url)||n.urlSubject.next(t.url),on(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hd(n,e){let t=on(n.params,e.params)&&kT(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hd(n.parent,e.parent))}function Ty(n){return typeof n.title=="string"||n.title===null}var t0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=se(hu),this.location=se(vh),this.changeDetector=se(Co),this.inputBinder=se(Id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=r;let s=this.location,u=r.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new dd(r,d,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:f,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ei]});let n=e;return n})(),dd=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ui?this.route:e===hu?this.childContexts:this.parent.get(e,t)}},Id=new Ae("");function n0(n,e,t){let r=Qo(n,e._root,t?t._root:void 0);return new ou(r,e)}function Qo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=r0(n,e,t);return new Ct(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(u=>Qo(n,u)),o}}let r=i0(e.value),i=e.children.map(s=>Qo(n,s));return new Ct(r,i)}}function r0(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qo(n,r,i);return Qo(n,r)})}function i0(n){return new ui(new yt(n.url),new yt(n.params),new yt(n.queryParams),new yt(n.fragment),new yt(n.data),n.outlet,n.component,n)}var Yo=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ay="ngNavigationCancelingError";function uu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Cy(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Cy(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ay]=!0,t.cancellationCode=e,t}function s0(n){return Sy(n)&&ai(n.url)}function Sy(n){return!!n&&n[Ay]}var o0=(n,e,t,r)=>me(i=>(new fd(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),fd=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=cs(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=cs(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ad(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(zh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(u.contexts),o.attachRef=u.componentRef,o.route=u.route.value,o.outlet&&o.outlet.attach(u.componentRef,u.route.value),zh(u.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},lu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{constructor(e,t){this.component=e,this.route=t}};function a0(n,e,t){let r=n._root,i=e?e._root:null;return Uo(r,i,t,[r.value])}function c0(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ms(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!jg(n)?n:e.get(n):r}function Uo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=cs(e);return n.children.forEach(o=>{u0(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,u])=>$o(u,t.getContext(o),i)),i}function u0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let d=l0(o,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new lu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Uo(n,e,u?u.children:null,r,i):Uo(n,e,t,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new hs(u.outlet.component,o))}else o&&$o(e,u,i),i.canActivateChecks.push(new lu(r)),s.component?Uo(n,null,u?u.children:null,r,i):Uo(n,null,t,r,i);return i}function l0(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(n.url,e.url)||!on(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hd(n,e)||!on(n.queryParams,e.queryParams);case"paramsChange":default:return!hd(n,e)}}function $o(n,e,t){let r=cs(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?$o(o,e.children.getContext(s),t):$o(o,null,t):$o(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hs(e.outlet.component,i)):t.canDeactivateChecks.push(new hs(null,i)):t.canDeactivateChecks.push(new hs(null,i))}function ta(n){return typeof n=="function"}function h0(n){return typeof n=="boolean"}function d0(n){return n&&ta(n.canLoad)}function f0(n){return n&&ta(n.canActivate)}function p0(n){return n&&ta(n.canActivateChild)}function m0(n){return n&&ta(n.canDeactivate)}function g0(n){return n&&ta(n.canMatch)}function Ry(n){return n instanceof Mg||n?.name==="EmptyError"}var Xc=Symbol("INITIAL_VALUE");function ps(){return rn(n=>ah(n.map(e=>e.pipe(Yi(1),dh(Xc)))).pipe(me(e=>{for(let t of e)if(t!==!0){if(t===Xc)return Xc;if(t===!1||v0(t))return t}return!0}),Zr(e=>e!==Xc),Yi(1)))}function v0(n){return ai(n)||n instanceof Yo}function y0(n,e){return Ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?re(Ie(q({},t),{guardsResult:!0})):w0(o,r,i,n).pipe(Ot(u=>u&&h0(u)?_0(r,s,n,e):re(u)),me(u=>Ie(q({},t),{guardsResult:u})))})}function w0(n,e,t,r){return wt(n).pipe(Ot(i=>A0(i.component,i.route,t,e,r)),dr(i=>i!==!0,!0))}function _0(n,e,t,r){return wt(e).pipe(Io(i=>Vg(E0(i.route.parent,r),I0(i.route,r),T0(n,i.path,t),b0(n,i.route,t))),dr(i=>i!==!0,!0))}function I0(n,e){return n!==null&&e&&e(new od(n)),re(!0)}function E0(n,e){return n!==null&&e&&e(new id(n)),re(!0)}function b0(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(s=>ch(()=>{let o=ea(e)??t,u=ms(s,o),d=f0(u)?u.canActivate(e,n):xn(o,()=>u(e,n));return wr(d).pipe(dr())}));return re(i).pipe(ps())}function T0(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>c0(o)).filter(o=>o!==null).map(o=>ch(()=>{let u=o.guards.map(d=>{let f=ea(o.node)??t,v=ms(d,f),w=p0(v)?v.canActivateChild(r,n):xn(f,()=>v(r,n));return wr(w).pipe(dr())});return re(u).pipe(ps())}));return re(s).pipe(ps())}function A0(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return re(!0);let o=s.map(u=>{let d=ea(e)??i,f=ms(u,d),v=m0(f)?f.canDeactivate(n,e,t,r):xn(d,()=>f(n,e,t,r));return wr(v).pipe(dr())});return re(o).pipe(ps())}function C0(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let s=i.map(o=>{let u=ms(o,n),d=d0(u)?u.canLoad(e,t):xn(n,()=>u(e,t));return wr(d)});return re(s).pipe(ps(),Py(r))}function Py(n){return th(Xe(e=>{if(typeof e!="boolean")throw uu(n,e)}),me(e=>e===!0))}function S0(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let s=i.map(o=>{let u=ms(o,n),d=g0(u)?u.canMatch(e,t):xn(n,()=>u(e,t));return wr(d)});return re(s).pipe(ps(),Py(r))}var Jo=class{constructor(e){this.segmentGroup=e||null}},Xo=class extends Error{constructor(e){super(),this.urlTree=e}};function as(n){return _o(new Jo(n))}function R0(n){return _o(new xe(4e3,!1))}function P0(n){return _o(Cy(!1,St.GuardRejected))}var pd=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[ie])return R0(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let u=t,{queryParams:d,fragment:f,routeConfig:v,url:w,outlet:A,params:O,data:L,title:j}=i,V=xn(s,()=>u({params:O,data:L,queryParams:d,fragment:f,routeConfig:v,url:w,outlet:A,title:j}));if(V instanceof Fn)throw new Xo(V);t=V}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Xo(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Fn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let u=s.substring(1);r[i]=t[u]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([u,d])=>{o[u]=this.createSegmentGroup(e,d,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new xe(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},md={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D0(n,e,t,r,i){let s=Ed(n,e,t);return s.matched?(r=XT(e,r),S0(r,e,t,i).pipe(me(o=>o===!0?s:q({},md)))):re(s)}function Ed(n,e,t){if(e.path==="**")return k0(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?q({},md):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CT)(t,n,e);if(!i)return q({},md);let s={};Object.entries(i.posParams??{}).forEach(([u,d])=>{s[u]=d.path});let o=i.consumed.length>0?q(q({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function k0(n){return{matched:!0,parameters:n.length>0?uy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sy(n,e,t,r){return t.length>0&&O0(n,t,r)?{segmentGroup:new ye(e,x0(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&M0(n,t,r)?{segmentGroup:new ye(n.segments,N0(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function N0(n,e,t,r){let i={};for(let s of t)if(du(n,e,s)&&!r[Gt(s)]){let o=new ye([],{});i[Gt(s)]=o}return q(q({},r),i)}function x0(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Gt(r)!==ie){let i=new ye([],{});t[Gt(r)]=i}return t}function O0(n,e,t){return t.some(r=>du(n,e,r)&&Gt(r)!==ie)}function M0(n,e,t){return t.some(r=>du(n,e,r))}function du(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function V0(n,e,t,r){return Gt(n)!==r&&(r===ie||!du(e,t,n))?!1:Ed(e,n,t).matched}function L0(n,e,t){return e.length===0&&!n.children[t]}var gd=class{};function F0(n,e,t,r,i,s,o="emptyOnly"){return new vd(n,e,t,r,i,o,s).recognize()}var U0=31,vd=class{constructor(e,t,r,i,s,o,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=u,this.applyRedirects=new pd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new xe(4002,`'${e.segmentGroup}'`)}recognize(){let e=sy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(({children:t,rootSnapshot:r})=>{let i=new Ct(r,t),s=new cu("",i),o=GT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ls([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(me(r=>({children:r,rootSnapshot:t})),Qi(r=>{if(r instanceof Xo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Jo?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(me(o=>o instanceof Ct?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return wt(s).pipe(Io(o=>{let u=r.children[o],d=ZT(t,o);return this.processSegmentGroup(e,d,u,o,i)}),hh((o,u)=>(o.push(...u),o)),uh(null),Ug(),Ot(o=>{if(o===null)return as(r);let u=Dy(o);return B0(u),re(u)}))}processSegment(e,t,r,i,s,o,u){return wt(t).pipe(Io(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,r,i,s,o,u).pipe(Qi(f=>{if(f instanceof Jo)return re(null);throw f}))),dr(d=>!!d),Qi(d=>{if(Ry(d))return L0(r,i,s)?re(new gd):as(r);throw d}))}processSegmentAgainstRoute(e,t,r,i,s,o,u,d){return V0(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,d):as(i):as(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,u){let{matched:d,parameters:f,consumedSegments:v,positionalParamSegments:w,remainingSegments:A}=Ed(t,i,s);if(!d)return as(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>U0&&(this.allowRedirects=!1));let O=new ls(s,f,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,oy(i),Gt(i),i.component??i._loadedComponent??null,i,ay(i)),L=au(O,u,this.paramsInheritanceStrategy);O.params=Object.freeze(L.params),O.data=Object.freeze(L.data);let j=this.applyRedirects.applyRedirectCommands(v,i.redirectTo,w,O,e);return this.applyRedirects.lineralizeSegments(i,j).pipe(Ot(V=>this.processSegment(e,r,t,V.concat(A),o,!1,u)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let u=D0(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),u.pipe(rn(d=>d.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rn(({routes:f})=>{let v=r._loadedInjector??e,{parameters:w,consumedSegments:A,remainingSegments:O}=d,L=new ls(A,w,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,oy(r),Gt(r),r.component??r._loadedComponent??null,r,ay(r)),j=au(L,o,this.paramsInheritanceStrategy);L.params=Object.freeze(j.params),L.data=Object.freeze(j.data);let{segmentGroup:V,slicedSegments:Q}=sy(t,A,O,f);if(Q.length===0&&V.hasChildren())return this.processChildren(v,f,V,L).pipe(me(te=>new Ct(L,te)));if(f.length===0&&Q.length===0)return re(new Ct(L,[]));let J=Gt(r)===s;return this.processSegment(v,f,V,Q,J?ie:s,!0,L).pipe(me(te=>new Ct(L,te instanceof Ct?[te]:[])))}))):as(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):C0(e,t,r,this.urlSerializer).pipe(Ot(i=>i?this.configLoader.loadChildren(e,t).pipe(Xe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):P0(t))):re({routes:[],injector:e})}};function B0(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function j0(n){let e=n.value.routeConfig;return e&&e.path===""}function Dy(n){let e=[],t=new Set;for(let r of n){if(!j0(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Dy(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!t.has(r))}function oy(n){return n.data||{}}function ay(n){return n.resolve||{}}function q0(n,e,t,r,i,s){return Ot(o=>F0(n,e,t,r,o.extractedUrl,i,s).pipe(me(({state:u,tree:d})=>Ie(q({},o),{targetSnapshot:u,urlAfterRedirects:d}))))}function $0(n,e){return Ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let s=new Set(i.map(d=>d.route)),o=new Set;for(let d of s)if(!o.has(d))for(let f of ky(d))o.add(f);let u=0;return wt(o).pipe(Io(d=>s.has(d)?z0(d,r,n,e):(d.data=au(d,d.parent,n).resolve,re(void 0))),Xe(()=>u++),lh(1),Ot(d=>u===o.size?re(t):hr))})}function ky(n){let e=n.children.map(t=>ky(t)).flat();return[n,...e]}function z0(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Ty(i)&&(s[Zo]=i.title),G0(s,n,e,r).pipe(me(o=>(n._resolvedData=o,n.data=au(n,n.parent,t).resolve,null)))}function G0(n,e,t,r){let i=Wh(n);if(i.length===0)return re({});let s={};return wt(i).pipe(Ot(o=>H0(n[o],e,t,r).pipe(dr(),Xe(u=>{if(u instanceof Yo)throw uu(new zo,u);s[o]=u}))),lh(1),Fg(s),Qi(o=>Ry(o)?hr:_o(o)))}function H0(n,e,t,r){let i=ea(e)??r,s=ms(n,i),o=s.resolve?s.resolve(e,t):xn(i,()=>s(e,t));return wr(o)}function Gh(n){return rn(e=>{let t=n(e);return t?wt(t).pipe(me(()=>e)):re(e)})}var Ny=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[Zo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:()=>se(W0),providedIn:"root"});let n=e;return n})(),W0=(()=>{let e=class e extends Ny{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ve(Iv))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bd=new Ae("",{providedIn:"root",factory:()=>({})}),K0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Pc({type:e,selectors:[["ng-component"]],standalone:!0,features:[Nc],decls:1,vars:0,template:function(i,s){i&1&&Xi(0,"router-outlet")},dependencies:[t0],encapsulation:2});let n=e;return n})();function Td(n){let e=n.children&&n.children.map(Td),t=e?Ie(q({},n),{children:e}):q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=K0),t}var Ad=new Ae(""),Q0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=se(Eh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(r.loadComponent()).pipe(me(xy),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Rc(()=>{this.componentLoaders.delete(r)})),s=new rh(i,()=>new nn).pipe(nh());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Y0(i,this.compiler,r,this.onLoadEndListener).pipe(Rc(()=>{this.childrenLoaders.delete(i)})),u=new rh(o,()=>new nn).pipe(nh());return this.childrenLoaders.set(i,u),u}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Y0(n,e,t,r){return wr(n.loadChildren()).pipe(me(xy),Ot(i=>i instanceof Xg||Array.isArray(i)?re(i):wt(e.compileModuleAsync(i))),me(i=>{r&&r(n);let s,o,u=!1;return Array.isArray(i)?(o=i,u=!0):(s=i.create(t).injector,o=s.get(Ad,[],{optional:!0,self:!0}).flat()),{routes:o.map(Td),injector:s}}))}function J0(n){return n&&typeof n=="object"&&"default"in n}function xy(n){return J0(n)?n.default:n}var Cd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:()=>se(X0),providedIn:"root"});let n=e;return n})(),X0=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Z0=new Ae("");var eA=new Ae(""),tA=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nn,this.transitionAbortSubject=new nn,this.configLoader=se(Q0),this.environmentInjector=se(Dc),this.urlSerializer=se(wd),this.rootContexts=se(hu),this.location=se(Mc),this.inputBindingEnabled=se(Id,{optional:!0})!==null,this.titleStrategy=se(Ny),this.options=se(bd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=se(Cd),this.createViewTransition=se(Z0,{optional:!0}),this.navigationErrorHandler=se(eA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=s=>this.events.next(new nd(s)),i=s=>this.events.next(new rd(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ie(q(q({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new yt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(o=>o.id!==0),me(o=>Ie(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rn(o=>{let u=!1,d=!1;return re(o).pipe(rn(f=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),hr;this.currentTransition=o,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let v=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),w=f.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!v&&w!=="reload"){let A="";return this.events.next(new ci(f.id,this.urlSerializer.serialize(f.rawUrl),A,Jh.IgnoredSameUrlNavigation)),f.resolve(!1),hr}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return re(f).pipe(rn(A=>{let O=this.transitions?.getValue();return this.events.next(new Ho(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions?.getValue()?hr:Promise.resolve(A)}),q0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(A=>{o.targetSnapshot=A.targetSnapshot,o.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation=Ie(q({},this.currentNavigation),{finalUrl:A.urlAfterRedirects});let O=new iu(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(O)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:A,extractedUrl:O,source:L,restoredState:j,extras:V}=f,Q=new Ho(A,this.urlSerializer.serialize(O),L,j);this.events.next(Q);let J=Ey(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(q({},f),{targetSnapshot:J,urlAfterRedirects:O,extras:Ie(q({},V),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=O,re(o)}else{let A="";return this.events.next(new ci(f.id,this.urlSerializer.serialize(f.extractedUrl),A,Jh.IgnoredByUrlHandlingStrategy)),f.resolve(!1),hr}}),Xe(f=>{let v=new Xh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),me(f=>(this.currentTransition=o=Ie(q({},f),{guards:a0(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),o)),y0(this.environmentInjector,f=>this.events.next(f)),Xe(f=>{if(o.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw uu(this.urlSerializer,f.guardsResult);let v=new Zh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(v)}),Zr(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",St.GuardRejected),!1)),Gh(f=>{if(f.guards.canActivateChecks.length)return re(f).pipe(Xe(v=>{let w=new ed(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}),rn(v=>{let w=!1;return re(v).pipe($0(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(v,"",St.NoDataFromResolver)}}))}),Xe(v=>{let w=new td(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}))}),Gh(f=>{let v=w=>{let A=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(w.routeConfig).pipe(Xe(O=>{w.component=O}),me(()=>{})));for(let O of w.children)A.push(...v(O));return A};return ah(v(f.targetSnapshot.root)).pipe(uh(null),Yi(1))}),Gh(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:f,targetSnapshot:v}=o,w=this.createViewTransition?.(this.environmentInjector,f.root,v.root);return w?wt(w).pipe(me(()=>o)):re(o)}),me(f=>{let v=n0(r.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=o=Ie(q({},f),{targetRouterState:v}),this.currentNavigation.targetRouterState=v,o}),Xe(()=>{this.events.next(new Ko)}),o0(this.rootContexts,r.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Yi(1),Xe({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),Bg(this.transitionAbortSubject.pipe(Xe(f=>{throw f}))),Rc(()=>{!u&&!d&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qi(f=>{if(d=!0,Sy(f))this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),f.message,f.cancellationCode)),s0(f)?this.events.next(new fs(f.url,f.navigationBehaviorOptions)):o.resolve(!1);else{let v=new Wo(o.id,this.urlSerializer.serialize(o.extractedUrl),f,o.targetSnapshot??void 0);try{let w=xn(this.environmentInjector,()=>this.navigationErrorHandler?.(v));if(w instanceof Yo){let{message:A,cancellationCode:O}=uu(this.urlSerializer,w);this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),A,O)),this.events.next(new fs(w.redirectTo,w.navigationBehaviorOptions))}else{this.events.next(v);let A=r.errorHandler(f);o.resolve(!!A)}}catch(w){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(w)}}return hr}))}))}cancelNavigationTransition(r,i,s){let o=new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function nA(n){return n!==qo}var rA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:()=>se(iA),providedIn:"root"});let n=e;return n})(),yd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},iA=(()=>{let e=class e extends yd{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Oy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:()=>se(sA),providedIn:"root"});let n=e;return n})(),sA=(()=>{let e=class e extends Oy{constructor(){super(...arguments),this.location=se(Mc),this.urlSerializer=se(wd),this.options=se(bd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=se(Cd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ey(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ho)this.stateMemento=this.createStateMemento();else if(r instanceof ci)this.rawUrlTree=i.initialUrl;else if(r instanceof iu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Ko?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Ln&&(r.code===St.GuardRejected||r.code===St.NoDataFromResolver)?this.restoreHistory(i):r instanceof Wo?this.restoreHistory(i,!0):r instanceof an&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Fn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,u=q(q({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",u)}else{let o=q(q({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=On(e)))(s||e)}})(),e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Bo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Bo||{});function oA(n,e){n.events.pipe(Zr(t=>t instanceof an||t instanceof Ln||t instanceof Wo||t instanceof ci),me(t=>t instanceof an||t instanceof ci?Bo.COMPLETE:(t instanceof Ln?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?Bo.REDIRECTING:Bo.FAILED),Zr(t=>t!==Bo.REDIRECTING),Yi(1)).subscribe(()=>{e()})}function aA(n){throw n}var cA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},li=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=se(xc),this.stateManager=se(Oy),this.options=se(bd,{optional:!0})||{},this.pendingTasks=se(Hg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=se(tA),this.urlSerializer=se(wd),this.location=se(Mc),this.urlHandlingStrategy=se(Cd),this._events=new nn,this.errorHandler=this.options.errorHandler||aA,this.navigated=!1,this.routeReuseStrategy=se(rA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=se(Ad,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!se(Id,{optional:!0}),this.eventsSubscription=new kg,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ln&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof an)this.navigated=!0;else if(i instanceof fs){let u=i.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),f=q({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nA(s.source)},u);this.scheduleNavigation(d,qo,null,f,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}hA(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},u=s?.navigationId?s:null;if(s){let f=q({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(o.state=f)}let d=this.parseUrl(r);this.scheduleNavigation(d,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Td),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:u,queryParamsHandling:d,preserveFragment:f}=i,v=f?this.currentUrlTree.fragment:u,w=null;switch(d){case"merge":w=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}w!==null&&(w=this.removeEmptyProps(w));let A;try{let O=s?s.snapshot:this.routerState.snapshot.root;A=yy(O)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),A=this.currentUrlTree.root}return wy(A,r,w,v??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ai(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,qo,null,i)}navigate(r,i={skipLocationChange:!1}){return lA(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=q({},cA):i===!1?s=q({},uA):s=i,ai(r))return ty(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ty(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,u){if(this.disposed)return Promise.resolve(!1);let d,f,v;u?(d=u.resolve,f=u.reject,v=u.promise):v=new Promise((A,O)=>{d=A,f=O});let w=this.pendingTasks.add();return oA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:d,reject:f,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new xe(4008,!1)}function hA(n){return!(n instanceof Ko)&&!(n instanceof fs)}var My=(()=>{let e=class e{constructor(r,i,s,o,u,d){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=u,this.locationStrategy=d,this.href=null,this.onChanges=new nn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let f=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement=f==="a"||f==="area",this.isAnchorElement?this.subscription=r.events.subscribe(v=>{v instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ai(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,u){let d=this.urlTree;if(d===null||this.isAnchorElement&&(r!==0||i||s||o||u||typeof this.target=="string"&&this.target!="_self"))return!0;let f={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,f),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Qg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(oe(li),oe(ui),Gg("tabindex"),oe(To),oe(ti),oe(bh))},e.\u0275dir=Ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&$t("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),i&2&&wh("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zi],replaceUrl:[2,"replaceUrl","replaceUrl",Zi],routerLink:"routerLink"},standalone:!0,features:[Jg,ei]});let n=e;return n})();var dA=new Ae("");function hx(n,...e){return Nn([{provide:Ad,multi:!0,useValue:n},[],{provide:ui,useFactory:fA,deps:[li]},{provide:sv,multi:!0,useFactory:pA},e.map(t=>t.\u0275providers)])}function fA(n){return n.routerState.root}function pA(){let n=se(qt);return e=>{let t=n.get(Ih);if(e!==t.components[0])return;let r=n.get(li),i=n.get(mA);n.get(gA)===1&&r.initialNavigation(),n.get(vA,null,fh.Optional)?.setUpPreloading(),n.get(dA,null,fh.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mA=new Ae("",{factory:()=>new nn}),gA=new Ae("",{providedIn:"root",factory:()=>1});var vA=new Ae("");var Rd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var yA=function(n,e){if(!n)throw wA(e)},wA=function(n){return new Error("Firebase Database ("+Rd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var By=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_A=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,u=o?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,v=s>>2,w=(s&3)<<4|u>>4,A=(u&15)<<2|f>>6,O=f&63;d||(O=64,o||(A=64)),r.push(t[v],t[w],t[A],t[O])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(By(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_A(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||w==null)throw new Pd;let A=s<<2|u>>4;if(r.push(A),f!==64){let O=u<<4&240|f>>2;if(r.push(O),w!==64){let L=f<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Pd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},IA=function(n){let e=By(n);return jy.encodeByteArray(e,!0)},na=function(n){return IA(n).replace(/\./g,"")},ra=function(n){try{return jy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fx(n){return qy(void 0,n)}function qy(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!EA(t)||(n[t]=qy(n[t],e[t]));return n}function EA(n){return n!=="__proto__"}function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TA=()=>bA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ra(n[1]);return e&&JSON.parse(e)},pu=()=>{try{return TA()||AA()||CA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kd=n=>{var e,t;return(t=(e=pu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$y=n=>{let e=kd(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Nd=()=>{var n;return(n=pu())===null||n===void 0?void 0:n.config},xd=n=>{var e;return(e=pu())===null||e===void 0?void 0:e[`_${n}`]};var fu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function zy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[na(JSON.stringify(t)),na(JSON.stringify(o)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function SA(){var n;let e=(n=pu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hy(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ky(){let n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function px(){return Rd.NODE_CLIENT===!0||Rd.NODE_ADMIN===!0}function Qy(){return!SA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Od(){try{return typeof indexedDB=="object"}catch{return!1}}function Yy(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var RA="FirebaseError",Rt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RA,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PA(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Rt(i,u,r)}};function PA(n,e){return n.replace(DA,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DA=/\{\$([^}]+)}/g;function Ly(n){return JSON.parse(n)}function mx(n){return JSON.stringify(n)}var Jy=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=Ly(ra(s[0])||""),t=Ly(ra(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var gx=function(n){let e=Jy(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},vx=function(n){let e=Jy(n).claims;return typeof e=="object"&&e.admin===!0};function yx(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wx(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Xy(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _x(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function hi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Fy(s)&&Fy(o)){if(!hi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Fy(n){return n!==null&&typeof n=="object"}function ia(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var Uy=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)r[w]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let w=0;w<16;w++)r[w]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let w=16;w<80;w++){let A=r[w-3]^r[w-8]^r[w-14]^r[w-16];r[w]=(A<<1|A>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],u=this.chain_[3],d=this.chain_[4],f,v;for(let w=0;w<80;w++){w<40?w<20?(f=u^s&(o^u),v=1518500249):(f=s^o^u,v=1859775393):w<60?(f=s&o|u&(s|o),v=2400959708):(f=s^o^u,v=3395469782);let A=(i<<5|i>>>27)+f+d+v+r[w]&4294967295;d=u,u=o,o=(s<<30|s>>>2)&4294967295,s=i,i=A}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Zy(n,e){let t=new Dd(n,e);return t.subscribe.bind(t)}var Dd=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sd),i.error===void 0&&(i.error=Sd),i.complete===void 0&&(i.complete=Sd);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kA(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sd(){}function Ix(n,e){return`${n} failed: ${e} argument `}var Ex=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,yA(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bx=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var Tx=4*60*60*1e3;function Be(n){return n&&n._delegate?n._delegate:n}var Vt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var Md=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new fu;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NA(n){return n===di?void 0:n}function xA(n){return n.instantiationMode==="EAGER"}var mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Md(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var OA=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),MA={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},VA=ae.INFO,LA={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},FA=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=LA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=VA,this._logHandler=FA,this._userLogHandler=null,OA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var UA=(n,e)=>e.some(t=>n instanceof t),ew,tw;function BA(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nw=new WeakMap,Ld=new WeakMap,rw=new WeakMap,Vd=new WeakMap,Ud=new WeakMap;function qA(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(cn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&nw.set(t,n)}).catch(()=>{}),Ud.set(e,n),e}function $A(n){if(Ld.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Ld.set(n,e)}var Fd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ld.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iw(n){Fd=n(Fd)}function zA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(gu(this),e,...t);return rw.set(r,e.sort?e.sort():[e]),cn(r)}:jA().includes(n)?function(...e){return n.apply(gu(this),e),cn(nw.get(this))}:function(...e){return cn(n.apply(gu(this),e))}}function GA(n){return typeof n=="function"?zA(n):(n instanceof IDBTransaction&&$A(n),UA(n,BA())?new Proxy(n,Fd):n)}function cn(n){if(n instanceof IDBRequest)return qA(n);if(Vd.has(n))return Vd.get(n);let e=GA(n);return e!==n&&(Vd.set(n,e),Ud.set(e,n)),e}var gu=n=>Ud.get(n);function ow(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),u=cn(o);return r&&o.addEventListener("upgradeneeded",d=>{r(cn(o.result),d.oldVersion,d.newVersion,cn(o.transaction),d)}),t&&o.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}var HA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Bd=new Map;function sw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=WA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HA.includes(t)))return;let s=function(o,...u){return E(this,null,function*(){let d=this.transaction(o,i?"readwrite":"readonly"),f=d.store;return r&&(f=f.index(u.shift())),(yield Promise.all([f[t](...u),i&&d.done]))[0]})};return Bd.set(e,s),s}iw(n=>Ie(q({},n),{get:(e,t,r)=>sw(e,t)||n.get(e,t,r),has:(e,t)=>!!sw(e,t)||n.has(e,t)}));var qd=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KA(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function KA(n){let e=n.getComponent();return e?.type==="VERSION"}var $d="@firebase/app",aw="0.10.7";var fi=new _r("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",JA="@firebase/analytics",XA="@firebase/app-check-compat",ZA="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",rC="@firebase/database-compat",iC="@firebase/functions",sC="@firebase/functions-compat",oC="@firebase/installations",aC="@firebase/installations-compat",cC="@firebase/messaging",uC="@firebase/messaging-compat",lC="@firebase/performance",hC="@firebase/performance-compat",dC="@firebase/remote-config",fC="@firebase/remote-config-compat",pC="@firebase/storage",mC="@firebase/storage-compat",gC="@firebase/firestore",vC="@firebase/vertexai-preview",yC="@firebase/firestore-compat",wC="firebase",_C="10.12.4";var zd="[DEFAULT]",IC={[$d]:"fire-core",[QA]:"fire-core-compat",[JA]:"fire-analytics",[YA]:"fire-analytics-compat",[ZA]:"fire-app-check",[XA]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[rC]:"fire-rtdb-compat",[iC]:"fire-fn",[sC]:"fire-fn-compat",[oC]:"fire-iid",[aC]:"fire-iid-compat",[cC]:"fire-fcm",[uC]:"fire-fcm-compat",[lC]:"fire-perf",[hC]:"fire-perf-compat",[dC]:"fire-rc",[fC]:"fire-rc-compat",[pC]:"fire-gcs",[mC]:"fire-gcs-compat",[gC]:"fire-fst",[yC]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[wC]:"fire-js-all"};var sa=new Map,EC=new Map,Gd=new Map;function cw(n,e){try{n.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Er(n){let e=n.name;if(Gd.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,n);for(let t of sa.values())cw(t,n);for(let t of EC.values())cw(t,n);return!0}function aa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ht(n){return n.settings!==void 0}var bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Un("app","Firebase",bC);var Hd=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var br=_C;function Qd(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(t||(t=Nd()),!t)throw Ir.create("no-options");let s=sa.get(i);if(s){if(hi(t,s.options)&&hi(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new mu(i);for(let d of Gd.values())o.addComponent(d);let u=new Hd(t,r,o);return sa.set(i,u),u}function ys(n=zd){let e=sa.get(n);if(!e&&n===zd&&Nd())return Qd();if(!e)throw Ir.create("no-app",{appName:n});return e}function vu(){return Array.from(sa.values())}function Ye(n,e,t){var r;let i=(r=IC[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(u.join(" "));return}Er(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var TC="firebase-heartbeat-database",AC=1,oa="firebase-heartbeat-store",jd=null;function dw(){return jd||(jd=ow(TC,AC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),jd}function CC(n){return E(this,null,function*(){try{let t=(yield dw()).transaction(oa),r=yield t.objectStore(oa).get(fw(n));return yield t.done,r}catch(e){if(e instanceof Rt)fi.warn(e.message);else{let t=Ir.create("idb-get",{originalErrorMessage:e?.message});fi.warn(t.message)}}})}function uw(n,e){return E(this,null,function*(){try{let r=(yield dw()).transaction(oa,"readwrite");yield r.objectStore(oa).put(e,fw(n)),yield r.done}catch(t){if(t instanceof Rt)fi.warn(t.message);else{let r=Ir.create("idb-set",{originalErrorMessage:t?.message});fi.warn(r.message)}}})}function fw(n){return`${n.name}!${n.options.appId}`}var SC=1024,RC=30*24*60*60*1e3,Wd=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Kd(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let u=new Date(o.date).valueOf();return Date.now()-u<=RC}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=lw(),{heartbeatsToSend:r,unsentEntries:i}=PC(this._heartbeatsCache.heartbeats),s=na(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function lw(){return new Date().toISOString().substring(0,10)}function PC(n,e=SC){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Kd=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Od()?Yy().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield CC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function hw(n){return na(JSON.stringify({version:2,heartbeats:n})).length}function DC(n){Er(new Vt("platform-logger",e=>new qd(e),"PRIVATE")),Er(new Vt("heartbeat",e=>new Wd(e),"PRIVATE")),Ye($d,aw,n),Ye($d,aw,"esm2017"),Ye("fire-js","")}DC("");var kC="firebase",NC="10.12.4";Ye(kC,NC,"app");var mi=new Ao("ANGULARFIRE2_VERSION");function wu(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ca=(n,e)=>{let t=e?[e]:vu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},_s=class{constructor(){return ca(xC)}},xC="app-check";function ws(){}var yu=class{zone;delegate;constructor(e,t=xg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Yd=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws)),t.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Is=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yu(Zone.current)),this.insideAngular=t.run(()=>new yu(Zone.current,Ng)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ve(It))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _u(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function OC(n){return _u().ngZone.runOutsideAngular(()=>n())}function pi(n){return _u().ngZone.run(()=>n())}function MC(n){return VC(_u())(n)}function VC(n){return function(t){return t=t.lift(new Yd(n.ngZone)),t.pipe(oh(n.outsideAngular),sh(n.insideAngular))}}var LC=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),pi(()=>n.apply(void 0,r))},ot=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=pi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws))),r[s]=LC(r[s],t));let i=OC(()=>n.apply(this,r));if(!e)if(i instanceof Xr){let s=_u();return i.pipe(oh(s.outsideAngular),sh(s.insideAngular))}else return pi(()=>i);return i instanceof Xr?i.pipe(MC):i instanceof Promise?pi(()=>new Promise((s,o)=>i.then(u=>pi(()=>s(u)),u=>pi(()=>o(u))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:pi(()=>i)};var Bn=class{constructor(e){return e}},gi=class{constructor(){return vu()}};function FC(n){return n&&n.length===1?n[0]:new Bn(ys())}var Jd=new Ae("angularfire2._apps"),UC={provide:Bn,useFactory:FC,deps:[[new _t,Jd]]},BC={provide:gi,deps:[[new _t,Jd]]};function jC(n){return(e,t)=>{let r=t.get(ni);Ye("angularfire",mi.full,"core"),Ye("angularfire",mi.full,"app"),Ye("angular",iv.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Bn(i)}}function lO(n,...e){return Nn([UC,BC,{provide:Jd,useFactory:jC(n),multi:!0,deps:[It,qt,Is,...e]}])}var hO=ot(Qd,!0);function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kw=Dw,Nw=new Un("auth","Firebase",Dw());var Cu=new _r("@firebase/auth");function qC(n,...e){Cu.logLevel<=ae.WARN&&Cu.warn(`Auth (${br}): ${n}`,...e)}function Eu(n,...e){Cu.logLevel<=ae.ERROR&&Cu.error(`Auth (${br}): ${n}`,...e)}function ln(n,...e){throw If(n,...e)}function vi(n,...e){return If(n,...e)}function xw(n,e,t){let r=Object.assign(Object.assign({},kw()),{[e]:t});return new Un("auth","Firebase",r).create(e,{appName:n.name})}function $n(n){return xw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function If(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Nw.create(n,...e)}function H(n,e,...t){if(!n)throw If(e,...t)}function jn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Eu(e),new Error(e)}function Ar(n,e){n||jn(e)}function tf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $C(){return pw()==="http:"||pw()==="https:"}function pw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function zC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($C()||Hy()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var yi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=Gy()||Wy()}get(){return zC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ef(n,e){Ar(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Su=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var WC=new yi(3e4,6e4);function zn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gn(s,o,u,d){return E(this,arguments,function*(n,e,t,r,i={}){return Ow(n,i,()=>E(this,null,function*(){let f={},v={};r&&(e==="GET"?v=r:f={body:JSON.stringify(r)});let w=ia(Object.assign({key:n.config.apiKey},v)).slice(1),A=yield n._getAdditionalHeaders();return A["Content-Type"]="application/json",n.languageCode&&(A["X-Firebase-Locale"]=n.languageCode),Su.fetch()(Mw(n,n.config.apiHost,t,w),Object.assign({method:e,headers:A,referrerPolicy:"no-referrer"},f))}))})}function Ow(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},HC),e);try{let i=new nf(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Iu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let u=s.ok?o.errorMessage:o.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(n,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Iu(n,"email-already-in-use",o);if(d==="USER_DISABLED")throw Iu(n,"user-disabled",o);let v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw xw(n,v,f);ln(n,v)}}catch(i){if(i instanceof Rt)throw i;ln(n,"network-request-failed",{message:String(i)})}})}function ga(s,o,u,d){return E(this,arguments,function*(n,e,t,r,i={}){let f=yield Gn(n,e,t,r,i);return"mfaPendingCredential"in f&&ln(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Mw(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ef(n.config,i):`${n.config.apiScheme}://${i}`}function KC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var nf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),WC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Iu(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=vi(n,e,r);return i.customData._tokenResponse=t,i}function mw(n){return n!==void 0&&n.enterprise!==void 0}var rf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function QC(n,e){return E(this,null,function*(){return Gn(n,"GET","/v2/recaptchaConfig",zn(n,e))})}function YC(n,e){return E(this,null,function*(){return Gn(n,"POST","/v1/accounts:delete",e)})}function Vw(n,e){return E(this,null,function*(){return Gn(n,"POST","/v1/accounts:lookup",e)})}function ua(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bf(n,e=!1){return E(this,null,function*(){let t=Be(n),r=yield t.getIdToken(e),i=Tf(r);H(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ua(Xd(i.auth_time)),issuedAtTime:ua(Xd(i.iat)),expirationTime:ua(Xd(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Xd(n){return Number(n)*1e3}function Tf(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ra(t);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gw(n){let e=Tf(n);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ha(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Rt&&JC(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function JC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var sf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var da=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ru(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ha(n,Vw(t,{idToken:r}));H(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lw(s.providerUserInfo):[],u=XC(n.providerData,o),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,v=d?f:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new da(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(n,w)})}function Af(n){return E(this,null,function*(){let e=Be(n);yield Ru(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lw(n){return n.map(e=>{var{providerId:t}=e,r=ih(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZC(n,e){return E(this,null,function*(){let t=yield Ow(n,{},()=>E(this,null,function*(){let r=ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Mw(n,i,"/v1/token",`key=${s}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Su.fetch()(o,{method:"POST",headers:u,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function eS(n,e){return E(this,null,function*(){return Gn(n,"POST","/v2/accounts:revokeToken",zn(n,e))})}var la=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){H(e.length!==0,"internal-error");let t=gw(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield ZC(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return jn("not implemented")}};function Tr(n,e){H(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Es=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new da(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield ha(this,this.stsTokenManager.getToken(this.auth,e));return H(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return bf(this,e)}reload(){return Af(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ru(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Ht(this.auth.app))return Promise.reject($n(this.auth));let e=yield this.getIdToken();return yield ha(this,YC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,u,d,f,v;let w=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(i=t.email)!==null&&i!==void 0?i:void 0,O=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=t.photoURL)!==null&&o!==void 0?o:void 0,j=(u=t.tenantId)!==null&&u!==void 0?u:void 0,V=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,Q=(f=t.createdAt)!==null&&f!==void 0?f:void 0,J=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:te,emailVerified:Ee,isAnonymous:nt,providerData:pe,stsTokenManager:S}=t;H(te&&S,e,"internal-error");let I=la.fromJSON(this.name,S);H(typeof te=="string",e,"internal-error"),Tr(w,e.name),Tr(A,e.name),H(typeof Ee=="boolean",e,"internal-error"),H(typeof nt=="boolean",e,"internal-error"),Tr(O,e.name),Tr(L,e.name),Tr(j,e.name),Tr(V,e.name),Tr(Q,e.name),Tr(J,e.name);let T=new n({uid:te,auth:e,email:A,emailVerified:Ee,displayName:w,isAnonymous:nt,photoURL:L,phoneNumber:O,tenantId:j,stsTokenManager:I,createdAt:Q,lastLoginAt:J});return pe&&Array.isArray(pe)&&(T.providerData=pe.map(C=>Object.assign({},C))),V&&(T._redirectEventId=V),T}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new la;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ru(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];H(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Lw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,u=new la;u.updateFromIdToken(r);let d=new n({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new da(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d})}};var vw=new Map;function qn(n){Ar(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}var tS=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),of=tS;function bu(n,e,t){return`firebase:${n}:${e}:${t}`}var Pu=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=bu("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(qn(of),e,r);let i=(yield Promise.all(t.map(f=>E(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),s=i[0]||qn(of),o=bu(r,e.config.apiKey,e.name),u=null;for(let f of t)try{let v=yield f._get(o);if(v){let w=Es._fromJSON(e,v);f!==s&&(u=w),s=f;break}}catch{}let d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new n(s,e,r):(s=d[0],u&&(yield s._set(o,u.toJSON())),yield Promise.all(t.map(f=>E(this,null,function*(){if(f!==s)try{yield f._remove(o)}catch{}}))),new n(s,e,r))})}};function yw(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if($w(e))return"Webos";if(Cf(e))return"Safari";if((e.includes("chrome/")||Uw(e))&&!e.includes("edge/"))return"Chrome";if(jw(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Fw(n=Qe()){return/firefox\//i.test(n)}function Cf(n=Qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uw(n=Qe()){return/crios\//i.test(n)}function Bw(n=Qe()){return/iemobile/i.test(n)}function jw(n=Qe()){return/android/i.test(n)}function qw(n=Qe()){return/blackberry/i.test(n)}function $w(n=Qe()){return/webos/i.test(n)}function Lu(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nS(n=Qe()){var e;return Lu(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rS(){return Ky()&&document.documentMode===10}function zw(n=Qe()){return Lu(n)||jw(n)||$w(n)||qw(n)||/windows phone/i.test(n)||Bw(n)}function iS(){try{return!!(window&&window!==window.top)}catch{return!1}}function Gw(n,e=[]){let t;switch(n){case"Browser":t=yw(Qe());break;case"Worker":t=`${yw(Qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}var af=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,u)=>{try{let d=e(s);o(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sS(t){return E(this,arguments,function*(n,e={}){return Gn(n,"GET","/v2/passwordPolicy",zn(n,e))})}var oS=6,cf=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:oS,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,u;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var uf=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Du(this),this.idTokenSubscription=new Du(this),this.beforeStateQueue=new af(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qn(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Vw(this,{idToken:e}),r=yield Es._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(Ht(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Ru(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=GC()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Ht(this.app))return Promise.reject($n(this));let t=e?Be(e):null;return t&&H(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Ht(this.app)?Promise.reject($n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ht(this.app)?Promise.reject($n(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield sS(this),t=new cf(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield eS(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&qn(e)||this._popupRedirectResolver;H(t,this,"argument-error"),this.redirectPersistenceManager=yield Pu.create(this,[qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,r,i);return()=>{o=!0,d()}}else{let d=e.addObserver(t);return()=>{o=!0,d()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qC(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function _i(n){return Be(n)}var Du=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zy(t=>this.observer=t)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fu={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aS(n){Fu=n}function Hw(n){return Fu.loadJS(n)}function cS(){return Fu.recaptchaEnterpriseScript}function uS(){return Fu.gapiScript}function Ww(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var lS="recaptcha-enterprise",hS="NO_RECAPTCHA",lf=class{constructor(e){this.type=lS,this.auth=_i(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,u)=>E(this,null,function*(){QC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{let f=new rf(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(d=>{u(d)})}))})}function i(s,o,u){let d=window.grecaptcha;mw(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(hS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!t&&mw(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cS();d.length!==0&&(d+=u),Hw(d).then(()=>{i(u,s,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})})}};function ww(n,e,t,r=!1){return E(this,null,function*(){let i=new lf(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function hf(n,e,t,r){return E(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield ww(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield ww(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Sf(n,e){let t=aa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(hi(s,e??{}))return i;ln(i,"already-initialized")}return t.initialize({options:e})}function dS(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rf(n,e,t){let r=_i(n);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Kw(e),{host:o,port:u}=fS(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pS()}function Kw(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fS(n){let e=Kw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:_w(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:_w(o)}}}function _w(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function pS(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var fa=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,t){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};function mS(n,e){return E(this,null,function*(){return Gn(n,"POST","/v1/accounts:signUp",e)})}function gS(n,e){return E(this,null,function*(){return ga(n,"POST","/v1/accounts:signInWithPassword",zn(n,e))})}function vS(n,e){return E(this,null,function*(){return Gn(n,"POST","/v1/accounts:sendOobCode",zn(n,e))})}function yS(n,e){return E(this,null,function*(){return vS(n,e)})}function wS(n,e){return E(this,null,function*(){return ga(n,"POST","/v1/accounts:signInWithEmailLink",zn(n,e))})}function _S(n,e){return E(this,null,function*(){return ga(n,"POST","/v1/accounts:signInWithEmailLink",zn(n,e))})}var pa=class n extends fa{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(e,t,"signInWithPassword",gS);case"emailLink":return wS(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(e,r,"signUpPassword",mS);case"emailLink":return _S(e,{idToken:t,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Zd(n,e){return E(this,null,function*(){return ga(n,"POST","/v1/accounts:signInWithIdp",zn(n,e))})}function IS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ES(n){let e=gs(vs(n)).link,t=e?gs(vs(e)).deep_link_id:null,r=gs(vs(n)).deep_link_id;return(r?gs(vs(r)).link:null)||r||t||e||n}var ku=class n{constructor(e){var t,r,i,s,o,u;let d=gs(vs(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,w=IS((i=d.mode)!==null&&i!==void 0?i:null);H(f&&v&&w,"argument-error"),this.apiKey=f,this.operation=w,this.code=v,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){let t=ES(e);try{return new n(t)}catch{return null}}};var Qw=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return pa._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ku.parseLink(r);return H(i,"argument-error"),pa._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Nu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var df=class extends Nu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function bS(n,e){return E(this,null,function*(){return ga(n,"POST","/v1/accounts:signUp",zn(n,e))})}var bs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield Es._fromIdTokenResponse(e,r,i),o=Iw(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Iw(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Iw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ff=class n extends Rt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Yw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(n,s,e,r):s})}function TS(n,e,t=!1){return E(this,null,function*(){let r=yield ha(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bs._forOperation(n,"link",r)})}function AS(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(Ht(r.app))return Promise.reject($n(r));let i="reauthenticate";try{let s=yield ha(n,Yw(r,i,e,n),t);H(s.idToken,r,"internal-error");let o=Tf(s.idToken);H(o,r,"internal-error");let{sub:u}=o;return H(n.uid===u,r,"user-mismatch"),bs._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),s}})}function Jw(n,e,t=!1){return E(this,null,function*(){if(Ht(n.app))return Promise.reject($n(n));let r="signIn",i=yield Yw(n,r,e),s=yield bs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Pf(n,e){return E(this,null,function*(){return Jw(_i(n),e)})}function CS(n,e,t){var r;H(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),H(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(H(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(H(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Xw(n){return E(this,null,function*(){let e=_i(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Df(n,e,t){return E(this,null,function*(){if(Ht(n.app))return Promise.reject($n(n));let r=_i(n),o=yield hf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bS).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Xw(n),d}),u=yield bs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(u.user),u})}function kf(n,e,t){return Ht(n.app)?Promise.reject($n(n)):Pf(Be(n),Qw.credential(e,t)).catch(r=>E(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Xw(n),r}))}function Uu(n,e){return E(this,null,function*(){let t=Be(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&CS(t.auth,i,e);let{email:s}=yield yS(t.auth,i);s!==n.email&&(yield n.reload())})}function Nf(n,e,t,r){return Be(n).onIdTokenChanged(e,t,r)}function xf(n,e,t){return Be(n).beforeAuthStateChanged(e,t)}function Of(n){return Be(n).signOut()}var xu="__sak";var Ou=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function SS(){let n=Qe();return Cf(n)||Lu(n)}var RS=1e3,PS=10,DS=(()=>{class n extends Ou{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=SS()&&iS(),this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}let i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let u=this.storage.getItem(i);if(t.newValue!==u)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}let s=()=>{let u=this.storage.getItem(i);!r&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);rS()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,PS):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},RS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield lr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield lr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield lr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Zw=DS;var kS=(()=>{class n extends Ou{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Mf=kS;function NS(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var xS=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,u=this.handlersMap[s];if(!u?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let d=Array.from(u).map(v=>E(this,null,function*(){return v(r.origin,o)})),f=yield NS(d);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function e_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var pf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,d)=>{let f=e_("",20);i.port1.start();let v=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(w){let A=w;if(A.data.eventId===f)switch(A.data.status){case"ack":clearTimeout(v),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(v),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function OS(n){un().location.href=n}function t_(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function MS(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function VS(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LS(){return t_()?self:null}var n_="firebaseLocalStorageDb",FS=1,Mu="firebaseLocalStorage",r_="fbase_key",wi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bu(n,e){return n.transaction([Mu],e?"readwrite":"readonly").objectStore(Mu)}function US(){let n=indexedDB.deleteDatabase(n_);return new wi(n).toPromise()}function mf(){let n=indexedDB.open(n_,FS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Mu,{keyPath:r_})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Mu)?e(r):(r.close(),yield US(),e(yield mf()))}))})}function Ew(n,e,t){return E(this,null,function*(){let r=Bu(n,!0).put({[r_]:e,value:t});return new wi(r).toPromise()})}function BS(n,e){return E(this,null,function*(){let t=Bu(n,!1).get(e),r=yield new wi(t).toPromise();return r===void 0?null:r.value})}function bw(n,e){let t=Bu(n,!0).delete(e);return new wi(t).toPromise()}var jS=800,qS=3,$S=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield mf(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>qS)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return t_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=xS._getInstance(LS()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield MS(),!this.activeServiceWorker)return;this.sender=new pf(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||VS()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield mf();return yield Ew(t,xu,"1"),yield bw(t,xu),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>Ew(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>BS(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>bw(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=Bu(s,!1).getAll();return new wi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),jS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),i_=$S;var wO=Ww("rcb"),_O=new yi(3e4,6e4);function zS(n,e){return e?qn(e):(H(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ma=class extends fa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zd(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function GS(n){return Jw(n.auth,new ma(n),n.bypassAuthState)}function HS(n){let{auth:e,user:t}=n;return H(t,e,"internal-error"),AS(t,new ma(n),n.bypassAuthState)}function WS(n){return E(this,null,function*(){let{auth:e,user:t}=n;return H(t,e,"internal-error"),TS(t,new ma(n),n.bypassAuthState)})}var gf=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}let d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(u)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GS;case"linkViaPopup":case"linkViaRedirect":return WS;case"reauthViaPopup":case"reauthViaRedirect":return HS;default:ln(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var IO=new yi(2e3,1e4);var KS="pendingRedirect",Tu=new Map,vf=class n extends gf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Tu.get(this.auth._key());if(!e){try{let r=(yield QS(this.resolver,this.auth))?yield lr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return lr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,lr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function QS(n,e){return E(this,null,function*(){let t=XS(e),r=JS(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function YS(n,e){Tu.set(n._key(),e)}function JS(n){return qn(n._redirectPersistence)}function XS(n){return bu(KS,n.config.apiKey,n.name)}function ZS(n,e,t=!1){return E(this,null,function*(){if(Ht(n.app))return Promise.reject($n(n));let r=_i(n),i=zS(r,e),o=yield new vf(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var eR=10*60*1e3,yf=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!s_(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}};function Tw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s_(n);default:return!1}}function nR(t){return E(this,arguments,function*(n,e={}){return Gn(n,"GET","/v1/projects",e)})}var rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iR=/^https?/;function sR(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield nR(n);for(let t of e)try{if(oR(t))return}catch{}ln(n,"unauthorized-domain")})}function oR(n){let e=tf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!iR.test(t))return!1;if(rR.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aR=new yi(3e4,6e4);function Aw(){let n=un().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cR(n){return new Promise((e,t)=>{var r,i,s;function o(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),t(vi(n,"network-request-failed"))},timeout:aR.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let u=Ww("iframefcb");return un()[u]=()=>{gapi.load?o():t(vi(n,"network-request-failed"))},Hw(`${uS()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Au=null,e})}var Au=null;function uR(n){return Au=Au||cR(n),Au}var lR=new yi(5e3,15e3),hR="__/auth/iframe",dR="emulator/auth/iframe",fR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(n){let e=n.config;H(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ef(e,dR):`https://${n.config.authDomain}/${hR}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=pR.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ia(r).slice(1)}`}function gR(n){return E(this,null,function*(){let e=yield uR(n),t=un().gapi;return H(t,n,"internal-error"),e.open({where:document.body,url:mR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fR,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=vi(n,"network-request-failed"),u=un().setTimeout(()=>{s(o)},lR.get());function d(){un().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(o)})})))})}var vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yR=500,wR=600,_R="_blank",IR="http://localhost",Vu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ER(n,e,t,r=yR,i=wR){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",d=Object.assign(Object.assign({},vR),{width:r.toString(),height:i.toString(),top:s,left:o}),f=Qe().toLowerCase();t&&(u=Uw(f)?_R:t),Fw(f)&&(e=e||IR,d.scrollbars="yes");let v=Object.entries(d).reduce((A,[O,L])=>`${A}${O}=${L},`,"");if(nS(f)&&u!=="_self")return bR(e||"",u),new Vu(null);let w=window.open(e||"",u,v);H(w,n,"popup-blocked");try{w.focus()}catch{}return new Vu(w)}function bR(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var TR="__/auth/handler",AR="emulator/auth/handler",CR=encodeURIComponent("fac");function Cw(n,e,t,r,i,s){return E(this,null,function*(){H(n.config.authDomain,n,"auth-domain-config-required"),H(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof Nu){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Xy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[v,w]of Object.entries(s||{}))o[v]=w}if(e instanceof df){let v=e.getScopes().filter(w=>w!=="");v.length>0&&(o.scopes=v.join(","))}n.tenantId&&(o.tid=n.tenantId);let u=o;for(let v of Object.keys(u))u[v]===void 0&&delete u[v];let d=yield n._getAppCheckToken(),f=d?`#${CR}=${encodeURIComponent(d)}`:"";return`${SR(n)}?${ia(u).slice(1)}${f}`})}function SR({config:n}){return n.emulator?Ef(n,AR):`https://${n.authDomain}/${TR}`}var ef="webStorageSupport",wf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mf,this._completeRedirectFn=ZS,this._overrideRedirectResult=YS}_openPopup(e,t,r,i){return E(this,null,function*(){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Cw(e,t,r,tf(),i);return ER(e,o,e_())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield Cw(e,t,r,tf(),i);return OS(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield gR(e),r=new yf(e);return t.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ef];o!==void 0&&t(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zw()||Cf()||Lu()}},o_=wf;var Sw="@firebase/auth",Rw="1.7.5";var _f=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function RR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PR(n){Er(new Vt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let d={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gw(n)},f=new uf(r,i,s,d);return dS(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Er(new Vt("auth-internal",e=>{let t=_i(e.getProvider("auth").getImmediate());return(r=>new _f(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Sw,Rw,RR(n)),Ye(Sw,Rw,"esm2017")}var DR=5*60,kR=xd("authIdTokenMaxAge")||DR,Pw=null,NR=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kR)return;let i=t?.token;Pw!==i&&(Pw=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vf(n=ys()){let e=aa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Sf(n,{popupRedirectResolver:o_,persistence:[i_,Zw,Mf]}),r=xd("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=NR(s.toString());xf(t,o,()=>o(t.currentUser)),Nf(t,u=>o(u))}}let i=kd("auth");return i&&Rf(t,`http://${i}`),t}function xR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aS({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=vi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",xR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PR("Browser");var a_="auth",Ii=class{constructor(e){return e}},va=class{constructor(){return ca(a_)}};var Lf=new Ae("angularfire2.auth-instances");function EP(n,e){let t=wu(a_,n,e);return t&&new Ii(t)}function bP(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ii(r)}}var TP={provide:va,deps:[[new _t,Lf]]},AP={provide:Ii,useFactory:EP,deps:[[new _t,Lf],Bn]};function iM(n,...e){return Ye("angularfire",mi.full,"auth"),Nn([AP,TP,{provide:Lf,useFactory:bP(n),multi:!0,deps:[It,qt,Is,gi,[new _t,_s],...e]}])}var c_=ot(Df,!0);var sM=ot(Vf,!0);var u_=ot(kf,!0);var l_=ot(Of,!0);var d_=yb(h_());var f_=(()=>{class n{constructor(){}showSuccessAlert1(t,r,i){d_.default.fire(r,t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p_=(()=>{class n{auth;router;alert;isAuthenticatedSubject=new yt(!1);isAuthenticated$=this.isAuthenticatedSubject.asObservable();constructor(t,r,i){this.auth=t,this.router=r,this.alert=i;let s=sessionStorage.getItem("userEmail");this.isAuthenticatedSubject.next(!!s)}user="";login(t,r){return E(this,null,function*(){try{let i=yield u_(this.auth,t,r);return this.user=i,i.user.emailVerified?(setTimeout(()=>{},2500),this.router.navigate(["/perfil"]),this.isAuthenticatedSubject.next(!0),i):(this.alert.showSuccessAlert1("","El email no se encuentra validado","error"),this.router.navigate(["/login"]),null)}catch{return null}})}logout(){return E(this,null,function*(){return this.isAuthenticatedSubject.next(!1),l_(this.auth)})}register(t,r){return E(this,null,function*(){try{let i=yield c_(this.auth,t,r);return Uu(i.user).then(()=>{this.alert.showSuccessAlert1("","Registracion con Exito, por favor valida tu usuario","success"),this.router.navigate(["/login"]),this.user=i}),i}catch{return null}})}isAuth(){return this.user}isAdmin(){return sessionStorage.getItem("tipo")==="admin"}static \u0275fac=function(r){return new(r||n)(ve(Ii),ve(li),ve(f_))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g_={};var Cr,Uf;(function(){var n;function e(S,I){function T(){}T.prototype=I.prototype,S.D=I.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(C,R,D){for(var b=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)b[Te-2]=arguments[Te];return I.prototype[R].apply(C,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,T){T||(T=0);var C=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)C[R]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(R=0;16>R;++R)C[R]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=S.g[0],T=S.g[1],R=S.g[2];var D=S.g[3],b=I+(D^T&(R^D))+C[0]+3614090360&4294967295;I=T+(b<<7&4294967295|b>>>25),b=D+(R^I&(T^R))+C[1]+3905402710&4294967295,D=I+(b<<12&4294967295|b>>>20),b=R+(T^D&(I^T))+C[2]+606105819&4294967295,R=D+(b<<17&4294967295|b>>>15),b=T+(I^R&(D^I))+C[3]+3250441966&4294967295,T=R+(b<<22&4294967295|b>>>10),b=I+(D^T&(R^D))+C[4]+4118548399&4294967295,I=T+(b<<7&4294967295|b>>>25),b=D+(R^I&(T^R))+C[5]+1200080426&4294967295,D=I+(b<<12&4294967295|b>>>20),b=R+(T^D&(I^T))+C[6]+2821735955&4294967295,R=D+(b<<17&4294967295|b>>>15),b=T+(I^R&(D^I))+C[7]+4249261313&4294967295,T=R+(b<<22&4294967295|b>>>10),b=I+(D^T&(R^D))+C[8]+1770035416&4294967295,I=T+(b<<7&4294967295|b>>>25),b=D+(R^I&(T^R))+C[9]+2336552879&4294967295,D=I+(b<<12&4294967295|b>>>20),b=R+(T^D&(I^T))+C[10]+4294925233&4294967295,R=D+(b<<17&4294967295|b>>>15),b=T+(I^R&(D^I))+C[11]+2304563134&4294967295,T=R+(b<<22&4294967295|b>>>10),b=I+(D^T&(R^D))+C[12]+1804603682&4294967295,I=T+(b<<7&4294967295|b>>>25),b=D+(R^I&(T^R))+C[13]+4254626195&4294967295,D=I+(b<<12&4294967295|b>>>20),b=R+(T^D&(I^T))+C[14]+2792965006&4294967295,R=D+(b<<17&4294967295|b>>>15),b=T+(I^R&(D^I))+C[15]+1236535329&4294967295,T=R+(b<<22&4294967295|b>>>10),b=I+(R^D&(T^R))+C[1]+4129170786&4294967295,I=T+(b<<5&4294967295|b>>>27),b=D+(T^R&(I^T))+C[6]+3225465664&4294967295,D=I+(b<<9&4294967295|b>>>23),b=R+(I^T&(D^I))+C[11]+643717713&4294967295,R=D+(b<<14&4294967295|b>>>18),b=T+(D^I&(R^D))+C[0]+3921069994&4294967295,T=R+(b<<20&4294967295|b>>>12),b=I+(R^D&(T^R))+C[5]+3593408605&4294967295,I=T+(b<<5&4294967295|b>>>27),b=D+(T^R&(I^T))+C[10]+38016083&4294967295,D=I+(b<<9&4294967295|b>>>23),b=R+(I^T&(D^I))+C[15]+3634488961&4294967295,R=D+(b<<14&4294967295|b>>>18),b=T+(D^I&(R^D))+C[4]+3889429448&4294967295,T=R+(b<<20&4294967295|b>>>12),b=I+(R^D&(T^R))+C[9]+568446438&4294967295,I=T+(b<<5&4294967295|b>>>27),b=D+(T^R&(I^T))+C[14]+3275163606&4294967295,D=I+(b<<9&4294967295|b>>>23),b=R+(I^T&(D^I))+C[3]+4107603335&4294967295,R=D+(b<<14&4294967295|b>>>18),b=T+(D^I&(R^D))+C[8]+1163531501&4294967295,T=R+(b<<20&4294967295|b>>>12),b=I+(R^D&(T^R))+C[13]+2850285829&4294967295,I=T+(b<<5&4294967295|b>>>27),b=D+(T^R&(I^T))+C[2]+4243563512&4294967295,D=I+(b<<9&4294967295|b>>>23),b=R+(I^T&(D^I))+C[7]+1735328473&4294967295,R=D+(b<<14&4294967295|b>>>18),b=T+(D^I&(R^D))+C[12]+2368359562&4294967295,T=R+(b<<20&4294967295|b>>>12),b=I+(T^R^D)+C[5]+4294588738&4294967295,I=T+(b<<4&4294967295|b>>>28),b=D+(I^T^R)+C[8]+2272392833&4294967295,D=I+(b<<11&4294967295|b>>>21),b=R+(D^I^T)+C[11]+1839030562&4294967295,R=D+(b<<16&4294967295|b>>>16),b=T+(R^D^I)+C[14]+4259657740&4294967295,T=R+(b<<23&4294967295|b>>>9),b=I+(T^R^D)+C[1]+2763975236&4294967295,I=T+(b<<4&4294967295|b>>>28),b=D+(I^T^R)+C[4]+1272893353&4294967295,D=I+(b<<11&4294967295|b>>>21),b=R+(D^I^T)+C[7]+4139469664&4294967295,R=D+(b<<16&4294967295|b>>>16),b=T+(R^D^I)+C[10]+3200236656&4294967295,T=R+(b<<23&4294967295|b>>>9),b=I+(T^R^D)+C[13]+681279174&4294967295,I=T+(b<<4&4294967295|b>>>28),b=D+(I^T^R)+C[0]+3936430074&4294967295,D=I+(b<<11&4294967295|b>>>21),b=R+(D^I^T)+C[3]+3572445317&4294967295,R=D+(b<<16&4294967295|b>>>16),b=T+(R^D^I)+C[6]+76029189&4294967295,T=R+(b<<23&4294967295|b>>>9),b=I+(T^R^D)+C[9]+3654602809&4294967295,I=T+(b<<4&4294967295|b>>>28),b=D+(I^T^R)+C[12]+3873151461&4294967295,D=I+(b<<11&4294967295|b>>>21),b=R+(D^I^T)+C[15]+530742520&4294967295,R=D+(b<<16&4294967295|b>>>16),b=T+(R^D^I)+C[2]+3299628645&4294967295,T=R+(b<<23&4294967295|b>>>9),b=I+(R^(T|~D))+C[0]+4096336452&4294967295,I=T+(b<<6&4294967295|b>>>26),b=D+(T^(I|~R))+C[7]+1126891415&4294967295,D=I+(b<<10&4294967295|b>>>22),b=R+(I^(D|~T))+C[14]+2878612391&4294967295,R=D+(b<<15&4294967295|b>>>17),b=T+(D^(R|~I))+C[5]+4237533241&4294967295,T=R+(b<<21&4294967295|b>>>11),b=I+(R^(T|~D))+C[12]+1700485571&4294967295,I=T+(b<<6&4294967295|b>>>26),b=D+(T^(I|~R))+C[3]+2399980690&4294967295,D=I+(b<<10&4294967295|b>>>22),b=R+(I^(D|~T))+C[10]+4293915773&4294967295,R=D+(b<<15&4294967295|b>>>17),b=T+(D^(R|~I))+C[1]+2240044497&4294967295,T=R+(b<<21&4294967295|b>>>11),b=I+(R^(T|~D))+C[8]+1873313359&4294967295,I=T+(b<<6&4294967295|b>>>26),b=D+(T^(I|~R))+C[15]+4264355552&4294967295,D=I+(b<<10&4294967295|b>>>22),b=R+(I^(D|~T))+C[6]+2734768916&4294967295,R=D+(b<<15&4294967295|b>>>17),b=T+(D^(R|~I))+C[13]+1309151649&4294967295,T=R+(b<<21&4294967295|b>>>11),b=I+(R^(T|~D))+C[4]+4149444226&4294967295,I=T+(b<<6&4294967295|b>>>26),b=D+(T^(I|~R))+C[11]+3174756917&4294967295,D=I+(b<<10&4294967295|b>>>22),b=R+(I^(D|~T))+C[2]+718787259&4294967295,R=D+(b<<15&4294967295|b>>>17),b=T+(D^(R|~I))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(R+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var T=I-this.blockSize,C=this.B,R=this.h,D=0;D<I;){if(R==0)for(;D<=T;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<I;)if(C[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,C),R=0;break}}else for(;D<I;)if(C[R++]=S[D++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var T=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=T&255,T/=256;for(this.u(S),S=Array(16),I=T=0;4>I;++I)for(var C=0;32>C;C+=8)S[T++]=this.g[I]>>>C&255;return S};function s(S,I){var T=u;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=I(S)}function o(S,I){this.h=I;for(var T=[],C=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;C&&D==I||(T[R]=D,C=!1)}this.g=T}var u={};function d(S){return-128<=S&&128>S?s(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return w;if(0>S)return V(f(-S));for(var I=[],T=1,C=0;S>=T;C++)I[C]=S/T|0,T*=4294967296;return new o(I,0)}function v(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return V(v(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(I,8)),C=w,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),b=parseInt(S.substring(R,R+D),I);8>D?(D=f(Math.pow(I,D)),C=C.j(D).add(f(b))):(C=C.j(T),C=C.add(f(b)))}return C}var w=d(0),A=d(1),O=d(16777216);n=o.prototype,n.m=function(){if(j(this))return-V(this).m();for(var S=0,I=1,T=0;T<this.g.length;T++){var C=this.i(T);S+=(0<=C?C:4294967296+C)*I,I*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(j(this))return"-"+V(this).toString(S);for(var I=f(Math.pow(S,6)),T=this,C="";;){var R=Ee(T,I).g;T=Q(T,R.j(I));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=R,L(T))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function j(S){return S.h==-1}n.l=function(S){return S=Q(this,S),j(S)?-1:L(S)?0:1};function V(S){for(var I=S.g.length,T=[],C=0;C<I;C++)T[C]=~S.g[C];return new o(T,~S.h).add(A)}n.abs=function(){return j(this)?V(this):this},n.add=function(S){for(var I=Math.max(this.g.length,S.g.length),T=[],C=0,R=0;R<=I;R++){var D=C+(this.i(R)&65535)+(S.i(R)&65535),b=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);C=b>>>16,D&=65535,b&=65535,T[R]=b<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function Q(S,I){return S.add(V(I))}n.j=function(S){if(L(this)||L(S))return w;if(j(this))return j(S)?V(this).j(V(S)):V(V(this).j(S));if(j(S))return V(this.j(V(S)));if(0>this.l(O)&&0>S.l(O))return f(this.m()*S.m());for(var I=this.g.length+S.g.length,T=[],C=0;C<2*I;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<S.g.length;R++){var D=this.i(C)>>>16,b=this.i(C)&65535,Te=S.i(R)>>>16,wn=S.i(R)&65535;T[2*C+2*R]+=b*wn,J(T,2*C+2*R),T[2*C+2*R+1]+=D*wn,J(T,2*C+2*R+1),T[2*C+2*R+1]+=b*Te,J(T,2*C+2*R+1),T[2*C+2*R+2]+=D*Te,J(T,2*C+2*R+2)}for(C=0;C<I;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=I;C<2*I;C++)T[C]=0;return new o(T,0)};function J(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function te(S,I){this.g=S,this.h=I}function Ee(S,I){if(L(I))throw Error("division by zero");if(L(S))return new te(w,w);if(j(S))return I=Ee(V(S),I),new te(V(I.g),V(I.h));if(j(I))return I=Ee(S,V(I)),new te(V(I.g),I.h);if(30<S.g.length){if(j(S)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var T=A,C=I;0>=C.l(S);)T=nt(T),C=nt(C);var R=pe(T,1),D=pe(C,1);for(C=pe(C,2),T=pe(T,2);!L(C);){var b=D.add(C);0>=b.l(S)&&(R=R.add(T),D=b),C=pe(C,1),T=pe(T,1)}return I=Q(S,R.j(I)),new te(R,I)}for(R=w;0<=S.l(I);){for(T=Math.max(1,Math.floor(S.m()/I.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=f(T),b=D.j(I);j(b)||0<b.l(S);)T-=C,D=f(T),b=D.j(I);L(D)&&(D=A),R=R.add(D),S=Q(S,b)}return new te(R,S)}n.A=function(S){return Ee(this,S).h},n.and=function(S){for(var I=Math.max(this.g.length,S.g.length),T=[],C=0;C<I;C++)T[C]=this.i(C)&S.i(C);return new o(T,this.h&S.h)},n.or=function(S){for(var I=Math.max(this.g.length,S.g.length),T=[],C=0;C<I;C++)T[C]=this.i(C)|S.i(C);return new o(T,this.h|S.h)},n.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),T=[],C=0;C<I;C++)T[C]=this.i(C)^S.i(C);return new o(T,this.h^S.h)};function nt(S){for(var I=S.g.length+1,T=[],C=0;C<I;C++)T[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(T,S.h)}function pe(S,I){var T=I>>5;I%=32;for(var C=S.g.length-T,R=[],D=0;D<C;D++)R[D]=0<I?S.i(D+T)>>>I|S.i(D+T+1)<<32-I:S.i(D+T);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Uf=g_.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=v,Cr=g_.Integer=o}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var Bf,jf,Ts,qf,ya,qu,$f,zf,Gf;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var P=a[y];if(!(P in p))break e;p=p[P]}a=a[a.length-1],y=p[a],h=h(y),h!=y&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,y=!1,P={next:function(){if(!y&&p<a.length){var N=p++;return{value:h(N,a[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});var o=o||{},u=this||self;function d(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function f(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function v(a,h,p){return a.call.apply(a.bind,arguments)}function w(a,h,p){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),a.apply(h,P)}}return function(){return a.apply(h,arguments)}}function A(a,h,p){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,A.apply(null,arguments)}function O(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function L(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(y,P,N){for(var U=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)U[_e-2]=arguments[_e];return h.prototype[P].apply(y,U)}}function j(a){let h=a.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=a[y];return p}return[]}function V(a,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(d(y)){let P=a.length||0,N=y.length||0;a.length=P+N;for(let U=0;U<N;U++)a[P+U]=y[U]}else a.push(y)}}class Q{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function J(a){return/^[\s\xa0]*$/.test(a)}function te(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function Ee(a){return Ee[" "](a),a}Ee[" "]=function(){};var nt=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function pe(a,h,p){for(let y in a)h.call(p,a[y],y,a)}function S(a,h){for(let p in a)h.call(void 0,a[p],p,a)}function I(a){let h={};for(let p in a)h[p]=a[p];return h}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,h){let p,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(p in y)a[p]=y[p];for(let N=0;N<T.length;N++)p=T[N],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function R(a){var h=1;a=a.split(":");let p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function D(a){u.setTimeout(()=>{throw a},0)}function b(){var a=Ws;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Te{constructor(){this.h=this.g=null}add(h,p){let y=wn.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var wn=new Q(()=>new Ml,a=>a.reset());class Ml{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,xr=!1,Ws=new Te,Ks=()=>{let a=u.Promise.resolve(void 0);Y=()=>{a.then(Vl)}};var Vl=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){D(p)}var h=wn;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}xr=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var Vi=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let p=()=>{};u.addEventListener("test",p,h),u.removeEventListener("test",p,h)}catch{}return a}();function Jn(a,h){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(nt){e:{try{Ee(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Qs[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Jn.aa.h.call(this)}}L(Jn,Je);var Qs={2:"touch",3:"pen",4:"mouse"};Jn.prototype.h=function(){Jn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),_n=0;function $a(a,h,p,y,P){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=P,this.key=++_n,this.da=this.fa=!1}function Li(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Or(a){this.src=a,this.g={},this.h=0}Or.prototype.add=function(a,h,p,y,P){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var U=Mr(a,h,y,P);return-1<U?(h=a[U],p||(h.fa=!1)):(h=new $a(h,this.src,N,!!y,P),h.fa=p,a.push(h)),h};function Xn(a,h){var p=h.type;if(p in a.g){var y=a.g[p],P=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=P)&&Array.prototype.splice.call(y,P,1),N&&(Li(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Mr(a,h,p,y){for(var P=0;P<a.length;++P){var N=a[P];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return P}return-1}var In="closure_lm_"+(1e6*Math.random()|0),Vr={};function rt(a,h,p,y,P){if(y&&y.once)return fe(a,h,p,y,P);if(Array.isArray(h)){for(var N=0;N<h.length;N++)rt(a,h[N],p,y,P);return null}return p=tr(p),a&&a[je]?a.K(h,p,f(y)?!!y.capture:!!y,P):Zn(a,h,p,!1,y,P)}function Zn(a,h,p,y,P,N){if(!h)throw Error("Invalid event type");var U=f(P)?!!P.capture:!!P,_e=Fi(a);if(_e||(a[In]=_e=new Or(a)),p=_e.add(h,p,y,U,N),p.proxy)return p;if(y=ft(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)Vi||(P=U),P===void 0&&(P=!1),a.addEventListener(h.toString(),y,P);else if(a.attachEvent)a.attachEvent(Js(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ft(){function a(p){return h.call(a.src,a.listener,p)}let h=Xs;return a}function fe(a,h,p,y,P){if(Array.isArray(h)){for(var N=0;N<h.length;N++)fe(a,h[N],p,y,P);return null}return p=tr(p),a&&a[je]?a.L(h,p,f(y)?!!y.capture:!!y,P):Zn(a,h,p,!0,y,P)}function er(a,h,p,y,P){if(Array.isArray(h))for(var N=0;N<h.length;N++)er(a,h[N],p,y,P);else y=f(y)?!!y.capture:!!y,p=tr(p),a&&a[je]?(a=a.i,h=String(h).toString(),h in a.g&&(N=a.g[h],p=Mr(N,p,y,P),-1<p&&(Li(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete a.g[h],a.h--)))):a&&(a=Fi(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Mr(h,p,y,P)),(p=-1<a?h[a]:null)&&Ys(p))}function Ys(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[je])Xn(h.i,a);else{var p=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(p,y,a.capture):h.detachEvent?h.detachEvent(Js(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Fi(h))?(Xn(p,a),p.h==0&&(p.src=null,h[In]=null)):Li(a)}}}function Js(a){return a in Vr?Vr[a]:Vr[a]="on"+a}function Xs(a,h){if(a.da)a=!0;else{h=new Jn(h,this);var p=a.listener,y=a.ha||a.src;a.fa&&Ys(a),a=p.call(y,h)}return a}function Fi(a){return a=a[In],a instanceof Or?a:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(a){return typeof a=="function"?a:(a[Lr]||(a[Lr]=function(h){return a.handleEvent(h)}),a[Lr])}function be(){k.call(this),this.i=new Or(this),this.M=this,this.F=null}L(be,k),be.prototype[je]=!0,be.prototype.removeEventListener=function(a,h,p,y){er(this,a,h,p,y)};function De(a,h){var p,y=a.F;if(y)for(p=[];y;y=y.F)p.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Je(h,a);else if(h instanceof Je)h.target=h.target||a;else{var P=h;h=new Je(y,a),C(h,P)}if(P=!0,p)for(var N=p.length-1;0<=N;N--){var U=h.g=p[N];P=kt(U,y,!0,h)&&P}if(U=h.g=a,P=kt(U,y,!0,h)&&P,P=kt(U,y,!1,h)&&P,p)for(N=0;N<p.length;N++)U=h.g=p[N],P=kt(U,y,!1,h)&&P}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],y=0;y<p.length;y++)Li(p[y]);delete a.g[h],a.h--}}this.F=null},be.prototype.K=function(a,h,p,y){return this.i.add(String(a),h,!1,p,y)},be.prototype.L=function(a,h,p,y){return this.i.add(String(a),h,!0,p,y)};function kt(a,h,p,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,N=0;N<h.length;++N){var U=h[N];if(U&&!U.da&&U.capture==p){var _e=U.listener,qe=U.ha||U.src;U.fa&&Xn(a.i,U),P=_e.call(qe,y)!==!1&&P}}return P&&!y.defaultPrevented}function za(a,h,p){if(typeof a=="function")p&&(a=A(a,p));else if(a&&typeof a.handleEvent=="function")a=A(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(a,h||0)}function En(a){a.g=za(()=>{a.g=null,a.i&&(a.i=!1,En(a))},a.l);let h=a.h;a.h=null,a.m.apply(null,h)}class Fr extends k{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(a){k.call(this),this.h=a,this.g={}}L(nr,k);var Ur=[];function Ui(a){pe(a.g,function(h,p){this.g.hasOwnProperty(p)&&Ys(h)},a),a.g={}}nr.prototype.N=function(){nr.aa.N.call(this),Ui(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=u.JSON.stringify,eo=u.JSON.parse,to=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function rr(){}rr.prototype.h=null;function Ga(a){return a.h||(a.h=a.i())}function ct(){}var pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function no(){Je.call(this,"d")}L(no,Je);function it(){Je.call(this,"c")}L(it,Je);var Nt={},ro=null;function Br(){return ro=ro||new be}Nt.La="serverreachability";function ue(a){Je.call(this,Nt.La,a)}L(ue,Je);function ut(a){let h=Br();De(h,new ue(h))}Nt.STAT_EVENT="statevent";function Ft(a,h){Je.call(this,Nt.STAT_EVENT,a),this.stat=h}L(Ft,Je);function Re(a){let h=Br();De(h,new Ft(h,a))}Nt.Ma="timingevent";function Ve(a,h){Je.call(this,Nt.Ma,a),this.size=h}L(Ve,Je);function ke(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},h)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Ha(a,h,p,y,P,N){a.info(function(){if(a.g)if(N)for(var U="",_e=N.split("&"),qe=0;qe<_e.length;qe++){var le=_e[qe].split("=");if(1<le.length){var $e=le[0];le=le[1];var Ke=$e.split("_");U=2<=Ke.length&&Ke[1]=="type"?U+($e+"="+le+"&"):U+($e+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+p+`
`+U})}function jr(a,h,p,y,P,N,U){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+p+`
`+N+" "+U})}function Le(a,h,p,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Wa(a,p)+(y?" "+y:"")})}function Ll(a,h){a.info(function(){return"TIMEOUT: "+h})}bn.prototype.info=function(){};function Wa(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var y=p[a];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<P.length;U++)P[U]=""}}}}return Zs(p)}catch{return h}}var qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},io;function $r(){}L($r,rr),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},io=new $r;function Qt(a,h,p,y){this.j=a,this.i=h,this.l=p,this.R=y||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ka}function Ka(){this.i=null,this.g="",this.h=!1}var Yt={},so={};function oo(a,h,p){a.L=1,a.v=qi(Tt(h)),a.m=p,a.P=!0,Qa(a,null)}function Qa(a,h){a.F=Date.now(),ir(a),a.A=Tt(a.v);var p=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),cc(p.i,"t",y),a.C=0,p=a.j.J,a.h=new Ka,a.g=Ic(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Fr(A(a.Y,a,a.g),a.O)),h=a.U,p=a.g,y=a.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ur[0]=P.toString()),P=Ur);for(var N=0;N<P.length;N++){var U=rt(p,P[N],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),ut(),Ha(a.i,a.u,a.A,a.l,a.R,a.m)}Qt.prototype.ca=function(a){a=a.target;let h=this.M;h&&xt(a)==3?h.j():this.Y(a)},Qt.prototype.Y=function(a){try{if(a==this.g)e:{let Ke=xt(this.g);var h=this.g.Ba();let Pn=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||Ke!=4||h==7||(h==8||0>=Pn?ut(3):ut(2)),ao(this);var p=this.g.Z();this.X=p;t:if(Ya(this)){var y=fc(this.g);a="";var P=y.length,N=xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),bt(this);var U="";break t}this.h.i=new u.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(N&&h==P-1)});y.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,jr(this.i,this.u,this.A,this.l,this.R,Ke,p),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,qe=this.g;if((_e=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(_e)){var le=_e;break t}}le=null}if(p=le)Le(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,p);else{this.o=!1,this.s=3,Re(12),Tn(this),bt(this);break e}}if(this.P){p=!0;let gt;for(;!this.J&&this.C<U.length;)if(gt=Fl(this,U),gt==so){Ke==4&&(this.s=4,Re(14),p=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Yt){this.s=4,Re(15),Le(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else Le(this.i,this.l,gt,null),co(this,gt);if(Ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||U.length!=0||this.h.h||(this.s=1,Re(16),p=!1),this.o=this.o&&p,!p)Le(this.i,this.l,U,"[Invalid Chunked Response]"),Tn(this),bt(this);else if(0<U.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Gi($e),$e.M=!0,Re(11))}}else Le(this.i,this.l,U,null),co(this,U);Ke==4&&Tn(this),this.o&&!this.J&&(Ke==4?yc(this.j,this):(this.o=!1,ir(this)))}else Jl(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),Tn(this),bt(this)}}}catch{}finally{}};function Ya(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Fl(a,h){var p=a.C,y=h.indexOf(`
`,p);return y==-1?so:(p=Number(h.substring(p,y)),isNaN(p)?Yt:(y+=1,y+p>h.length?so:(h=h.slice(y,y+p),a.C=y+p,h)))}Qt.prototype.cancel=function(){this.J=!0,Tn(this)};function ir(a){a.S=Date.now()+a.I,Ja(a,a.I)}function Ja(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ke(A(a.ba,a),h)}function ao(a){a.B&&(u.clearTimeout(a.B),a.B=null)}Qt.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Ll(this.i,this.A),this.L!=2&&(ut(),Re(17)),Tn(this),this.s=2,bt(this)):Ja(this,this.S-a)};function bt(a){a.j.G==0||a.J||yc(a.j,a)}function Tn(a){ao(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Ui(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function co(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||uo(p.h,a))){if(!a.K&&uo(p.h,a)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Hi(p),zi(p);else break e;vo(p),Re(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=ke(A(p.Za,p),6e3));if(1>=Za(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else en(p,11)}else if((a.K||p.g==a)&&Hi(p),!J(h))for(P=p.Da.g.parse(h),h=0;h<P.length;h++){let le=P[h];if(p.T=le[0],le=le[1],p.G==2)if(le[0]=="c"){p.K=le[1],p.ia=le[2];let $e=le[3];$e!=null&&(p.la=$e,p.j.info("VER="+p.la));let Ke=le[4];Ke!=null&&(p.Aa=Ke,p.j.info("SVER="+p.Aa));let Pn=le[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(y=1.5*Pn,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let gt=a.g;if(gt){let Dn=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var N=y.h;N.g||Dn.indexOf("spdy")==-1&&Dn.indexOf("quic")==-1&&Dn.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(lo(N,N.h),N.h=null))}if(y.D){let yo=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(y.ya=yo,W(y.I,y.D,yo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=a;if(y.qa=_c(y,y.J?y.ia:null,y.W),U.K){ec(y.h,U);var _e=U,qe=y.L;qe&&(_e.I=qe),_e.B&&(ao(_e),ir(_e)),y.g=U}else jt(y);0<p.i.length&&Bt(p)}else le[0]!="stop"&&le[0]!="close"||en(p,7);else p.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?en(p,7):go(p):le[0]!="noop"&&p.l&&p.l.ta(le),p.v=0)}}ut(4)}catch{}}var Ul=class{constructor(a,h){this.g=a,this.map=h}};function ji(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Za(a){return a.h?1:a.g?a.g.size:0}function uo(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function lo(a,h){a.g?a.g.add(h):a.h=h}function ec(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}ji.prototype.cancel=function(){if(this.i=we(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function we(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(let p of a.g.values())h=h.concat(p.D);return h}return j(a.i)}function Bl(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(d(a)){for(var h=[],p=a.length,y=0;y<p;y++)h.push(a[y]);return h}h=[],p=0;for(y in a)h[p++]=a[y];return h}function jl(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(d(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(let y in a)h[p++]=y;return h}}}function tc(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(d(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=jl(a),y=Bl(a),P=y.length,N=0;N<P;N++)h.call(void 0,y[N],p&&p[N],a)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ql(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var y=a[p].indexOf("="),P=null;if(0<=y){var N=a[p].substring(0,y);P=a[p].substring(y+1)}else N=a[p];h(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function An(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof An){this.h=a.h,Jt(this,a.j),this.o=a.o,this.g=a.g,zr(this,a.s),this.l=a.l;var h=a.i,p=new sr;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Gr(this,p),this.m=a.m}else a&&(h=String(a).match(nc))?(this.h=!1,Jt(this,h[1]||"",!0),this.o=Hr(h[2]||""),this.g=Hr(h[3]||"",!0),zr(this,h[4]),this.l=Hr(h[5]||"",!0),Gr(this,h[6]||"",!0),this.m=Hr(h[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}An.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Wr(h,ic,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Wr(h,ic,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Wr(p,p.charAt(0)=="/"?zl:$l,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Wr(p,Gl)),a.join("")};function Tt(a){return new An(a)}function Jt(a,h,p){a.j=p?Hr(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function zr(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Gr(a,h,p){h instanceof sr?(a.i=h,Hl(a.i,a.h)):(p||(h=Wr(h,sc)),a.i=new sr(h,a.h))}function W(a,h,p){a.i.set(h,p)}function qi(a){return W(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Hr(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Wr(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,rc),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function rc(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ic=/[#\/\?@]/g,$l=/[#\?:]/g,zl=/[#\?]/g,sc=/[#\?@]/g,Gl=/#/g;function sr(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Xt(a){a.g||(a.g=new Map,a.h=0,a.i&&ql(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=sr.prototype,n.add=function(a,h){Xt(this),this.i=null,a=or(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function oc(a,h){Xt(a),h=or(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ac(a,h){return Xt(a),h=or(a,h),a.g.has(h)}n.forEach=function(a,h){Xt(this),this.g.forEach(function(p,y){p.forEach(function(P){a.call(h,P,y,this)},this)},this)},n.na=function(){Xt(this);let a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let P=a[y];for(let N=0;N<P.length;N++)p.push(h[y])}return p},n.V=function(a){Xt(this);let h=[];if(typeof a=="string")ac(this,a)&&(h=h.concat(this.g.get(or(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},n.set=function(a,h){return Xt(this),this.i=null,a=or(this,a),ac(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function cc(a,h,p){oc(a,h),0<p.length&&(a.i=null,a.g.set(or(a,h),j(p)),a.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var P=N;U[y]!==""&&(P+="="+encodeURIComponent(String(U[y]))),a.push(P)}}return this.i=a.join("&")};function or(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Hl(a,h){h&&!a.j&&(Xt(a),a.i=null,a.g.forEach(function(p,y){var P=y.toLowerCase();y!=P&&(oc(this,y),cc(this,P,p))},a)),a.j=h}function Wl(a,h){let p=new bn;if(u.Image){let y=new Image;y.onload=O(Zt,p,"TestLoadImage: loaded",!0,h,y),y.onerror=O(Zt,p,"TestLoadImage: error",!1,h,y),y.onabort=O(Zt,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=O(Zt,p,"TestLoadImage: timeout",!1,h,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function uc(a,h){let p=new bn,y=new AbortController,P=setTimeout(()=>{y.abort(),Zt(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(N=>{clearTimeout(P),N.ok?Zt(p,"TestPingServer: ok",!0,h):Zt(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),Zt(p,"TestPingServer: error",!1,h)})}function Zt(a,h,p,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(p)}catch{}}function lc(){this.g=new to}function Kl(a,h,p){let y=p||"";try{tc(a,function(P,N){let U=P;f(P)&&(U=Zs(P)),h.push(y+N+"="+encodeURIComponent(U))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function Kr(a){this.l=a.Ub||null,this.j=a.eb||!1}L(Kr,rr),Kr.prototype.g=function(){return new Ut(this.l,this.j)},Kr.prototype.i=function(a){return function(){return a}}({});function Ut(a,h){be.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ut,be),n=Ut.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Cn(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ho(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ho(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Qr(this):Cn(this),this.readyState==3&&ho(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Qr(this))},n.Qa=function(a){this.g&&(this.response=a,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Cn(a)}n.setRequestHeader=function(a,h){this.u.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Cn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function fo(a){let h="";return pe(a,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function po(a,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=fo(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):W(a,h,p))}function Se(a){be.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Se,be);var Ql=/^https?$/i,Yl=["POST","PUT"];n=Se.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():io.g(),this.v=this.o?Ga(this.o):Ga(io),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(N){hc(this,N);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)p.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),P=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Yl,h,void 0))||y||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of p)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){hc(this,N)}};function hc(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,dc(a),$i(a)}function dc(a){a.A||(a.A=!0,De(a,"complete"),De(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,De(this,"complete"),De(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Se.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sn(this):this.bb())},n.bb=function(){Sn(this)};function Sn(a){if(a.h&&typeof o<"u"&&(!a.v[1]||xt(a)!=4||a.Z()!=2)){if(a.u&&xt(a)==4)za(a.Ea,0,a);else if(De(a,"readystatechange"),xt(a)==4){a.h=!1;try{let U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var P=String(a.D).match(nc)[1]||null;!P&&u.self&&u.self.location&&(P=u.self.location.protocol.slice(0,-1)),y=!Ql.test(P?P.toLowerCase():"")}p=y}if(p)De(a,"complete"),De(a,"success");else{a.m=6;try{var N=2<xt(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",dc(a)}}finally{$i(a)}}}}function $i(a,h){if(a.g){mo(a);let p=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||De(a,"ready");try{p.onreadystatechange=y}catch{}}}function mo(a){a.I&&(u.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function xt(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),eo(h)}};function fc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(a){let h={};a=(a.g&&2<=xt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(J(a[y]))continue;var p=R(a[y]);let P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[P]||[];h[P]=N,N.push(p)}S(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function pc(a){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,a),this.cb=Yr("retryDelaySeedMs",1e4,a),this.Wa=Yr("forwardChannelMaxRetries",2,a),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(a&&a.concurrentRequestLimit),this.Da=new lc,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pc.prototype,n.la=8,n.G=1,n.connect=function(a,h,p,y){Re(0),this.W=a,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=_c(this,null,this.W),Bt(this)};function go(a){if(mc(a),a.G==3){var h=a.U++,p=Tt(a.I);if(W(p,"SID",a.K),W(p,"RID",h),W(p,"TYPE","terminate"),ar(a,p),h=new Qt(a,a.j,h),h.L=2,h.v=qi(Tt(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=h.v,p=!0),p||(h.g=Ic(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ir(h)}Rn(a)}function zi(a){a.g&&(Gi(a),a.g.cancel(),a.g=null)}function mc(a){zi(a),a.u&&(u.clearTimeout(a.u),a.u=null),Hi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function Bt(a){if(!Xa(a.h)&&!a.s){a.s=!0;var h=a.Ga;Y||Ks(),xr||(Y(),xr=!0),Ws.add(h,a),a.B=0}}function Xl(a,h){return Za(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ke(A(a.Ga,a,h),wc(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let P=new Qt(this,this.j,a),N=this.o;if(this.S&&(N?(N=I(N),C(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=vc(this,P,h),p=Tt(this.I),W(p,"RID",a),W(p,"CVER",22),this.D&&W(p,"X-HTTP-Session-Id",this.D),ar(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(fo(N)))+"&"+h:this.m&&po(p,this.m,N)),lo(this.h,P),this.Ua&&W(p,"TYPE","init"),this.P?(W(p,"$req",h),W(p,"SID","null"),P.T=!0,oo(P,p,null)):oo(P,p,h),this.G=2}}else this.G==3&&(a?gc(this,a):this.i.length==0||Xa(this.h)||gc(this))};function gc(a,h){var p;h?p=h.l:p=a.U++;let y=Tt(a.I);W(y,"SID",a.K),W(y,"RID",p),W(y,"AID",a.T),ar(a,y),a.m&&a.o&&po(y,a.m,a.o),p=new Qt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=vc(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lo(a.h,p),oo(p,y,h)}function ar(a,h){a.H&&pe(a.H,function(p,y){W(h,y,p)}),a.l&&tc({},function(p,y){W(h,y,p)})}function vc(a,h,p){p=Math.min(a.i.length,p);var y=a.l?A(a.l.Na,a.l,a):null;e:{var P=a.i;let N=-1;for(;;){let U=["count="+p];N==-1?0<p?(N=P[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let _e=!0;for(let qe=0;qe<p;qe++){let le=P[qe].g,$e=P[qe].map;if(le-=N,0>le)N=Math.max(0,P[qe].g-100),_e=!1;else try{Kl($e,U,"req"+le+"_")}catch{y&&y($e)}}if(_e){y=U.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,y}function jt(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Y||Ks(),xr||(Y(),xr=!0),Ws.add(h,a),a.v=0}}function vo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ke(A(a.Fa,a),wc(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,cr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ke(A(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),zi(this),cr(this))};function Gi(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function cr(a){a.g=new Qt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Tt(a.qa);W(h,"RID","rpc"),W(h,"SID",a.K),W(h,"AID",a.T),W(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&W(h,"TO",a.ja),W(h,"TYPE","xmlhttp"),ar(a,h),a.m&&a.o&&po(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=qi(Tt(h)),p.m=null,p.P=!0,Qa(p,a)}n.Za=function(){this.C!=null&&(this.C=null,zi(this),vo(this),Re(19))};function Hi(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function yc(a,h){var p=null;if(a.g==h){Hi(a),Gi(a),a.g=null;var y=2}else if(uo(a.h,h))p=h.D,ec(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var P=a.B;y=Br(),De(y,new Ve(y,p)),Bt(a)}else jt(a);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&Xl(a,h)||y==2&&vo(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),P){case 1:en(a,5);break;case 4:en(a,10);break;case 3:en(a,6);break;default:en(a,2)}}}function wc(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function en(a,h){if(a.j.info("Error code "+h),h==2){var p=A(a.fb,a),y=a.Xa;let P=!y;y=new An(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jt(y,"https"),qi(y),P?Wl(y.toString(),p):uc(y.toString(),p)}else Re(2);a.G=0,a.l&&a.l.sa(h),Rn(a),mc(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Rn(a){if(a.G=0,a.ka=[],a.l){let h=we(a.h);(h.length!=0||a.i.length!=0)&&(V(a.ka,h),V(a.ka,a.i),a.h.i.length=0,j(a.i),a.i.length=0),a.l.ra()}}function _c(a,h,p){var y=p instanceof An?Tt(p):new An(p);if(y.g!="")h&&(y.g=h+"."+y.g),zr(y,y.s);else{var P=u.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var N=new An(null);y&&Jt(N,y),h&&(N.g=h),P&&zr(N,P),p&&(N.l=p),y=N}return p=a.D,h=a.ya,p&&h&&W(y,p,h),W(y,"VER",a.la),ar(a,y),y}function Ic(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Se(new Kr({eb:p})):new Se(a.pa),h.Ha(a.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}n=Ec.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wi(){}Wi.prototype.g=function(a,h){return new mt(a,h)};function mt(a,h){be.call(this),this.g=new pc(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!J(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!J(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ur(this)}L(mt,be),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){go(this.g)},mt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Zs(a),a=p);h.i.push(new Ul(h.Ya++,a)),h.G==3&&Bt(h)},mt.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,mt.aa.N.call(this)};function bc(a){no.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(let p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}L(bc,no);function Tc(){it.call(this),this.status=1}L(Tc,it);function ur(a){this.g=a}L(ur,Ec),ur.prototype.ua=function(){De(this.g,"a")},ur.prototype.ta=function(a){De(this.g,new bc(a))},ur.prototype.sa=function(a){De(this.g,new Tc)},ur.prototype.ra=function(){De(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,Gf=Hn.createWebChannelTransport=function(){return new Wi},zf=Hn.getStatEventTarget=function(){return Br()},$f=Hn.Event=Nt,qu=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,ya=Hn.ErrorCode=qr,Bi.COMPLETE="complete",qf=Hn.EventType=Bi,ct.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",be.prototype.listen=be.prototype.K,Ts=Hn.WebChannel=ct,jf=Hn.FetchXmlHttpFactory=Kr,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,Bf=Hn.XhrIo=Se}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});var v_="@firebase/firestore";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var zs="10.12.3";var Ai=new _r("@firebase/firestore");function wa(){return Ai.logLevel}function z(n,...e){if(Ai.logLevel<=ae.DEBUG){let t=e.map(Pm);Ai.debug(`Firestore (${zs}): ${n}`,...t)}}function Kn(n,...e){if(Ai.logLevel<=ae.ERROR){let t=e.map(Pm);Ai.error(`Firestore (${zs}): ${n}`,...t)}}function ks(n,...e){if(Ai.logLevel<=ae.WARN){let t=e.map(Pm);Ai.warn(`Firestore (${zs}): ${n}`,...t)}}function Pm(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n="Unexpected state"){let e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+n;throw Kn(e),new Error(e)}function Ce(n,e){n||K()}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Rt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Wu=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tt.UNAUTHENTICATED))}shutdown(){}},Jf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Xf=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let d=s;e.enqueueRetryable(()=>E(this,null,function*(){yield d.promise,yield i(this.currentUser)}))},u=d=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?u(d):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Wu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new tt(e)}},Zf=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ep=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Zf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},np=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.R=t.token,new tp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function PP(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Ku=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=PP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function Ns(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var at=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new at(0,0))}static max(){return new n(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qu=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(),r===void 0?r=e.length-t:r>e.length-t&&K(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Pe=class n extends Qu{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},DP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class n extends Qu{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return DP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new $(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new $(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new $(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new $(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};var rp=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};rp.UNKNOWN_ID=-1;function kP(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new at(t+1,0):new at(t,r));return new Ci(i,G.empty(),e)}function NP(n){return new Ci(n.readTime,n.key,-1)}var Ci=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),G.empty(),-1)}static max(){return new n(ee.max(),G.empty(),-1)}};function xP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var OP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ip=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function La(n){return E(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==OP)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&t()},d=>r(d))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),u=0;for(let d=0;d<s;d++){let f=d;t(e[f]).next(v=>{o[f]=v,++u,u===s&&r(o)},v=>i(v))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function MP(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}var Q_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Sl(n){return n==null}function Aa(n){return n===0&&1/n==-1/0}function VP(n){return typeof n=="number"&&Number.isInteger(n)&&!Aa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EM=[...LP,"documentOverlays"],FP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UP=FP,bM=[...UP,"indexConfiguration","indexState","indexEntries"];function y_(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Y_(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Me=class n{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rs(this.root,e,this.comparator,!0)}},Rs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,t,r,i,s){return this}insert(e,t,r){return new pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class n{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(e){return new Yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Yu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lt=class n{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new n([])}unionWith(e){let t=new dt(Dt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ju=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ju("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var BP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(n){if(Ce(!!n),typeof n=="string"){let e=0,t=BP.exec(n);if(Ce(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pr(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}function Dm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function km(n){let e=n.mapValue.fields.__previous_value__;return Dm(e)?km(e):e}function Ca(n){let e=Qn(n.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var sp=class{constructor(e,t,r,i,s,o,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}},Xu=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dm(n)?4:J_(n)?9007199254740991:10:K()}function vn(n,e){if(n===e)return!0;let t=Si(n);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ca(n).isEqual(Ca(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Qn(i.timestampValue),u=Qn(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Pr(i.bytesValue).isEqual(Pr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Oe(i.doubleValue),u=Oe(s.doubleValue);return o===u?Aa(o)===Aa(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Ns(n.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:return function(i,s){let o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(y_(o)!==y_(u))return!1;for(let d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!vn(o[d],u[d])))return!1;return!0}(n,e);default:return K()}}function Sa(n,e){return(n.values||[]).find(t=>vn(t,e))!==void 0}function xs(n,e){if(n===e)return 0;let t=Si(n),r=Si(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(s,o){let u=Oe(s.integerValue||s.doubleValue),d=Oe(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return w_(n.timestampValue,e.timestampValue);case 4:return w_(Ca(n),Ca(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(s,o){let u=Pr(s),d=Pr(o);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let u=s.split("/"),d=o.split("/");for(let f=0;f<u.length&&f<d.length;f++){let v=ge(u[f],d[f]);if(v!==0)return v}return ge(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let u=ge(Oe(s.latitude),Oe(o.latitude));return u!==0?u:ge(Oe(s.longitude),Oe(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let u=s.values||[],d=o.values||[];for(let f=0;f<u.length&&f<d.length;++f){let v=xs(u[f],d[f]);if(v)return v}return ge(u.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===$u.mapValue&&o===$u.mapValue)return 0;if(s===$u.mapValue)return 1;if(o===$u.mapValue)return-1;let u=s.fields||{},d=Object.keys(u),f=o.fields||{},v=Object.keys(f);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){let A=ge(d[w],v[w]);if(A!==0)return A;let O=xs(u[d[w]],f[v[w]]);if(O!==0)return O}return ge(d.length,v.length)}(n.mapValue,e.mapValue);default:throw K()}}function w_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=Qn(n),r=Qn(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function Os(n){return op(n)}function op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Qn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=op(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${op(t.fields[o])}`;return i+"}"}(n.mapValue):K()}function __(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ap(n){return!!n&&"integerValue"in n}function Nm(n){return!!n&&"arrayValue"in n}function I_(n){return!!n&&"nullValue"in n}function E_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gu(n){return!!n&&"mapValue"in n}function Ia(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ia(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ia(n.arrayValue.values[t]);return e}return Object.assign({},n)}function J_(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(t)}setAll(e){let t=Dt.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){let d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}o?r[u.lastSegment()]=Ia(o):i.push(u.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xi(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ia(this.value))}};function X_(n){let e=[];return xi(n.fields,(t,r)=>{let i=new Dt([t]);if(Gu(r)){let s=X_(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Lt(e)}var Wt=class n{constructor(e,t,r,i,s,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Pt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Pt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Pt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ms=class{constructor(e,t){this.position=e,this.inclusive=t}};function b_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),t.key):r=xs(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function T_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vn(n.position[t],e.position[t]))return!1;return!0}var Vs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function jP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Zu=class{},We=class n extends Zu{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new up(e,t,r):t==="array-contains"?new dp(e,r):t==="in"?new fp(e,r):t==="not-in"?new pp(e,r):t==="array-contains-any"?new mp(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lp(e,r):new hp(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xs(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kt=class n extends Zu{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Z_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Z_(n){return n.op==="and"}function eI(n){return qP(n)&&Z_(n)}function qP(n){for(let e of n.filters)if(e instanceof Kt)return!1;return!0}function cp(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Os(n.value);if(eI(n))return n.filters.map(e=>cp(e)).join(",");{let e=n.filters.map(t=>cp(t)).join(",");return`${n.op}(${e})`}}function tI(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(n,e):n instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&tI(o,i.filters[u]),!0):!1}(n,e):void K()}function nI(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${Os(t.value)}`}(n):n instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(nI).join(" ,")+"}"}(n):"Filter"}var up=class extends We{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},lp=class extends We{constructor(e,t){super(e,"in",t),this.keys=rI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hp=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=rI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var dp=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Nm(t)&&Sa(t.arrayValue,this.value)}},fp=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Sa(this.value.arrayValue,t)}},pp=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Sa(this.value.arrayValue,t)}},mp=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Nm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sa(this.value.arrayValue,r))}};var gp=class{constructor(e,t=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ue=null}};function A_(n,e=null,t=[],r=[],i=null,s=null,o=null){return new gp(n,e,t,r,i,s,o)}function xm(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Os(r)).join(",")),e.ue=t}return e.ue}function Om(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T_(n.startAt,e.startAt)&&T_(n.endAt,e.endAt)}function vp(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ri=class{constructor(e,t=null,r=[],i=[],s=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function $P(n,e,t,r,i,s,o,u){return new Ri(n,e,t,r,i,s,o,u)}function Mm(n){return new Ri(n)}function C_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iI(n){return n.collectionGroup!==null}function Ea(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new dt(Dt.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vs(s,r))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new Vs(Dt.keyField(),r))}return e.ce}function mn(n){let e=Z(n);return e.le||(e.le=zP(e,Ea(n))),e.le}function zP(n,e){if(n.limitType==="F")return A_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Vs(i.field,s)});let t=n.endAt?new Ms(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ms(n.startAt.position,n.startAt.inclusive):null;return A_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yp(n,e){let t=n.filters.concat([e]);return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wp(n,e,t){return new Ri(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rl(n,e){return Om(mn(n),mn(e))&&n.limitType===e.limitType}function sI(n){return`${xm(mn(n))}|lt:${n.limitType}`}function As(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nI(i)).join(", ")}]`),Sl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Os(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Os(i)).join(",")),`Target(${r})`}(mn(n))}; limitType=${n.limitType})`}function Pl(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Ea(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,u,d){let f=b_(o,u,d);return o.inclusive?f<=0:f<0}(r.startAt,Ea(r),i)||r.endAt&&!function(o,u,d){let f=b_(o,u,d);return o.inclusive?f>=0:f>0}(r.endAt,Ea(r),i))}(n,e)}function GP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oI(n){return(e,t)=>{let r=!1;for(let i of Ea(n)){let s=HP(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HP(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(s,o,u){let d=o.data.field(s),f=u.data.field(s);return d!==null&&f!==null?xs(d,f):K()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var Dr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}};var WP=new Me(G.comparator);function Yn(){return WP}var aI=new Me(G.comparator);function _a(...n){let e=aI;for(let t of n)e=e.insert(t.key,t);return e}function cI(n){let e=aI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ei(){return ba()}function uI(){return ba()}function ba(){return new Dr(n=>n.toString(),(n,e)=>n.isEqual(e))}var KP=new Me(G.comparator),QP=new dt(G.comparator);function ce(...n){let e=QP;for(let t of n)e=e.add(t);return e}var YP=new dt(ge);function JP(){return YP}function lI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(e)?"-0":e}}function hI(n){return{integerValue:""+n}}function XP(n,e){return VP(e)?hI(e):lI(n,e)}var Ls=class{constructor(){this._=void 0}};function ZP(n,e,t){return n instanceof Fs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dm(s)&&(s=km(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Pi?fI(n,e):n instanceof Di?pI(n,e):function(i,s){let o=dI(i,s),u=S_(o)+S_(i.Pe);return ap(o)&&ap(i.Pe)?hI(u):lI(i.serializer,u)}(n,e)}function eD(n,e,t){return n instanceof Pi?fI(n,e):n instanceof Di?pI(n,e):t}function dI(n,e){return n instanceof Us?function(r){return ap(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Fs=class extends Ls{},Pi=class extends Ls{constructor(e){super(),this.elements=e}};function fI(n,e){let t=mI(e);for(let r of n.elements)t.some(i=>vn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Di=class extends Ls{constructor(e){super(),this.elements=e}};function pI(n,e){let t=mI(e);for(let r of n.elements)t=t.filter(i=>!vn(i,r));return{arrayValue:{values:t}}}var Us=class extends Ls{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function S_(n){return Oe(n.integerValue||n.doubleValue)}function mI(n){return Nm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Pi&&i instanceof Pi||r instanceof Di&&i instanceof Di?Ns(r.elements,i.elements,vn):r instanceof Us&&i instanceof Us?vn(r.Pe,i.Pe):r instanceof Fs&&i instanceof Fs}(n.transform,e.transform)}var _p=class{constructor(e,t){this.version=e,this.transformResults=t}},Sr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Bs=class{};function gI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new el(n.key,Sr.none()):new ki(n.key,n.data,Sr.none());{let t=n.data,r=Pt.empty(),i=new dt(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yn(n.key,r,new Lt(i.toArray()),Sr.none())}}function nD(n,e,t){n instanceof ki?function(i,s,o){let u=i.value.clone(),d=P_(i.fieldTransforms,s,o.transformResults);u.setAll(d),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof yn?function(i,s,o){if(!Hu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let u=P_(i.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(vI(i)),d.setAll(u),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ta(n,e,t,r){return n instanceof ki?function(s,o,u,d){if(!Hu(s.precondition,o))return u;let f=s.value.clone(),v=D_(s.fieldTransforms,d,o);return f.setAll(v),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof yn?function(s,o,u,d){if(!Hu(s.precondition,o))return u;let f=D_(s.fieldTransforms,d,o),v=o.data;return v.setAll(vI(s)),v.setAll(f),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(s,o,u){return Hu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(n,e,t)}function rD(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=dI(r.transform,i||null);s!=null&&(t===null&&(t=Pt.empty()),t.set(r.field,s))}return t||null}function R_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ns(r,i,(s,o)=>tD(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ki=class extends Bs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yn=class extends Bs{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function vI(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function P_(n,e,t){let r=new Map;Ce(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,eD(o,u,t[i]))}return r}function D_(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,ZP(s,o,e))}return r}var el=class extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ip=class extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ep=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&nD(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ta(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ta(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=uI();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,u=this.applyToLocalView(o,s.mutatedFields);u=t.has(i.key)?null:u;let d=gI(o,u);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(t,r)=>R_(t,r))&&Ns(this.baseMutations,e.baseMutations,(t,r)=>R_(t,r))}},bp=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ce(e.mutations.length===r.length);let i=function(){return KP}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Tp=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ap=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,he;function iD(n){switch(n){default:return K();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function yI(n){if(n===void 0)return Kn("GRPC error has no .code"),M.UNKNOWN;switch(n){case Ge.OK:return M.OK;case Ge.CANCELLED:return M.CANCELLED;case Ge.UNKNOWN:return M.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return M.INTERNAL;case Ge.UNAVAILABLE:return M.UNAVAILABLE;case Ge.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ge.NOT_FOUND:return M.NOT_FOUND;case Ge.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ge.ABORTED:return M.ABORTED;case Ge.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ge.DATA_LOSS:return M.DATA_LOSS;default:return K()}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var k_=null;function sD(){return new TextEncoder}var oD=new Cr([4294967295,4294967295],0);function N_(n){let e=sD().encode(n),t=new Uf;return t.update(e),new Uint8Array(t.digest())}function x_(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cr([t,r],0),new Cr([i,s],0)]}var Cp=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bi(`Invalid padding: ${t}`);if(r<0)throw new bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Cr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Cr.fromNumber(r)));return i.compare(oD)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=N_(e),[r,i]=x_(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;let t=N_(e),[r,i]=x_(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var tl=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ra.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Me(ge),Yn(),ce())}},Ra=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var Ps=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},nl=class{constructor(e,t){this.targetId=e,this.me=t}},rl=class{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},il=class{constructor(){this.fe=0,this.ge=M_(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ce(),t=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Ra(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=M_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Sp=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yn(),this.qe=O_(),this.Qe=new Me(ge)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(vp(s))if(r===0){let o=new G(s.path);this.Ue(t,o,Wt.newNoDocument(o,ee.min()))}else Ce(r===1);else{let o=this.Ye(t);if(o!==r){let u=this.Ze(e),d=u?this.Xe(u,e,o):1;if(d!==0){this.je(t);let f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}k_?.et(function(v,w,A,O,L){var j,V,Q,J,te,Ee;let nt={localCacheCount:v,existenceFilterCount:w.count,databaseId:A.database,projectId:A.projectId},pe=w.unchangedNames;return pe&&(nt.bloomFilter={applied:L===0,hashCount:(j=pe?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(J=(Q=(V=pe?.bits)===null||V===void 0?void 0:V.bitmap)===null||Q===void 0?void 0:Q.length)!==null&&J!==void 0?J:0,padding:(Ee=(te=pe?.bits)===null||te===void 0?void 0:te.padding)!==null&&Ee!==void 0?Ee:0,mightContain:S=>{var I;return(I=O?.mightContain(S))!==null&&I!==void 0&&I}}),nt}(o,e.me,this.Le.tt(),u,d))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,u;try{o=Pr(r).toUint8Array()}catch(d){if(d instanceof Ju)return ks("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Cp(o,i,s)}catch(d){return ks(d instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let u=this.Je(o);if(u){if(s.current&&vp(u.target)){let d=new G(u.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Wt.newNoDocument(d,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=ce();this.qe.forEach((s,o)=>{let u=!0;o.forEachWhile(d=>{let f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new tl(e,t,this.Qe,this.ke,r);return this.ke=Yn(),this.qe=O_(),this.Qe=new Me(ge),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new il,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new dt(ge),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new il),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function O_(){return new Me(G.comparator)}function M_(){return new Me(G.comparator)}var aD={asc:"ASCENDING",desc:"DESCENDING"},cD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uD={and:"AND",or:"OR"},Rp=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Pp(n,e){return n.useProto3Json||Sl(e)?e:{value:e}}function sl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lD(n,e){return sl(n,e.toTimestamp())}function gn(n){return Ce(!!n),ee.fromTimestamp(function(t){let r=Qn(t);return new at(r.seconds,r.nanos)}(n))}function Vm(n,e){return Dp(n,e).canonicalString()}function Dp(n,e){let t=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _I(n){let e=Pe.fromString(n);return Ce(AI(e)),e}function kp(n,e){return Vm(n.databaseId,e.path)}function Hf(n,e){let t=_I(e);if(t.get(1)!==n.databaseId.projectId)throw new $(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(EI(t))}function II(n,e){return Vm(n.databaseId,e)}function hD(n){let e=_I(n);return e.length===4?Pe.emptyPath():EI(e)}function Np(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EI(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function V_(n,e,t){return{name:kp(n,e),fields:t.value.mapValue.fields}}function dD(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,v){return f.useProto3Json?(Ce(v===void 0||typeof v=="string"),vt.fromBase64String(v||"")):(Ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array),vt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){let v=f.code===void 0?M.UNKNOWN:yI(f.code);return new $(v,f.message||"")}(o);t=new rl(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Hf(n,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):ee.min(),u=new Pt({mapValue:{fields:r.document.fields}}),d=Wt.newFoundDocument(i,s,o,u),f=r.targetIds||[],v=r.removedTargetIds||[];t=new Ps(f,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Hf(n,r.document),s=r.readTime?gn(r.readTime):ee.min(),o=Wt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Ps([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Hf(n,r.document),s=r.removedTargetIds||[];t=new Ps([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Ap(i,s),u=r.targetId;t=new nl(u,o)}}return t}function fD(n,e){let t;if(e instanceof ki)t={update:V_(n,e.key,e.value)};else if(e instanceof el)t={delete:kp(n,e.key)};else if(e instanceof yn)t={update:V_(n,e.key,e.data),updateMask:ED(e.fieldMask)};else{if(!(e instanceof Ip))return K();t={verify:kp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let u=o.transform;if(u instanceof Fs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Pi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Di)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Us)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw K()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(n,e.precondition)),t}function pD(n,e){return n&&n.length>0?(Ce(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?gn(i.updateTime):gn(s);return o.isEqual(ee.min())&&(o=gn(s)),new _p(o,i.transformResults||[])}(t,e))):[]}function mD(n,e){return{documents:[II(n,e.path)]}}function gD(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=II(n,i);let s=function(f){if(f.length!==0)return TI(Kt.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(f){if(f.length!==0)return f.map(v=>function(A){return{field:Cs(A.field),direction:wD(A.dir)}}(v))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let u=Pp(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:t,parent:i}}function vD(n){let e=hD(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ce(r===1);let v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let s=[];t.where&&(s=function(w){let A=bI(w);return A instanceof Kt&&eI(A)?A.getFilters():[A]}(t.where));let o=[];t.orderBy&&(o=function(w){return w.map(A=>function(L){return new Vs(Ss(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(t.orderBy));let u=null;t.limit&&(u=function(w){let A;return A=typeof w=="object"?w.value:w,Sl(A)?null:A}(t.limit));let d=null;t.startAt&&(d=function(w){let A=!!w.before,O=w.values||[];return new Ms(O,A)}(t.startAt));let f=null;return t.endAt&&(f=function(w){let A=!w.before,O=w.values||[];return new Ms(O,A)}(t.endAt)),$P(e,i,o,s,u,"F",d,f)}function yD(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ss(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ss(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ss(t.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ss(t.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):n.fieldFilter!==void 0?function(t){return We.create(Ss(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kt.create(t.compositeFilter.filters.map(r=>bI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(n):K()}function wD(n){return aD[n]}function _D(n){return cD[n]}function ID(n){return uD[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function Ss(n){return Dt.fromServerFormat(n.fieldPath)}function TI(n){return n instanceof We?function(t){if(t.op==="=="){if(E_(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NAN"}};if(I_(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(E_(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NAN"}};if(I_(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(t.field),op:_D(t.op),value:t.value}}}(n):n instanceof Kt?function(t){let r=t.getFilters().map(i=>TI(i));return r.length===1?r[0]:{compositeFilter:{op:ID(t.op),filters:r}}}(n):K()}function ED(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pa=class n{constructor(e,t,r,i,s=ee.min(),o=ee.min(),u=vt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xp=class{constructor(e){this.ct=e}};function bD(n){let e=vD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wp(e,e.limit,"L"):e}var ol=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Aa(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=Qn(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Pr(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?J_(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):K()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let r=e.fields||{};this.Et(t,55);for(let i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){let r=e.values||[];this.Et(t,50);for(let i of r)this.It(i,t)}gt(e,t){this.Et(t,37),G.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};ol.bt=new ol;var Op=class{constructor(){this._n=new Mp}addToCollectionParentIndex(e,t){return this._n.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Ci.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},Mp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(Pe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Pe.comparator)).toArray()}};var AM=new Uint8Array(0);var dn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var Da=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var Vp=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Fp=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ta(r.mutation,i,Lt.empty(),at.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=Ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=_a();return s.forEach((u,d)=>{o=o.insert(u,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,r,i){let s=Yn(),o=ba(),u=function(){return ba()}();return t.forEach((d,f)=>{let v=r.get(f.key);i.has(f.key)&&(v===void 0||v.mutation instanceof yn)?s=s.insert(f.key,f):v!==void 0?(o.set(f.key,v.mutation.getFieldMask()),Ta(v.mutation,f,v.mutation.getFieldMask(),at.now())):o.set(f.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((f,v)=>o.set(f,v)),t.forEach((f,v)=>{var w;return u.set(f,new Lp(v,(w=o.get(f))!==null&&w!==void 0?w:null))}),u))}recalculateAndSaveOverlays(e,t){let r=ba(),i=new Me((o,u)=>o-u),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let u of o)u.keys().forEach(d=>{let f=t.get(d);if(f===null)return;let v=r.get(d)||Lt.empty();v=u.applyToLocalView(f,v),r.set(d,v);let w=(i.get(u.batchId)||ce()).add(d);i=i.insert(u.batchId,w)})}).next(()=>{let o=[],u=i.getReverseIterator();for(;u.hasNext();){let d=u.getNext(),f=d.key,v=d.value,w=uI();v.forEach(A=>{if(!s.has(A)){let O=gI(t.get(A),r.get(A));O!==null&&w.set(A,O),s=s.add(A)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,w))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):F.resolve(Ei()),u=-1,d=s;return o.next(f=>F.forEach(f,(v,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(v)?F.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{d=d.insert(v,A)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,d,f,ce())).next(v=>({batchId:u,changes:cI(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=_a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=_a();return this.indexManager.getCollectionParents(e,s).next(u=>F.forEach(u,d=>{let f=function(w,A){return new Ri(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(v=>{v.forEach((w,A)=>{o=o.insert(w,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((d,f)=>{let v=f.getKey();o.get(v)===null&&(o=o.insert(v,Wt.newInvalidDocument(v)))});let u=_a();return o.forEach((d,f)=>{let v=s.get(d);v!==void 0&&Ta(v.mutation,f,Lt.empty(),at.now()),Pl(t,f)&&(u=u.insert(d,f))}),u})}};var Up=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return F.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:gn(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:bD(i.bundledQuery),readTime:gn(i.readTime)}}(t)),F.resolve()}};var Bp=class{constructor(){this.overlays=new Me(G.comparator),this.hr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ei();return F.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=Ei(),s=t.length+1,o=new G(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){let d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Me((f,v)=>f-v),o=this.overlays.getIterator();for(;o.hasNext();){let f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let v=s.get(f.largestBatchId);v===null&&(v=Ei(),s=s.insert(f.largestBatchId,v)),v.set(f.getKey(),f)}}let u=Ei(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,v)=>u.set(f,v)),!(u.size()>=i)););return F.resolve(u)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tp(t,r));let s=this.hr.get(t);s===void 0&&(s=ce(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}};var ka=class{constructor(){this.Pr=new dt(He.Ir),this.Tr=new dt(He.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let r=new He(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new He(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){let t=new G(new Pe([])),r=new He(t,e),i=new He(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new G(new Pe([])),r=new He(t,e),i=new He(t,e+1),s=ce();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new He(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return G.comparator(e.key,t.key)||ge(e.pr,t.pr)}static Er(e,t){return ge(e.pr,t.pr)||G.comparator(e.key,t.key)}};var jp=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new dt(He.Ir)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ep(s,t,r,i);this.mutationQueue.push(o);for(let u of i)this.wr=this.wr.add(new He(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,t){return F.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.br(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let u=this.Sr(o.pr);s.push(u)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ge);return t.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],u=>{r=r.add(u.pr)})}),F.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new He(new G(s),0),u=new dt(ge);return this.wr.forEachWhile(d=>{let f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.pr)),!0)},o),F.resolve(this.Dr(u))}Dr(e){let t=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ce(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return F.forEach(t.mutations,i=>{let s=new He(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){let r=new He(t,0),i=this.wr.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qp=class{constructor(e){this.vr=e,this.docs=function(){return new Me(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=Yn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Yn(),o=t.path,u=new G(o.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){let{key:f,value:{document:v}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||xP(NP(v),r)<=0||(i.has(v.key)||Pl(t,v))&&(s=s.insert(v.key,v.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,t,r,i){K()}Fr(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $p(this)}getSize(e){return F.resolve(this.size)}},$p=class extends Vp{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var zp=class{constructor(e){this.persistence=e,this.Mr=new Dr(t=>xm(t),Om),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ka,this.targetCount=0,this.Lr=Da.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),F.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.qn(t),F.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Mr.forEach((o,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Mr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Nr.gr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Nr.containsKey(t))}};var Gp=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new Q_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new zp(this),this.indexManager=new Op,this.remoteDocumentCache=function(i){return new qp(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new xp(t),this.$r=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new jp(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new Hp(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return F.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}},Hp=class extends ip{constructor(e){super(),this.currentSequenceNumber=e}},Wp=class n{constructor(e){this.persistence=e,this.zr=new ka,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),F.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Jr,r=>{let i=G.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return F.or([()=>F.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var Kp=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=ce(),i=ce();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Qp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yp=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Qy()?8:MP(Qe())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Qp;return this.Ji(e,t,o).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,t,o,u.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(wa()<=ae.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",As(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),F.resolve()):(wa()<=ae.DEBUG&&z("QueryEngine","Query:",As(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(wa()<=ae.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",As(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(t))):F.resolve())}ji(e,t){if(C_(t))return F.resolve(null);let r=mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wp(t,null,"F"),r=mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ce(...s);return this.zi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{let f=this.Zi(t,u);return this.Xi(t,f,o,d.readTime)?this.ji(e,wp(t,null,"F")):this.es(e,f,t,d)}))})))}Hi(e,t,r,i){return C_(t)||i.isEqual(ee.min())?F.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(t,s);return this.Xi(t,o,r,i)?F.resolve(null):(wa()<=ae.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(t)),this.es(e,o,t,kP(i,-1)).next(u=>u))})}Zi(e,t){let r=new dt(oI(e));return t.forEach((i,s)=>{Pl(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return wa()<=ae.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",As(t)),this.zi.getDocumentsMatchingQuery(e,t,Ci.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Jp=class{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Me(ge),this.rs=new Dr(s=>xm(s),Om),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function TD(n,e,t,r){return new Jp(n,e,t,r)}function CI(n,e){return E(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],u=[],d=ce();for(let f of i){o.push(f.batchId);for(let v of f.mutations)d=d.add(v.key)}for(let f of s){u.push(f.batchId);for(let v of f.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(r,d).next(f=>({us:f,removedBatchIds:o,addedBatchIds:u}))})})})}function AD(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(u,d,f,v){let w=f.batch,A=w.keys(),O=F.resolve();return A.forEach(L=>{O=O.next(()=>v.getEntry(d,L)).next(j=>{let V=f.docVersions.get(L);Ce(V!==null),j.version.compareTo(V)<0&&(w.applyToRemoteDocument(j,f),j.isValidDocument()&&(j.setReadTime(f.commitVersion),v.addEntry(j)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(d,w))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=ce();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SI(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function CD(n,e){let t=Z(n),r=e.snapshotVersion,i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;let u=[];e.targetChanges.forEach((v,w)=>{let A=i.get(w);if(!A)return;u.push(t.Qr.removeMatchingKeys(s,v.removedDocuments,w).next(()=>t.Qr.addMatchingKeys(s,v.addedDocuments,w)));let O=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(vt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),i=i.insert(w,O),function(j,V,Q){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,O,v)&&u.push(t.Qr.updateTargetData(s,O))});let d=Yn(),f=ce();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),u.push(SD(s,o,e.documentUpdates).next(v=>{d=v.cs,f=v.ls})),!r.isEqual(ee.min())){let v=t.Qr.getLastRemoteSnapshotVersion(s).next(w=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(v)}return F.waitFor(u).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(t.ns=i,s))}function SD(n,e,t){let r=ce(),i=ce();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Yn();return t.forEach((u,d)=>{let f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(ee.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):z("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{cs:o,ls:i}})}function RD(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PD(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new Pa(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function Xp(n,e,t){return E(this,null,function*(){let r=Z(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fa(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function L_(n,e,t){let r=Z(n),i=ee.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,v){let w=Z(d),A=w.rs.get(v);return A!==void 0?F.resolve(w.ns.get(A)):w.Qr.getTargetData(f,v)}(r,o,mn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,u.targetId).next(d=>{s=d})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:ee.min(),t?s:ce())).next(u=>(DD(r,GP(e),u),{documents:u,hs:s})))}function DD(n,e,t){let r=n.ss.get(e)||ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}var al=class{constructor(){this.activeTargetIds=JP()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Zp=class{constructor(){this.no=new al,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new al,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var em=class{io(e){}shutdown(){}};var cl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zu=null;function Wf(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}var kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var tm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ht="WebChannelConnection",nm=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(t,r,i,s,o){let u=Wf(),d=this.vo(t,r.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);let f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,s,o),this.Mo(t,d,f,i).then(v=>(z("RestConnection",`Received RPC '${t}' ${u}: `,v),v),v=>{throw ks("RestConnection",`RPC '${t}' ${u} failed with error: `,v,"url: ",d,"request:",i),v})}xo(t,r,i,s,o,u){return this.Co(t,r,i,s,o)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}vo(t,r){let i=kD[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){let s=Wf();return new Promise((o,u)=>{let d=new Bf;d.setWithCredentials(!0),d.listenOnce(qf.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ya.NO_ERROR:let v=d.getResponseJson();z(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),o(v);break;case ya.TIMEOUT:z(ht,`RPC '${e}' ${s} timed out`),u(new $(M.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:let w=d.getStatus();if(z(ht,`RPC '${e}' ${s} failed with status:`,w,"response text:",d.getResponseText()),w>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);let O=A?.error;if(O&&O.status&&O.message){let L=function(V){let Q=V.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(Q)>=0?Q:M.UNKNOWN}(O.status);u(new $(L,O.message))}else u(new $(M.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new $(M.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{z(ht,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);z(ht,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",f,r,15)})}Oo(e,t,r){let i=Wf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gf(),u=zf(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new jf({})),this.Fo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;let v=s.join("");z(ht,`Creating RPC '${e}' stream ${i}: ${v}`,d);let w=o.createWebChannel(v,d),A=!1,O=!1,L=new tm({lo:V=>{O?z(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(A||(z(ht,`Opening RPC '${e}' stream ${i} transport.`),w.open(),A=!0),z(ht,`RPC '${e}' stream ${i} sending:`,V),w.send(V))},ho:()=>w.close()}),j=(V,Q,J)=>{V.listen(Q,te=>{try{J(te)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return j(w,Ts.EventType.OPEN,()=>{O||(z(ht,`RPC '${e}' stream ${i} transport opened.`),L.mo())}),j(w,Ts.EventType.CLOSE,()=>{O||(O=!0,z(ht,`RPC '${e}' stream ${i} transport closed`),L.po())}),j(w,Ts.EventType.ERROR,V=>{O||(O=!0,ks(ht,`RPC '${e}' stream ${i} transport errored:`,V),L.po(new $(M.UNAVAILABLE,"The operation could not be completed")))}),j(w,Ts.EventType.MESSAGE,V=>{var Q;if(!O){let J=V.data[0];Ce(!!J);let te=J,Ee=te.error||((Q=te[0])===null||Q===void 0?void 0:Q.error);if(Ee){z(ht,`RPC '${e}' stream ${i} received error:`,Ee);let nt=Ee.status,pe=function(T){let C=Ge[T];if(C!==void 0)return yI(C)}(nt),S=Ee.message;pe===void 0&&(pe=M.INTERNAL,S="Unknown error status: "+nt+" with message "+Ee.message),O=!0,L.po(new $(pe,S)),w.close()}else z(ht,`RPC '${e}' stream ${i} received:`,J),L.yo(J)}}),j(u,$f.STAT_EVENT,V=>{V.stat===qu.PROXY?z(ht,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===qu.NOPROXY&&z(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}};function Kf(){return typeof document<"u"?document:null}function Dl(n){return new Rp(n,!0)}var ul=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var ll=class{constructor(e,t,r,i,s,o,u,d){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ul(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return E(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return E(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return E(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{let i=new $(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){let r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>E(this,null,function*(){this.state=0,this.start()}))}c_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},rm=class extends ll{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=dD(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?gn(o.readTime):ee.min()}(e);return this.listener.h_(t,r)}P_(e){let t={};t.database=Np(this.serializer),t.addTarget=function(s,o){let u,d=o.target;if(u=vp(d)?{documents:mD(s,d)}:{query:gD(s,d)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=wI(s,o.resumeToken);let f=Pp(s,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(ee.min())>0){u.readTime=sl(s,o.snapshotVersion.toTimestamp());let f=Pp(s,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);let r=yD(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){let t={};t.database=Np(this.serializer),t.removeTarget=e,this.i_(t)}},im=class extends ll{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=pD(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.A_(r,t)}return Ce(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Np(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>fD(this.serializer,r))};this.i_(t)}};var sm=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new $(M.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Dp(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(M.UNKNOWN,s.toString())})}xo(e,t,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.xo(e,Dp(t,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(M.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},om=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Kn(t),this.y_=!1):z("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var am=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>E(this,null,function*(){Oi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(d){return E(this,null,function*(){let f=Z(d);f.M_.add(4),yield Ua(f),f.N_.set("Unknown"),f.M_.delete(4),yield kl(f)})}(this))}))}),this.N_=new om(r,i)}};function kl(n){return E(this,null,function*(){if(Oi(n))for(let e of n.x_)yield e(!0)})}function Ua(n){return E(this,null,function*(){for(let e of n.x_)yield e(!1)})}function RI(n,e){let t=Z(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Bm(t)?Um(t):Gs(t).Xo()&&Fm(t,e))}function Lm(n,e){let t=Z(n),r=Gs(t);t.F_.delete(e),r.Xo()&&PI(t,e),t.F_.size===0&&(r.Xo()?r.n_():Oi(t)&&t.N_.set("Unknown"))}function Fm(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gs(n).P_(e)}function PI(n,e){n.L_.xe(e),Gs(n).I_(e)}function Um(n){n.L_=new Sp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Gs(n).start(),n.N_.w_()}function Bm(n){return Oi(n)&&!Gs(n).Zo()&&n.F_.size>0}function Oi(n){return Z(n).M_.size===0}function DI(n){n.L_=void 0}function ND(n){return E(this,null,function*(){n.N_.set("Online")})}function xD(n){return E(this,null,function*(){n.F_.forEach((e,t)=>{Fm(n,e)})})}function OD(n,e){return E(this,null,function*(){DI(n),Bm(n)?(n.N_.D_(e),Um(n)):n.N_.set("Unknown")})}function MD(n,e,t){return E(this,null,function*(){if(n.N_.set("Online"),e instanceof rl&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let u of s.targetIds)i.F_.has(u)&&(yield i.remoteSyncer.rejectListen(u,o),i.F_.delete(u),i.L_.removeTarget(u))})}(n,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hl(n,r)}else if(e instanceof Ps?n.L_.Ke(e):e instanceof nl?n.L_.He(e):n.L_.We(e),!t.isEqual(ee.min()))try{let r=yield SI(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let u=s.L_.rt(o);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){let v=s.F_.get(f);v&&s.F_.set(f,v.withResumeToken(d.resumeToken,o))}}),u.targetMismatches.forEach((d,f)=>{let v=s.F_.get(d);if(!v)return;s.F_.set(d,v.withResumeToken(vt.EMPTY_BYTE_STRING,v.snapshotVersion)),PI(s,d);let w=new Pa(v.target,d,f,v.sequenceNumber);Fm(s,w)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield hl(n,r)}})}function hl(n,e,t){return E(this,null,function*(){if(!Fa(e))throw e;n.M_.add(1),yield Ua(n),n.N_.set("Offline"),t||(t=()=>SI(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield kl(n)}))})}function kI(n,e){return e().catch(t=>hl(n,t,e))}function Nl(n){return E(this,null,function*(){let e=Z(n),t=kr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;VD(e);)try{let i=yield RD(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,LD(e,i)}catch(i){yield hl(e,i)}NI(e)&&xI(e)})}function VD(n){return Oi(n)&&n.v_.length<10}function LD(n,e){n.v_.push(e);let t=kr(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function NI(n){return Oi(n)&&!kr(n).Zo()&&n.v_.length>0}function xI(n){kr(n).start()}function FD(n){return E(this,null,function*(){kr(n).V_()})}function UD(n){return E(this,null,function*(){let e=kr(n);for(let t of n.v_)e.d_(t.mutations)})}function BD(n,e,t){return E(this,null,function*(){let r=n.v_.shift(),i=bp.from(r,e,t);yield kI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nl(n)})}function jD(n,e){return E(this,null,function*(){e&&kr(n).E_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return iD(o)&&o!==M.ABORTED}(i.code)){let s=r.v_.shift();kr(r).t_(),yield kI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Nl(r)}})}(n,e)),NI(n)&&xI(n)})}function F_(n,e){return E(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=Oi(t);t.M_.add(3),yield Ua(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield kl(t)})}function qD(n,e){return E(this,null,function*(){let t=Z(n);e?(t.M_.delete(2),yield kl(t)):e||(t.M_.add(2),yield Ua(t),t.N_.set("Unknown"))})}function Gs(n){return n.B_||(n.B_=function(t,r,i){let s=Z(t);return s.f_(),new rm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:ND.bind(null,n),To:xD.bind(null,n),Ao:OD.bind(null,n),h_:MD.bind(null,n)}),n.x_.push(e=>E(this,null,function*(){e?(n.B_.t_(),Bm(n)?Um(n):n.N_.set("Unknown")):(yield n.B_.stop(),DI(n))}))),n.B_}function kr(n){return n.k_||(n.k_=function(t,r,i){let s=Z(t);return s.f_(),new im(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:FD.bind(null,n),Ao:jD.bind(null,n),R_:UD.bind(null,n),A_:BD.bind(null,n)}),n.x_.push(e=>E(this,null,function*(){e?(n.k_.t_(),yield Nl(n)):(yield n.k_.stop(),n.v_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var cm=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,u=new n(e,t,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jm(n,e){if(Kn("AsyncQueue",`${e}: ${n}`),Fa(n))return new $(M.UNAVAILABLE,`${e}: ${n}`);throw n}var dl=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=_a(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var fl=class{constructor(){this.q_=new Me(G.comparator)}track(e){let t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}},js=class n{constructor(e,t,r,i,s,o,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new n(e,t,dl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var um=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},lm=class{constructor(){this.queries=new Dr(e=>sI(e),Rl),this.onlineState="Unknown",this.z_=new Set}};function OI(n,e){return E(this,null,function*(){let t=Z(n),r=3,i=e.query,s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new um,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let u=jm(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&qm(t)})}function MI(n,e){return E(this,null,function*(){let t=Z(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function $D(n,e){let t=Z(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let u of o.U_)u.H_(i)&&(r=!0);o.K_=i}}r&&qm(t)}function zD(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(t);r.queries.delete(e)}function qm(n){n.z_.forEach(e=>{e.next()})}var hm,U_;(U_=hm||(hm={})).J_="default",U_.Cache="cache";var pl=class{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hm.Cache}};var ml=class{constructor(e){this.key=e}},gl=class{constructor(e){this.key=e}},dm=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ce(),this.mutatedKeys=ce(),this.Ia=oI(e),this.Ta=new dl(this.Ia)}get Ea(){return this.la}da(e,t){let r=t?t.Aa:new fl,i=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{let A=i.get(v),O=Pl(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),j=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations),V=!1;A&&O?A.data.isEqual(O.data)?L!==j&&(r.track({type:3,doc:O}),V=!0):this.Ra(A,O)||(r.track({type:2,doc:O}),V=!0,(d&&this.Ia(O,d)>0||f&&this.Ia(O,f)<0)&&(u=!0)):!A&&O?(r.track({type:0,doc:O}),V=!0):A&&!O&&(r.track({type:1,doc:A}),V=!0,(d||f)&&(u=!0)),V&&(O?(o=o.add(O),s=j?s.add(v):s.delete(v)):(o=o.delete(v),s=s.delete(v)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let v=this.query.limitType==="F"?o.last():o.first();o=o.delete(v.key),s=s.delete(v.key),r.track({type:1,doc:v})}return{Ta:o,Aa:r,Xi:u,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((v,w)=>function(O,L){let j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return j(O)-j(L)}(v.type,w.type)||this.Ia(v.doc,w.doc)),this.Va(r),i=i!=null&&i;let u=t&&!i?this.ma():[],d=this.Pa.size===0&&this.current&&!i?1:0,f=d!==this.ha;return this.ha=d,o.length!==0||f?{snapshot:new js(this.query,e.Ta,s,o,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=ce(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new gl(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new ml(r))}),t}pa(e){this.la=e.hs,this.Pa=ce();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return js.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},fm=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},pm=class{constructor(e){this.key=e,this.wa=!1}},mm=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Dr(u=>sI(u),Rl),this.Da=new Map,this.Ca=new Set,this.va=new Me(G.comparator),this.Fa=new Map,this.Ma=new ka,this.xa={},this.Oa=new Map,this.Na=Da.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function GD(n,e,t=!0){return E(this,null,function*(){let r=jI(n),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield VI(r,e,t,!0),i})}function HD(n,e){return E(this,null,function*(){let t=jI(n);yield VI(t,e,!0,!1)})}function VI(n,e,t,r){return E(this,null,function*(){let i=yield PD(n.localStore,mn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",u;return r&&(u=yield WD(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&RI(n.remoteStore,i),u})}function WD(n,e,t,r,i){return E(this,null,function*(){n.Ba=(w,A,O)=>function(j,V,Q,J){return E(this,null,function*(){let te=V.view.da(Q);te.Xi&&(te=yield L_(j.localStore,V.query,!1).then(({documents:S})=>V.view.da(S,te)));let Ee=J&&J.targetChanges.get(V.targetId),nt=J&&J.targetMismatches.get(V.targetId)!=null,pe=V.view.applyChanges(te,j.isPrimaryClient,Ee,nt);return j_(j,V.targetId,pe.fa),pe.snapshot})}(n,w,A,O);let s=yield L_(n.localStore,e,!0),o=new dm(e,s.hs),u=o.da(s.documents),d=Ra.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(u,n.isPrimaryClient,d);j_(n,t,f.fa);let v=new fm(e,t,o);return n.ba.set(e,v),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),f.snapshot})}function KD(n,e,t){return E(this,null,function*(){let r=Z(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Rl(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Lm(r.remoteStore,i.targetId),gm(r,i.targetId)}).catch(La))):(gm(r,i.targetId),yield Xp(r.localStore,i.targetId,!0))})}function QD(n,e){return E(this,null,function*(){let t=Z(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(t.remoteStore,r.targetId))})}function YD(n,e,t){return E(this,null,function*(){let r=rk(n);try{let i=yield function(o,u){let d=Z(o),f=at.now(),v=u.reduce((O,L)=>O.add(L.key),ce()),w,A;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Yn(),j=ce();return d.os.getEntries(O,v).next(V=>{L=V,L.forEach((Q,J)=>{J.isValidDocument()||(j=j.add(Q))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,L)).next(V=>{w=V;let Q=[];for(let J of u){let te=rD(J,w.get(J.key).overlayedDocument);te!=null&&Q.push(new yn(J.key,te,X_(te.value.mapValue),Sr.exists(!0)))}return d.mutationQueue.addMutationBatch(O,f,Q,u)}).next(V=>{A=V;let Q=V.applyToLocalDocumentSet(w,j);return d.documentOverlayCache.saveOverlays(O,V.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:cI(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,d){let f=o.xa[o.currentUser.toKey()];f||(f=new Me(ge)),f=f.insert(u,d),o.xa[o.currentUser.toKey()]=f}(r,i.batchId,t),yield Ba(r,i.changes),yield Nl(r.remoteStore)}catch(i){let s=jm(i,"Failed to persist write");t.reject(s)}})}function LI(n,e){return E(this,null,function*(){let t=Z(n);try{let r=yield CD(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Fa.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ce(o.wa):i.removedDocuments.size>0&&(Ce(o.wa),o.wa=!1))}),yield Ba(t,r,e)}catch(r){yield La(r)}})}function B_(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ba.forEach((s,o)=>{let u=o.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){let d=Z(o);d.onlineState=u;let f=!1;d.queries.forEach((v,w)=>{for(let A of w.U_)A.j_(u)&&(f=!0)}),f&&qm(d)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JD(n,e,t){return E(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Me(G.comparator);o=o.insert(s,Wt.newNoDocument(s,ee.min()));let u=ce().add(s),d=new tl(ee.min(),new Map,new Me(ge),o,u);yield LI(r,d),r.va=r.va.remove(s),r.Fa.delete(e),$m(r)}else yield Xp(r.localStore,e,!1).then(()=>gm(r,e,t)).catch(La)})}function XD(n,e){return E(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield AD(t.localStore,e);UI(t,r,null),FI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ba(t,i)}catch(i){yield La(i)}})}function ZD(n,e,t){return E(this,null,function*(){let r=Z(n);try{let i=yield function(o,u){let d=Z(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let v;return d.mutationQueue.lookupMutationBatch(f,u).next(w=>(Ce(w!==null),v=w.keys(),d.mutationQueue.removeMutationBatch(f,w))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,v,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v)).next(()=>d.localDocuments.getDocuments(f,v))})}(r.localStore,e);UI(r,e,t),FI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(r,i)}catch(i){yield La(i)}})}function FI(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function UI(n,e,t){let r=Z(n),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||BI(n,r)})}function BI(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(Lm(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),$m(n))}function j_(n,e,t){for(let r of t)r instanceof ml?(n.Ma.addReference(r.key,e),ek(n,r)):r instanceof gl?(z("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||BI(n,r.key)):K()}function ek(n,e){let t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(z("SyncEngine","New document in limbo: "+t),n.Ca.add(r),$m(n))}function $m(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new G(Pe.fromString(e)),r=n.Na.next();n.Fa.set(r,new pm(t)),n.va=n.va.insert(t,r),RI(n.remoteStore,new Pa(mn(Mm(t.path)),r,"TargetPurposeLimboResolution",Q_.oe))}}function Ba(n,e,t){return E(this,null,function*(){let r=Z(n),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((u,d)=>{o.push(r.Ba(d,e,t).then(f=>{var v;if((f||t)&&r.isPrimaryClient){let w=f?!f.fromCache:(v=t?.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(f){i.push(f);let w=Kp.Ki(d.targetId,f);s.push(w)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(d,f){return E(this,null,function*(){let v=Z(d);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>F.forEach(f,A=>F.forEach(A.qi,O=>v.persistence.referenceDelegate.addReference(w,A.targetId,O)).next(()=>F.forEach(A.Qi,O=>v.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))}catch(w){if(!Fa(w))throw w;z("LocalStore","Failed to update sequence numbers: "+w)}for(let w of f){let A=w.targetId;if(!w.fromCache){let O=v.ns.get(A),L=O.snapshotVersion,j=O.withLastLimboFreeSnapshotVersion(L);v.ns=v.ns.insert(A,j)}}})}(r.localStore,s))})}function tk(n,e){return E(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield CI(t.localStore,e);t.currentUser=e,function(s,o){s.Oa.forEach(u=>{u.forEach(d=>{d.reject(new $(M.CANCELLED,o))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ba(t,r.us)}})}function nk(n,e){let t=Z(n),r=t.Fa.get(e);if(r&&r.wa)return ce().add(r.key);{let i=ce(),s=t.Da.get(e);if(!s)return i;for(let o of s){let u=t.ba.get(o);i=i.unionWith(u.view.Ea)}return i}}function jI(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.Sa.h_=$D.bind(null,e.eventManager),e.Sa.ka=zD.bind(null,e.eventManager),e}function rk(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZD.bind(null,e),e}var vl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return TD(this.persistence,new Yp,e.initialUser,this.serializer)}createPersistence(e){return new Gp(Wp.Hr,this.serializer)}createSharedClientState(e){return new Zp}terminate(){return E(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var vm=class{initialize(e,t){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,this.syncEngine),yield qD(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new lm}()}createDatastore(e){let t=Dl(e.databaseInfo.databaseId),r=function(s){return new nm(s)}(e.databaseInfo);return function(s,o,u,d){return new sm(s,o,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,u){return new am(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,t=>B_(this.syncEngine,t,0),function(){return cl.D()?new cl:new em}())}createSyncEngine(e,t){return function(i,s,o,u,d,f,v){let w=new mm(i,s,o,u,d,f);return v&&(w.La=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return E(this,null,function*(){var e;yield function(r){return E(this,null,function*(){let i=Z(r);z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ua(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var yl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var ym=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=Ku.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>E(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=jm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Qf(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield CI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function q_(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield sk(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>F_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>F_(e.remoteStore,i)),n._onlineComponents=e})}function ik(n){return n.name==="FirebaseError"?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function sk(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qf(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!ik(t))throw t;ks("Error using user provided cache. Falling back to memory cache: "+t),yield Qf(n,new vl)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield Qf(n,new vl);return n._offlineComponents})}function qI(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield q_(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield q_(n,new vm))),n._onlineComponents})}function ok(n){return qI(n).then(e=>e.syncEngine)}function wm(n){return E(this,null,function*(){let e=yield qI(n),t=e.eventManager;return t.onListen=GD.bind(null,e.syncEngine),t.onUnlisten=KD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QD.bind(null,e.syncEngine),t})}function ak(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,u,d,f){let v=new yl({next:A=>{o.enqueueAndForget(()=>MI(s,w)),A.fromCache&&d.source==="server"?f.reject(new $(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(A)},error:A=>f.reject(A)}),w=new pl(u,v,{includeMetadataChanges:!0,ra:!0});return OI(s,w)}(yield wm(n),n.asyncQueue,e,t,r)})),r.promise}function $I(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $_=new Map;function zI(n,e,t){if(!t)throw new $(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ck(n,e,t,r){if(e===!0&&r===!0)throw new $(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z_(n){if(!G.isDocumentKey(n))throw new $(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G_(n){if(G.isDocumentKey(n))throw new $(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xl(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xl(n);throw new $(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var wl=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ck("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yf;switch(r.type){case"firstParty":return new ep(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=$_.get(t);r&&(z("ComponentProvider","Removing Datastore"),$_.delete(t),r.terminate())}(this),Promise.resolve()}};function GI(n,e,t,r={}){var i;let s=(n=Wn(n,qs))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=tt.MOCK_USER;else{u=zy(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new $(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new tt(f)}n._authCredentials=new Jf(new Wu(u,d))}}var Ni=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Rr=class n extends Ni{constructor(e,t,r){super(e,t,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function HI(n,e,...t){if(n=Be(n),zI("collection","path",e),n instanceof qs){let r=Pe.fromString(e,...t);return G_(r),new Rr(n,null,r)}{if(!(n instanceof Et||n instanceof Rr))throw new $(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return G_(r),new Rr(n.firestore,null,r)}}function zm(n,e,...t){if(n=Be(n),arguments.length===1&&(e=Ku.newId()),zI("doc","path",e),n instanceof qs){let r=Pe.fromString(e,...t);return z_(r),new Et(n,null,new G(r))}{if(!(n instanceof Et||n instanceof Rr))throw new $(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return z_(r),new Et(n.firestore,n instanceof Rr?n.converter:null,new G(r))}}var _m=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ul(this,"async_queue_retry"),this.hu=()=>{let t=Kf();t&&z("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=Kf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=Kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new fn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return E(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Fa(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let i=cm.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){return E(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function H_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Nr=class extends qs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new _m}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KI(this),this._firestoreClient.terminate()}};function WI(n,e){let t=typeof n=="object"?n:ys(),r=typeof n=="string"?n:e||"(default)",i=aa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$y("firestore");s&&GI(i,...s)}return i}function Gm(n){return n._firestoreClient||KI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function KI(n){var e,t,r;let i=n._freezeSettings(),s=function(u,d,f,v){return new sp(u,d,f,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$I(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new ym(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Na=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new $(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $s=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xa=class{constructor(e){this._methodName=e}};var Oa=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var uk=/^__.*__$/,Im=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,t,this.fieldTransforms):new ki(e,this.data,t,this.fieldTransforms)}},_l=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var Em=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return El(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(QI(this.fu)&&uk.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},bm=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dl(e)}Fu(e,t,r,i=!1){return new Em({fu:e,methodName:t,vu:r,path:Dt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hm(n){let e=n._freezeSettings(),t=Dl(n._databaseId);return new bm(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lk(n,e,t,r,i,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);Wm("Data must be an object, but it was:",o,r);let u=YI(r,o),d,f;if(s.merge)d=new Lt(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){let v=[];for(let w of s.mergeFields){let A=Tm(e,w,t);if(!o.contains(A))throw new $(M.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);XI(v,A)||v.push(A)}d=new Lt(v),f=o.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,f=o.fieldTransforms;return new Im(new Pt(u),d,f)}var Il=class n extends xa{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function hk(n,e,t,r){let i=n.Fu(1,e,t);Wm("Data must be an object, but it was:",i,r);let s=[],o=Pt.empty();xi(r,(d,f)=>{let v=Km(e,d,t);f=Be(f);let w=i.Su(v);if(f instanceof Il)s.push(v);else{let A=ja(f,w);A!=null&&(s.push(v),o.set(v,A))}});let u=new Lt(s);return new _l(o,u,i.fieldTransforms)}function dk(n,e,t,r,i,s){let o=n.Fu(1,e,t),u=[Tm(e,r,t)],d=[i];if(s.length%2!=0)throw new $(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)u.push(Tm(e,s[A])),d.push(s[A+1]);let f=[],v=Pt.empty();for(let A=u.length-1;A>=0;--A)if(!XI(f,u[A])){let O=u[A],L=d[A];L=Be(L);let j=o.Su(O);if(L instanceof Il)f.push(O);else{let V=ja(L,j);V!=null&&(f.push(O),v.set(O,V))}}let w=new Lt(f);return new _l(v,w,o.fieldTransforms)}function fk(n,e,t,r=!1){return ja(t,n.Fu(r?4:3,e))}function ja(n,e){if(JI(n=Be(n)))return Wm("Unsupported field value:",e,n),YI(n,e);if(n instanceof xa)return function(r,i){if(!QI(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let u of r){let d=ja(u,i.bu(o));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=at.fromDate(r);return{timestampValue:sl(i.serializer,s)}}if(r instanceof at){let s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sl(i.serializer,s)}}if(r instanceof Oa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Na)return{bytesValue:wI(i.serializer,r._byteString)};if(r instanceof Et){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${xl(r)}`)}(n,e)}function YI(n,e){let t={};return Y_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,(r,i)=>{let s=ja(i,e.pu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function JI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof Oa||n instanceof Na||n instanceof Et||n instanceof xa)}function Wm(n,e,t){if(!JI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=xl(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function Tm(n,e,t){if((e=Be(e))instanceof $s)return e._internalPath;if(typeof e=="string")return Km(n,e);throw El("Field path arguments must be of type string or ",n,!1,void 0,t)}var pk=new RegExp("[~\\*/\\[\\]]");function Km(n,e,t){if(e.search(pk)>=0)throw El(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $s(...e.split("."))._internalPath}catch{throw El(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function El(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new $(M.INVALID_ARGUMENT,u+n+d)}function XI(n,e){return n.some(t=>t.isEqual(e))}var bl=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Am(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Qm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Am=class extends bl{data(){return super.data()}};function Qm(n,e){return typeof e=="string"?Km(n,e):e instanceof $s?e._internalPath:e._delegate._internalPath}function ZI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ma=class{},Cm=class extends Ma{};function eE(n,e,...t){let r=[];e instanceof Ma&&r.push(e),r=r.concat(t),function(s){let o=s.filter(d=>d instanceof Sm).length,u=s.filter(d=>d instanceof Tl).length;if(o>1||o>0&&u>0)throw new $(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Tl=class n extends Cm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return nE(e._query,t),new Ni(e.firestore,e.converter,yp(e._query,t))}_parse(e){let t=Hm(e.firestore);return function(s,o,u,d,f,v,w){let A;if(f.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new $(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){K_(w,v);let O=[];for(let L of w)O.push(W_(d,s,L));A={arrayValue:{values:O}}}else A=W_(d,s,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||K_(w,v),A=fk(u,o,w,v==="in"||v==="not-in");return We.create(f,v,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function tE(n,e,t){let r=e,i=Qm("where",n);return Tl._create(i,r,t)}var Sm=class n extends Ma{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Kt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,u=s.getFlattenedFilters();for(let d of u)nE(o,d),o=yp(o,d)}(e._query,t),new Ni(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function W_(n,e,t){if(typeof(t=Be(t))=="string"){if(t==="")throw new $(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(e)&&t.indexOf("/")!==-1)throw new $(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Pe.fromString(t));if(!G.isDocumentKey(r))throw new $(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return __(n,new G(r))}if(t instanceof Et)return __(n,t._key);throw new $(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xl(t)}.`)}function K_(n,e){if(!Array.isArray(n)||n.length===0)throw new $(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nE(n,e){let t=function(i,s){for(let o of i)for(let u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Rm=class{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw K()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xi(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Oa(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=km(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){let t=Qn(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);Ce(AI(r));let i=new Xu(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(t)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function mk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ti=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Al=class extends bl{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Qm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ds=class extends Al{data(e={}){return super.data(e)}},Cl=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ds(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{let d=new Ds(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ti(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{let d=new Ds(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ti(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,v=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:gk(u.type),doc:d,oldIndex:f,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function gk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var Va=class extends Rm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function rE(n){n=Wn(n,Ni);let e=Wn(n.firestore,Nr),t=Gm(e),r=new Va(e);return ZI(n._query),ak(t,n._query).then(i=>new Cl(e,r,n,i))}function iE(n,e,t,...r){n=Wn(n,Et);let i=Wn(n.firestore,Nr),s=Hm(i),o;return o=typeof(e=Be(e))=="string"||e instanceof $s?dk(s,"updateDoc",n._key,e,t,r):hk(s,"updateDoc",n._key,e),oE(i,[o.toMutation(n._key,Sr.exists(!0))])}function sE(n,e){let t=Wn(n.firestore,Nr),r=zm(n),i=mk(n.converter,e);return oE(t,[lk(Hm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}function Ym(n,...e){var t,r,i;n=Be(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||H_(e[o])||(s=e[o],o++);let u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(H_(e[o])){let w=e[o];e[o]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[o+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[o+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let d,f,v;if(n instanceof Et)f=Wn(n.firestore,Nr),v=Mm(n._key.path),d={next:w=>{e[o]&&e[o](vk(f,n,w))},error:e[o+1],complete:e[o+2]};else{let w=Wn(n,Ni);f=Wn(w.firestore,Nr),v=w._query;let A=new Va(f);d={next:O=>{e[o]&&e[o](new Cl(f,A,w,O))},error:e[o+1],complete:e[o+2]},ZI(n._query)}return function(A,O,L,j){let V=new yl(j),Q=new pl(O,V,L);return A.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return OI(yield wm(A),Q)})),()=>{V.$a(),A.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return MI(yield wm(A),Q)}))}}(Gm(f),v,u,d)}function oE(n,e){return function(r,i){let s=new fn;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return YD(yield ok(r),i,s)})),s.promise}(Gm(n),e)}function vk(n,e,t){let r=t.docs.get(e._key),i=new Va(n);return new Al(n,i,e._key,r,new Ti(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){zs=i})(br),Er(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),u=new Nr(new Xf(r.getProvider("auth-internal")),new np(r.getProvider("app-check-internal")),function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(f.options.projectId,v)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Ye(v_,"4.6.4",e),Ye(v_,"4.6.4","esm2017")})();var Ol=function(){return Ol=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ol.apply(this,arguments)};var _k={includeMetadataChanges:!1};function aE(n,e){return e===void 0&&(e=_k),new Xr(function(t){var r=Ym(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cE(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Ol(Ol({},r),(t={},t[e.idField]=n.id,t))}function uE(n){return aE(n,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}function lE(n,e){return e===void 0&&(e={}),uE(n).pipe(me(function(t){return t.map(function(r){return cE(r,e)})}))}var Mi=class{constructor(e){return e}},hE="firestore",Jm=class{constructor(){return ca(hE)}};var Xm=new Ae("angularfire2.firestore-instances");function Ik(n,e){let t=wu(hE,n,e);return t&&new Mi(t)}function Ek(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Mi(r)}}var bk={provide:Jm,deps:[[new _t,Xm]]},Tk={provide:Mi,useFactory:Ik,deps:[[new _t,Xm],Bn]};function tV(n,...e){return Ye("angularfire",mi.full,"fst"),Nn([Tk,bk,{provide:Xm,useFactory:Ek(n),multi:!0,deps:[It,qt,Is,gi,[new _t,va],[new _t,_s],...e]}])}var Zm=ot(lE,!0);var dE=ot(sE,!0);var Hs=ot(HI,!0);var fE=ot(zm,!0);var eg=ot(rE,!0);var pE=ot(WI,!0);var tg=ot(eE,!0);var mE=ot(iE,!0);var ng=ot(tE,!0);var gE=(()=>{class n{firestore;updateUsuario(t,r){let i=fE(this.firestore,"Usuarios",t);return mE(i,{aprobado:r})}constructor(t){this.firestore=t,this.firestore=pE()}getUsuarios(){let t=Hs(this.firestore,"Usuarios");return Zm(t,{idField:"id"})}getUsuarioEmail(t){return E(this,null,function*(){try{let r=Hs(this.firestore,"Usuarios"),i=tg(r,ng("email","==",t)),s=yield eg(i);return s.empty?(console.log("No user found with the provided email."),null):s.docs[0].data()}catch(r){throw console.error("Error getting user by email:",r),r}})}getUsuariosPorTipo(t){let r=Hs(this.firestore,"Usuarios"),i=tg(r,ng("tipo","==",t));return new Xr(s=>{eg(i).then(o=>{let u=o.docs.map(d=>q({id:d.id},d.data()));s.next(u),s.complete()}).catch(o=>{s.error(o)})})}guardarLogLogin(t){return E(this,null,function*(){let r=Hs(this.firestore,"login");yield dE(r,{email:t,fecha:new Date})})}getLogData(){let t=Hs(this.firestore,"login");return Zm(t,{idField:"id"})}static \u0275fac=function(r){return new(r||n)(ve(Mi))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sk(n,e){n&1&&(ze(0,"div")(1,"ul",12)(2,"li",13)(3,"a",14),et(4,"Home"),Ue()(),ze(5,"li",13)(6,"a",15),et(7,"Registro"),Ue()(),ze(8,"li",13)(9,"a",16),et(10,"Iniciar Sesi\xF3n"),Ue()()()())}function Rk(n,e){n&1&&(ze(0,"div")(1,"ul",12)(2,"li",13)(3,"a",17),et(4,"Mi Perfil"),Ue()(),ze(5,"li",13)(6,"a",18),et(7,"Usuarios"),Ue()(),ze(8,"li",13)(9,"a",15),et(10,"Registrar Usuarios"),Ue()(),ze(11,"li",13)(12,"a",19),et(13,"Estad\xEDsticas"),Ue()()()())}function Pk(n,e){n&1&&(ze(0,"div")(1,"ul",12)(2,"li",13)(3,"a",20),et(4,"Mi Perfil"),Ue()(),ze(5,"li",13)(6,"a",21),et(7,"Mis turnos"),Ue()(),ze(8,"li",13)(9,"a",22),et(10,"Solicitar turno"),Ue()()()())}function Dk(n,e){n&1&&(ze(0,"div")(1,"ul",12)(2,"li",13)(3,"a",20),et(4,"Mi Perfil"),Ue()(),ze(5,"li",13)(6,"a",21),et(7,"Mis turnos"),Ue()(),ze(8,"li",13)(9,"a",23),et(10,"Mis Pacientes"),Ue()()()())}function kk(n,e){if(n&1){let t=nv();ze(0,"div",25)(1,"button",26),et(2),Ue(),ze(3,"ul",27)(4,"li")(5,"button",28),$t("click",function(){$g(t);let i=kc(2);return zg(i.loguot())}),et(6,"Cerrar Sesi\xF3n"),Ue()()()()}if(n&2){let t=kc(2);mr(2),rv(" ",t.usuario.email," ")}}function Nk(n,e){if(n&1&&(ev(0),yh(1,kk,7,1,"div",24),tv()),n&2){let t=kc();mr(),ri("ngIf",t.usuario)}}var fV=(()=>{class n{router;auth;firebaseService;items=[];usuario;showButtons=!0;loadingEvent=new lt;userEvent=new lt;isAuthenticated=!1;authSubscription;routerSubscription;email;constructor(t,r,i){this.router=t,this.auth=r,this.firebaseService=i}ngOnInit(){this.authSubscription=this.auth.isAuthenticated$.subscribe(t=>{this.isAuthenticated=t}),this.routerSubscription=this.router.events.subscribe(t=>{t instanceof an&&(this.email=sessionStorage.getItem("user"),setTimeout(()=>{},2500),this.isAuthenticated=!!sessionStorage.getItem("user"),console.log("entre ",this.isAuthenticated),this.searchUser(),console.log(this.email))})}searchUser(){return E(this,null,function*(){console.log("entre aca"),this.usuario=yield this.firebaseService.getUsuarioEmail(this.email)})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}loguot(){this.loadingEvent.emit(!0),setTimeout(()=>{this.auth.logout().then(t=>{this.usuario=null,this.userEvent.emit(null),this.loadingEvent.emit(!1),this.router.navigate(["/bienvenida"]),localStorage.clear()}).catch(t=>{})},1e3)}static \u0275fac=function(r){return new(r||n)(oe(li),oe(p_),oe(gE))};static \u0275cmp=Pc({type:n,selectors:[["app-cabecera"]],inputs:{items:"items",showButtons:"showButtons"},outputs:{loadingEvent:"loadingEvent",userEvent:"userEvent"},standalone:!0,features:[Nc],decls:19,vars:5,consts:[[1,"navbar","fixed-top"],[1,"container-fluid"],[2,"text-align","center"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end",2,"background-color","aliceblue"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[4,"ngIf"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/bienvenido",1,"nav-link"],["routerLink","/registro",1,"nav-link"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","perfil",1,"nav-link"],["routerLink","/usuarios",1,"nav-link"],["routerLink","estadisticas",1,"nav-link"],["routerLink","/perfil",1,"nav-link"],["routerLink","/turnos",1,"nav-link"],["routerLink","/crearTurno",1,"nav-link"],["routerLink","/pacientes",1,"nav-link"],["class","dropdown",4,"ngIf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-secondary","dropdown-toggle","w-100","text-light"],[1,"dropdown-menu","w-100"],[1,"btn","btn-danger","w-100",3,"click"]],template:function(r,i){r&1&&(ze(0,"nav",0)(1,"div",1)(2,"div")(3,"h2",2),et(4," Clinica Buena Salud"),Ue()(),Xi(5,"a",3),ze(6,"button",4),Xi(7,"span",5),Ue(),ze(8,"div",6)(9,"div",7)(10,"h5",8),et(11,"Men\xFA"),Ue(),Xi(12,"button",9),Ue(),ze(13,"div",10),yh(14,Sk,11,0,"div",11)(15,Rk,14,0,"div",11)(16,Pk,11,0,"div",11)(17,Dk,11,0,"div",11)(18,Nk,2,1,"ng-container",11),Ue()()()()),r&2&&(mr(14),ri("ngIf",!i.isAuthenticated),mr(),ri("ngIf",(i.usuario==null?null:i.usuario.tipo)==="admin"),mr(),ri("ngIf",(i.usuario==null?null:i.usuario.tipo)==="paciente"),mr(),ri("ngIf",(i.usuario==null?null:i.usuario.tipo)==="especialista"),mr(),ri("ngIf",i.showButtons))},dependencies:[Th,hv,ey,My],styles:['nav[_ngcontent-%COMP%]{background-image:url("./media/cabecera-5JSPQBZJ.png");z-index:9999;height:80px}nav[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.navbar-brand, .navbar-toggler-icon)[_ngcontent-%COMP%]{color:#096995!important}.navbar-toggler[_ngcontent-%COMP%]{color:#e20606!important;background-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#c51010!important;background-color:#fff}.nav-link[_ngcontent-%COMP%]{color:#0b035e;font-size:1.5rem;text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{color:#d0620e}.btn[_ngcontent-%COMP%]{text-decoration:none;background-color:#887088;border:1px solid #887088;font-size:17px}.btn[_ngcontent-%COMP%]:hover{background-color:#213977}.offcanvas-body[_ngcontent-%COMP%]{padding:1rem}.dropdown-menu[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]{color:#49a22b;padding-left:20px}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#004373}.dropdown[_ngcontent-%COMP%]{text-align:center}']})}return n})();var qa=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},rg=class extends qa{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},ig=class extends qa{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},sg=class extends qa{constructor(e){super(),this.element=e instanceof ti?e.nativeElement:e}},og=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof rg)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ig)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof sg)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var vE=class extends og{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let u=o.element;u.parentNode;let d=this._document.createComment("dom-portal");u.parentNode.insertBefore(d,u),this.outletElement.appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(u,d)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||qt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var TV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pr({type:e}),e.\u0275inj=fr({});let n=e;return n})();export{pv as a,uN as b,t0 as c,li as d,My as e,hx as f,qb as g,Nv as h,Ev as i,ii as j,SN as k,RN as l,fT as m,gT as n,DN as o,yT as p,_T as q,ET as r,TT as s,kN as t,ey as u,NN as v,yA as w,wA as x,jy as y,IA as z,fx as A,$y as B,fu as C,zy as D,Gy as E,Wy as F,px as G,Rt as H,Ly as I,mx as J,gx as K,vx as L,yx as M,wx as N,Xy as O,_x as P,ia as Q,Uy as R,Ix as S,Ex as T,bx as U,Be as V,Vt as W,ae as X,_r as Y,Er as Z,aa as _,br as $,ys as aa,Ye as ba,mi as ca,wu as da,ca as ea,_s as fa,Is as ga,ot as ha,Bn as ia,gi as ja,lO as ka,hO as la,va as ma,iM as na,sM as oa,h_ as pa,f_ as qa,p_ as ra,Mi as sa,tV as ta,Zm as ua,dE as va,Hs as wa,fE as xa,pE as ya,tg as za,mE as Aa,ng as Ba,gE as Ca,fV as Da,rg as Ea,ig as Fa,vE as Ga,TV as Ha};
