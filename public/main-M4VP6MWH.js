import{$ as $n,$a as Ol,$b as AT,$c as qT,A as Ni,Aa as J_,Ab as rv,Ac as _t,B as Wp,Ba as tn,Bb as as,Bc as BT,C as Fd,Ca as dT,Cb as Gr,Cc as UT,D as rT,Da as bt,Db as yn,Dc as av,E as iT,Ea as Z_,Eb as wn,Ec as jT,F as ca,Fa as hT,Fb as ET,Fc as Gd,G as la,Ga as $p,Gb as CT,Gc as Kd,H as ar,Ha as fT,Hb as zd,Hc as lc,I as $_,Ia as _o,Ib as O,Ic as em,J as kl,Ja as Li,Jb as Ke,Jc as Ul,K as Nd,Ka as Ud,Kb as on,Kc as WT,L as zp,La as da,Lb as Mr,Lc as zT,M as q_,Ma as pT,Mb as cc,N as Ps,Na as mT,Nb as Xe,O as sT,Oa as jd,Ob as Ye,P as Ld,Pa as S,Pb as Qe,Q as Hp,Qa as de,Qb as Kr,R as ua,Ra as ev,Rb as nt,Rc as HT,S as G_,Sa as qp,Sb as Hd,Sc as Xd,T as oT,Ta as gT,Tb as Fl,Tc as tm,U as K_,Ua as tv,Ub as $d,V as X_,Va as Pl,Vb as TT,W as Y_,Wa as Wd,Wb as Nl,X as mo,Xa as Gp,Xb as Qp,Y as ci,Ya as st,Yb as ST,Yc as $T,Z as Hn,Za as Kp,Zb as IT,Zc as nm,_ as aT,_a as Xp,_b as Ll,a as Ae,aa as vn,ab as nv,ac as Jp,b as Vt,ba as oc,bb as Ml,bc as Zp,c as WN,ca as Le,cb as _T,cc as kT,d as zN,da as zt,db as Vi,dc as qd,e as oa,ea as cT,eb as os,ec as iv,ed as GT,f as q,fa as et,fb as vT,fc as RT,g as si,ga as Q_,gb as yT,gc as Bi,h as U_,ha as be,hb as se,hc as DT,i as oi,ia as qe,ib as xi,ic as PT,j as j_,ja as tr,jb as W,jc as Cn,k as Up,ka as Vd,kb as vo,kc as sv,l as dt,la as tt,lb as xr,lc as yo,m as vi,ma as Ht,mb as ha,mc as cs,n as eT,na as Ft,nb as wT,nc as OT,o as tT,oa as Rl,ob as Vn,oc as Vl,p as aa,pa as yi,pb as y,pc as MT,q as W_,qa as lT,qb as v,qc as FT,r as z_,ra as Dl,rb as pe,rc as It,s as H_,sa as go,sb as xT,sc as ov,t as ai,ta as wi,tb as bT,tc as Bl,u as ct,ua as le,ub as Fe,uc as NT,v as Od,va as ue,vb as Yp,vc as pa,w as jp,wa as uT,wb as ge,wc as Fr,x as nT,xa as ac,xb as G,xc as ln,y as xt,ya as Bd,yb as fa,yc as LT,z as Md,za as cr,zb as lr,zc as VT}from"./chunk-UB5NSYBK.js";var fD=WN((Js,Rb)=>{"use strict";(function(n,e){typeof Js=="object"&&typeof Rb<"u"?Rb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Js,function(){"use strict";function n(E,h){(h==null||h>E.length)&&(h=E.length);for(var m=0,b=Array(h);m<h;m++)b[m]=E[m];return b}function e(E){if(Array.isArray(E))return E}function t(E){if(Array.isArray(E))return n(E)}function r(E,h,m){if(typeof E=="function"?E===h:E.has(h))return arguments.length<3?h:m;throw new TypeError("Private element is not present on this object")}function i(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function s(E,h,m){return h=T(h),D(E,X()?Reflect.construct(h,m||[],T(E).constructor):h.apply(E,m))}function o(E,h){if(h.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function c(E,h){return E.get(r(E,h))}function l(E,h,m){o(E,h),h.set(E,m)}function d(E,h,m){return E.set(r(E,h),m),m}function f(E,h,m){if(X())return Reflect.construct.apply(null,arguments);var b=[null];b.push.apply(b,h);var H=new(E.bind.apply(E,b));return H}function p(E,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,B(b.key),b)}}function _(E,h,m){return h&&p(E.prototype,h),Object.defineProperty(E,"prototype",{writable:!1}),E}function C(E,h){var m=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!m){if(Array.isArray(E)||(m=ze(E))||h){m&&(E=m);var b=0,H=function(){};return{s:H,n:function(){return b>=E.length?{done:!0}:{done:!1,value:E[b++]}},e:function(ut){throw ut},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae,Oe=!0,gt=!1;return{s:function(){m=m.call(E)},n:function(){var ut=m.next();return Oe=ut.done,ut},e:function(ut){gt=!0,ae=ut},f:function(){try{Oe||m.return==null||m.return()}finally{if(gt)throw ae}}}}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,h,m){var b=F(E,h);if(b){var H=Object.getOwnPropertyDescriptor(b,h);return H.get?H.get.call(arguments.length<3?E:m):H.value}},w.apply(null,arguments)}function T(E){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},T(E)}function K(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),h&&A(E,h)}function X(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!E})()}function Y(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function ee(E,h){var m=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(m!=null){var b,H,ae,Oe,gt=[],ut=!0,Rn=!1;try{if(ae=(m=m.call(E)).next,h!==0)for(;!(ut=(b=ae.call(m)).done)&&(gt.push(b.value),gt.length!==h);ut=!0);}catch(Pd){Rn=!0,H=Pd}finally{try{if(!ut&&m.return!=null&&(Oe=m.return(),Object(Oe)!==Oe))return}finally{if(Rn)throw H}}return gt}}function me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(E,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(E)}function A(E,h){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,b){return m.__proto__=b,m},A(E,h)}function k(E,h){return e(E)||ee(E,h)||ze(E,h)||me()}function F(E,h){for(;!{}.hasOwnProperty.call(E,h)&&(E=T(E))!==null;);return E}function V(E){return t(E)||Y(E)||ze(E)||we()}function z(E,h){if(typeof E!="object"||!E)return E;var m=E[Symbol.toPrimitive];if(m!==void 0){var b=m.call(E,h);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}function B(E){var h=z(E,"string");return typeof h=="symbol"?h:h+""}function Ge(E){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ge(E)}function ze(E,h){if(E){if(typeof E=="string")return n(E,h);var m={}.toString.call(E).slice(8,-1);return m==="Object"&&E.constructor&&(m=E.constructor.name),m==="Map"||m==="Set"?Array.from(E):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?n(E,h):void 0}}var An=100,We={},kn=function(){We.previousActiveElement instanceof HTMLElement?(We.previousActiveElement.focus(),We.previousActiveElement=null):document.body&&document.body.focus()},Nn=function(h){return new Promise(function(m){if(!h)return m();var b=window.scrollX,H=window.scrollY;We.restoreFocusTimeout=setTimeout(function(){kn(),m()},An),window.scrollTo(b,H)})},bn="swal2-",ir=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],R=ir.reduce(function(E,h){return E[h]=bn+h,E},{}),ce=["success","warning","info","question","error"],J=ce.reduce(function(E,h){return E[h]=bn+h,E},{}),Q="SweetAlert2:",_e=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},Re=function(h){console.warn("".concat(Q," ").concat(Ge(h)==="object"?h.join(" "):h))},$e=function(h){console.error("".concat(Q," ").concat(h))},Be=[],Ee=function(h){Be.includes(h)||(Be.push(h),Re(h))},Tt=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ee('"'.concat(h,'" is deprecated and will be removed in the next major release.').concat(m?' Use "'.concat(m,'" instead.'):""))},lt=function(h){return typeof h=="function"?h():h},dn=function(h){return h&&typeof h.toPromise=="function"},ft=function(h){return dn(h)?h.toPromise():Promise.resolve(h)},Jn=function(h){return h&&Promise.resolve(h)===h},yt=function(){return document.body.querySelector(".".concat(R.container))},Ne=function(h){var m=yt();return m?m.querySelector(h):null},en=function(h){return Ne(".".concat(h))},pt=function(){return en(R.popup)},Or=function(){return en(R.icon)},Di=function(){return en(R["icon-content"])},Jo=function(){return en(R.title)},io=function(){return en(R["html-container"])},yr=function(){return en(R.image)},Pi=function(){return en(R["progress-steps"])},Oi=function(){return en(R["validation-message"])},Lt=function(){return Ne(".".concat(R.actions," .").concat(R.confirm))},jt=function(){return Ne(".".concat(R.actions," .").concat(R.cancel))},ti=function(){return Ne(".".concat(R.actions," .").concat(R.deny))},Ga=function(){return en(R["input-label"])},Mi=function(){return Ne(".".concat(R.loader))},Cs=function(){return en(R.actions)},Zi=function(){return en(R.footer)},Ts=function(){return en(R["timer-progress-bar"])},so=function(){return en(R.close)},Ka=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Xa=function(){var h=pt();if(!h)return[];var m=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(m).sort(function(Oe,gt){var ut=parseInt(Oe.getAttribute("tabindex")||"0"),Rn=parseInt(gt.getAttribute("tabindex")||"0");return ut>Rn?1:ut<Rn?-1:0}),H=h.querySelectorAll(Ka),ae=Array.from(H).filter(function(Oe){return Oe.getAttribute("tabindex")!=="-1"});return V(new Set(b.concat(ae))).filter(function(Oe){return L(Oe)})},Zo=function(){return wr(document.body,R.shown)&&!wr(document.body,R["toast-shown"])&&!wr(document.body,R["no-backdrop"])},es=function(){var h=pt();return h?wr(h,R.toast):!1},Ya=function(){var h=pt();return h?h.hasAttribute("data-loading"):!1},sr=function(h,m){if(h.textContent="",m){var b=new DOMParser,H=b.parseFromString(m,"text/html"),ae=H.querySelector("head");ae&&Array.from(ae.childNodes).forEach(function(gt){h.appendChild(gt)});var Oe=H.querySelector("body");Oe&&Array.from(Oe.childNodes).forEach(function(gt){gt instanceof HTMLVideoElement||gt instanceof HTMLAudioElement?h.appendChild(gt.cloneNode(!0)):h.appendChild(gt)})}},wr=function(h,m){if(!m)return!1;for(var b=m.split(/\s+/),H=0;H<b.length;H++)if(!h.classList.contains(b[H]))return!1;return!0},Ss=function(h,m){Array.from(h.classList).forEach(function(b){!Object.values(R).includes(b)&&!Object.values(J).includes(b)&&!Object.values(m.showClass||{}).includes(b)&&h.classList.remove(b)})},Zn=function(h,m,b){if(Ss(h,m),!!m.customClass){var H=m.customClass[b];if(H){if(typeof H!="string"&&!H.forEach){Re("Invalid type of customClass.".concat(b,'! Expected string or iterable object, got "').concat(Ge(H),'"'));return}Ct(h,H)}}},ni=function(h,m){if(!m)return null;switch(m){case"select":case"textarea":case"file":return h.querySelector(".".concat(R.popup," > .").concat(R[m]));case"checkbox":return h.querySelector(".".concat(R.popup," > .").concat(R.checkbox," input"));case"radio":return h.querySelector(".".concat(R.popup," > .").concat(R.radio," input:checked"))||h.querySelector(".".concat(R.popup," > .").concat(R.radio," input:first-child"));case"range":return h.querySelector(".".concat(R.popup," > .").concat(R.range," input"));default:return h.querySelector(".".concat(R.popup," > .").concat(R.input))}},Qa=function(h){if(h.focus(),h.type!=="file"){var m=h.value;h.value="",h.value=m}},oo=function(h,m,b){!h||!m||(typeof m=="string"&&(m=m.split(/\s+/).filter(Boolean)),m.forEach(function(H){Array.isArray(h)?h.forEach(function(ae){b?ae.classList.add(H):ae.classList.remove(H)}):b?h.classList.add(H):h.classList.remove(H)}))},Ct=function(h,m){oo(h,m,!0)},or=function(h,m){oo(h,m,!1)},gi=function(h,m){for(var b=Array.from(h.children),H=0;H<b.length;H++){var ae=b[H];if(ae instanceof HTMLElement&&wr(ae,m))return ae}},hn=function(h,m,b){b==="".concat(parseInt(b))&&(b=parseInt(b)),b||parseInt(b)===0?h.style.setProperty(m,typeof b=="number"?"".concat(b,"px"):b):h.style.removeProperty(m)},fn=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=m)},gn=function(h){h&&(h.style.display="none")},ts=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){I(h,h.innerHTML,m)}).observe(h,{childList:!0,subtree:!0})},xl=function(h,m,b,H){var ae=h.querySelector(m);ae&&ae.style.setProperty(b,H)},I=function(h,m){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";m?fn(h,b):gn(h)},L=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},M=function(){return!L(Lt())&&!L(ti())&&!L(jt())},N=function(h){return h.scrollHeight>h.clientHeight},U=function(h){var m=window.getComputedStyle(h),b=parseFloat(m.getPropertyValue("animation-duration")||"0"),H=parseFloat(m.getPropertyValue("transition-duration")||"0");return b>0||H>0},j=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=Ts();b&&L(b)&&(m&&(b.style.transition="none",b.style.width="100%"),setTimeout(function(){b.style.transition="width ".concat(h/1e3,"s linear"),b.style.width="0%"},10))},ne=function(){var h=Ts();if(h){var m=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var b=parseInt(window.getComputedStyle(h).width),H=m/b*100;h.style.width="".concat(H,"%")}},he=function(){return typeof window>"u"||typeof document>"u"},te=`
 <div aria-labelledby="`.concat(R.title,'" aria-describedby="').concat(R["html-container"],'" class="').concat(R.popup,`" tabindex="-1">
   <button type="button" class="`).concat(R.close,`"></button>
   <ul class="`).concat(R["progress-steps"],`"></ul>
   <div class="`).concat(R.icon,`"></div>
   <img class="`).concat(R.image,`" />
   <h2 class="`).concat(R.title,'" id="').concat(R.title,`"></h2>
   <div class="`).concat(R["html-container"],'" id="').concat(R["html-container"],`"></div>
   <input class="`).concat(R.input,'" id="').concat(R.input,`" />
   <input type="file" class="`).concat(R.file,`" />
   <div class="`).concat(R.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(R.select,'" id="').concat(R.select,`"></select>
   <div class="`).concat(R.radio,`"></div>
   <label class="`).concat(R.checkbox,`">
     <input type="checkbox" id="`).concat(R.checkbox,`" />
     <span class="`).concat(R.label,`"></span>
   </label>
   <textarea class="`).concat(R.textarea,'" id="').concat(R.textarea,`"></textarea>
   <div class="`).concat(R["validation-message"],'" id="').concat(R["validation-message"],`"></div>
   <div class="`).concat(R.actions,`">
     <div class="`).concat(R.loader,`"></div>
     <button type="button" class="`).concat(R.confirm,`"></button>
     <button type="button" class="`).concat(R.deny,`"></button>
     <button type="button" class="`).concat(R.cancel,`"></button>
   </div>
   <div class="`).concat(R.footer,`"></div>
   <div class="`).concat(R["timer-progress-bar-container"],`">
     <div class="`).concat(R["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),re=function(){var h=yt();return h?(h.remove(),or([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0):!1},ie=function(){We.currentInstance.resetValidationMessage()},xe=function(){var h=pt(),m=gi(h,R.input),b=gi(h,R.file),H=h.querySelector(".".concat(R.range," input")),ae=h.querySelector(".".concat(R.range," output")),Oe=gi(h,R.select),gt=h.querySelector(".".concat(R.checkbox," input")),ut=gi(h,R.textarea);m.oninput=ie,b.onchange=ie,Oe.onchange=ie,gt.onchange=ie,ut.oninput=ie,H.oninput=function(){ie(),ae.value=H.value},H.onchange=function(){ie(),ae.value=H.value}},Ce=function(h){return typeof h=="string"?document.querySelector(h):h},Ue=function(h){var m=pt();m.setAttribute("role",h.toast?"alert":"dialog"),m.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||m.setAttribute("aria-modal","true")},Te=function(h){window.getComputedStyle(h).direction==="rtl"&&Ct(yt(),R.rtl)},Pe=function(h){var m=re();if(he()){$e("SweetAlert2 requires document to initialize");return}var b=document.createElement("div");b.className=R.container,m&&Ct(b,R["no-transition"]),sr(b,te);var H=Ce(h.target);H.appendChild(b),Ue(h),Te(H),xe()},Je=function(h,m){h instanceof HTMLElement?m.appendChild(h):Ge(h)==="object"?Wt(h,m):h&&sr(m,h)},Wt=function(h,m){h.jquery?jn(m,h):sr(m,h.toString())},jn=function(h,m){if(h.textContent="",0 in m)for(var b=0;b in m;b++)h.appendChild(m[b].cloneNode(!0));else h.appendChild(m.cloneNode(!0))},kt=function(){if(he())return!1;var E=document.createElement("div");return typeof E.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof E.style.animation<"u"?"animationend":!1}(),En=function(h,m){var b=Cs(),H=Mi();!b||!H||(!m.showConfirmButton&&!m.showDenyButton&&!m.showCancelButton?gn(b):fn(b),Zn(b,m,"actions"),ns(b,H,m),sr(H,m.loaderHtml||""),Zn(H,m,"loader"))};function ns(E,h,m){var b=Lt(),H=ti(),ae=jt();!b||!H||!ae||(ri(b,"confirm",m),ri(H,"deny",m),ri(ae,"cancel",m),ao(b,H,ae,m),m.reverseButtons&&(m.toast?(E.insertBefore(ae,b),E.insertBefore(H,b)):(E.insertBefore(ae,h),E.insertBefore(H,h),E.insertBefore(b,h))))}function ao(E,h,m,b){if(!b.buttonsStyling){or([E,h,m],R.styled);return}Ct([E,h,m],R.styled),b.confirmButtonColor&&(E.style.backgroundColor=b.confirmButtonColor,Ct(E,R["default-outline"])),b.denyButtonColor&&(h.style.backgroundColor=b.denyButtonColor,Ct(h,R["default-outline"])),b.cancelButtonColor&&(m.style.backgroundColor=b.cancelButtonColor,Ct(m,R["default-outline"]))}function ri(E,h,m){var b=_e(h);I(E,m["show".concat(b,"Button")],"inline-block"),sr(E,m["".concat(h,"ButtonText")]||""),E.setAttribute("aria-label",m["".concat(h,"ButtonAriaLabel")]||""),E.className=R[h],Zn(E,m,"".concat(h,"Button"))}var ea=function(h,m){var b=so();b&&(sr(b,m.closeButtonHtml||""),Zn(b,m,"closeButton"),I(b,m.showCloseButton),b.setAttribute("aria-label",m.closeButtonAriaLabel||""))},ii=function(h,m){var b=yt();b&&(Ed(b,m.backdrop),Cd(b,m.position),hp(b,m.grow),Zn(b,m,"container"))};function Ed(E,h){typeof h=="string"?E.style.background=h:h||Ct([document.documentElement,document.body],R["no-backdrop"])}function Cd(E,h){h&&(h in R?Ct(E,R[h]):(Re('The "position" parameter is not valid, defaulting to "center"'),Ct(E,R.center)))}function hp(E,h){h&&Ct(E,R["grow-".concat(h)])}var qt={innerParams:new WeakMap,domCache:new WeakMap},T_=["input","file","range","select","radio","checkbox","textarea"],S_=function(h,m){var b=pt();if(b){var H=qt.innerParams.get(h),ae=!H||m.input!==H.input;T_.forEach(function(Oe){var gt=gi(b,R[Oe]);gt&&(I_(Oe,m.inputAttributes),gt.className=R[Oe],ae&&gn(gt))}),m.input&&(ae&&fp(m),co(m))}},fp=function(h){if(h.input){if(!it[h.input]){$e("Unexpected type of input! Expected ".concat(Object.keys(it).join(" | "),', got "').concat(h.input,'"'));return}var m=Ja(h.input);if(m){var b=it[h.input](m,h);fn(m),h.inputAutoFocus&&setTimeout(function(){Qa(b)})}}},pp=function(h){for(var m=0;m<h.attributes.length;m++){var b=h.attributes[m].name;["id","type","value","style"].includes(b)||h.removeAttribute(b)}},I_=function(h,m){var b=pt();if(b){var H=ni(b,h);if(H){pp(H);for(var ae in m)H.setAttribute(ae,m[ae])}}},co=function(h){if(h.input){var m=Ja(h.input);m&&Zn(m,h,"input")}},_i=function(h,m){!h.placeholder&&m.inputPlaceholder&&(h.placeholder=m.inputPlaceholder)},Is=function(h,m,b){if(b.inputLabel){var H=document.createElement("label"),ae=R["input-label"];H.setAttribute("for",h.id),H.className=ae,Ge(b.customClass)==="object"&&Ct(H,b.customClass.inputLabel),H.innerText=b.inputLabel,m.insertAdjacentElement("beforebegin",H)}},Ja=function(h){var m=pt();if(m)return gi(m,R[h]||R.input)},Za=function(h,m){["string","number"].includes(Ge(m))?h.value="".concat(m):Jn(m)||Re('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Ge(m),'"'))},it={};it.text=it.email=it.password=it.number=it.tel=it.url=it.search=it.date=it["datetime-local"]=it.time=it.week=it.month=function(E,h){return Za(E,h.inputValue),Is(E,E,h),_i(E,h),E.type=h.input,E},it.file=function(E,h){return Is(E,E,h),_i(E,h),E},it.range=function(E,h){var m=E.querySelector("input"),b=E.querySelector("output");return Za(m,h.inputValue),m.type=h.input,Za(b,h.inputValue),Is(m,E,h),E},it.select=function(E,h){if(E.textContent="",h.inputPlaceholder){var m=document.createElement("option");sr(m,h.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,E.appendChild(m)}return Is(E,E,h),E},it.radio=function(E){return E.textContent="",E},it.checkbox=function(E,h){var m=ni(pt(),"checkbox");m.value="1",m.checked=!!h.inputValue;var b=E.querySelector("span");return sr(b,h.inputPlaceholder),m},it.textarea=function(E,h){Za(E,h.inputValue),_i(E,h),Is(E,E,h);var m=function(H){return parseInt(window.getComputedStyle(H).marginLeft)+parseInt(window.getComputedStyle(H).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var b=parseInt(window.getComputedStyle(pt()).width),H=function(){if(document.body.contains(E)){var Oe=E.offsetWidth+m(E);Oe>b?pt().style.width="".concat(Oe,"px"):hn(pt(),"width",h.width)}};new MutationObserver(H).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};var bl=function(h,m){var b=io();b&&(ts(b),Zn(b,m,"htmlContainer"),m.html?(Je(m.html,b),fn(b,"block")):m.text?(b.textContent=m.text,fn(b,"block")):gn(b),S_(h,m))},ec=function(h,m){var b=Zi();b&&(ts(b),I(b,m.footer,"block"),m.footer&&Je(m.footer,b),Zn(b,m,"footer"))},tc=function(h,m){var b=qt.innerParams.get(h),H=Or();if(H){if(b&&m.icon===b.icon){_p(H,m),mp(H,m);return}if(!m.icon&&!m.iconHtml){gn(H);return}if(m.icon&&Object.keys(J).indexOf(m.icon)===-1){$e('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(m.icon,'"')),gn(H);return}fn(H),_p(H,m),mp(H,m),Ct(H,m.showClass&&m.showClass.icon)}},mp=function(h,m){for(var b=0,H=Object.entries(J);b<H.length;b++){var ae=k(H[b],2),Oe=ae[0],gt=ae[1];m.icon!==Oe&&or(h,gt)}Ct(h,m.icon&&J[m.icon]),R_(h,m),gp(),Zn(h,m,"icon")},gp=function(){var h=pt();if(h)for(var m=window.getComputedStyle(h).getPropertyValue("background-color"),b=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),H=0;H<b.length;H++)b[H].style.backgroundColor=m},A_=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,k_=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_p=function(h,m){if(!(!m.icon&&!m.iconHtml)){var b=h.innerHTML,H="";if(m.iconHtml)H=ta(m.iconHtml);else if(m.icon==="success")H=A_,b=b.replace(/ style=".*?"/g,"");else if(m.icon==="error")H=k_;else if(m.icon){var ae={question:"?",warning:"!",info:"i"};H=ta(ae[m.icon])}b.trim()!==H.trim()&&sr(h,H)}},R_=function(h,m){if(m.iconColor){h.style.color=m.iconColor,h.style.borderColor=m.iconColor;for(var b=0,H=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];b<H.length;b++){var ae=H[b];xl(h,ae,"background-color",m.iconColor)}xl(h,".swal2-success-ring","border-color",m.iconColor)}},ta=function(h){return'<div class="'.concat(R["icon-content"],'">').concat(h,"</div>")},As=function(h,m){var b=yr();if(b){if(!m.imageUrl){gn(b);return}fn(b,""),b.setAttribute("src",m.imageUrl),b.setAttribute("alt",m.imageAlt||""),hn(b,"width",m.imageWidth),hn(b,"height",m.imageHeight),b.className=R.image,Zn(b,m,"image")}},vp=function(h,m){var b=yt(),H=pt();if(!(!b||!H)){if(m.toast){hn(b,"width",m.width),H.style.width="100%";var ae=Mi();ae&&H.insertBefore(ae,Or())}else hn(H,"width",m.width);hn(H,"padding",m.padding),m.color&&(H.style.color=m.color),m.background&&(H.style.background=m.background),gn(Oi()),yp(H,m)}},yp=function(h,m){var b=m.showClass||{};h.className="".concat(R.popup," ").concat(L(h)?b.popup:""),m.toast?(Ct([document.documentElement,document.body],R["toast-shown"]),Ct(h,R.toast)):Ct(h,R.modal),Zn(h,m,"popup"),typeof m.customClass=="string"&&Ct(h,m.customClass),m.icon&&Ct(h,R["icon-".concat(m.icon)])},wp=function(h,m){var b=Pi();if(b){var H=m.progressSteps,ae=m.currentProgressStep;if(!H||H.length===0||ae===void 0){gn(b);return}fn(b),b.textContent="",ae>=H.length&&Re("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),H.forEach(function(Oe,gt){var ut=na(Oe);if(b.appendChild(ut),gt===ae&&Ct(ut,R["active-progress-step"]),gt!==H.length-1){var Rn=D_(m);b.appendChild(Rn)}})}},na=function(h){var m=document.createElement("li");return Ct(m,R["progress-step"]),sr(m,h),m},D_=function(h){var m=document.createElement("li");return Ct(m,R["progress-step-line"]),h.progressStepsDistance&&hn(m,"width",h.progressStepsDistance),m},P_=function(h,m){var b=Jo();b&&(ts(b),I(b,m.title||m.titleText,"block"),m.title&&Je(m.title,b),m.titleText&&(b.innerText=m.titleText),Zn(b,m,"title"))},xp=function(h,m){vp(h,m),ii(h,m),wp(h,m),tc(h,m),As(h,m),P_(h,m),ea(h,m),bl(h,m),En(h,m),ec(h,m);var b=pt();typeof m.didRender=="function"&&b&&m.didRender(b)},ks=function(){return L(pt())},bp=function(){var h;return(h=Lt())===null||h===void 0?void 0:h.click()},O_=function(){var h;return(h=ti())===null||h===void 0?void 0:h.click()},nc=function(){var h;return(h=jt())===null||h===void 0?void 0:h.click()},rs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Td=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},rc=function(h,m,b){Td(h),m.toast||(h.keydownHandler=function(H){return _n(m,H,b)},h.keydownTarget=m.keydownListenerCapture?window:pt(),h.keydownListenerCapture=m.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},lo=function(h,m){var b,H=Xa();if(H.length){h=h+m,h===H.length?h=0:h===-1&&(h=H.length-1),H[h].focus();return}(b=pt())===null||b===void 0||b.focus()},Sd=["ArrowRight","ArrowDown"],Id=["ArrowLeft","ArrowUp"],_n=function(h,m,b){h&&(m.isComposing||m.keyCode===229||(h.stopKeydownPropagation&&m.stopPropagation(),m.key==="Enter"?M_(m,h):m.key==="Tab"?F_(m):[].concat(Sd,Id).includes(m.key)?Ep(m.key):m.key==="Escape"&&Cp(m,h,b)))},M_=function(h,m){if(lt(m.allowEnterKey)){var b=ni(pt(),m.input);if(h.target&&b&&h.target instanceof HTMLElement&&h.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(m.input))return;bp(),h.preventDefault()}}},F_=function(h){for(var m=h.target,b=Xa(),H=-1,ae=0;ae<b.length;ae++)if(m===b[ae]){H=ae;break}h.shiftKey?lo(H,-1):lo(H,1),h.stopPropagation(),h.preventDefault()},Ep=function(h){var m=Cs(),b=Lt(),H=ti(),ae=jt();if(!(!m||!b||!H||!ae)){var Oe=[b,H,ae];if(!(document.activeElement instanceof HTMLElement&&!Oe.includes(document.activeElement))){var gt=Sd.includes(h)?"nextElementSibling":"previousElementSibling",ut=document.activeElement;if(ut){for(var Rn=0;Rn<m.children.length;Rn++){if(ut=ut[gt],!ut)return;if(ut instanceof HTMLButtonElement&&L(ut))break}ut instanceof HTMLButtonElement&&ut.focus()}}}},Cp=function(h,m,b){lt(m.allowEscapeKey)&&(h.preventDefault(),b(rs.esc))},uo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},El=function(){var h=yt(),m=Array.from(document.body.children);m.forEach(function(b){b.contains(h)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},Ad=function(){var h=Array.from(document.body.children);h.forEach(function(m){m.hasAttribute("data-previous-aria-hidden")?(m.setAttribute("aria-hidden",m.getAttribute("data-previous-aria-hidden")||""),m.removeAttribute("data-previous-aria-hidden")):m.removeAttribute("aria-hidden")})},Fi=typeof window<"u"&&!!window.GestureEvent,Tp=function(){if(Fi&&!wr(document.body,R.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),Ct(document.body,R.iosfix),N_()}},N_=function(){var h=yt();if(h){var m;h.ontouchstart=function(b){m=ic(b)},h.ontouchmove=function(b){m&&(b.preventDefault(),b.stopPropagation())}}},ic=function(h){var m=h.target,b=yt(),H=io();return!b||!H||Sp(h)||kd(h)?!1:m===b||!N(b)&&m instanceof HTMLElement&&m.tagName!=="INPUT"&&m.tagName!=="TEXTAREA"&&!(N(H)&&H.contains(m))},Sp=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},kd=function(h){return h.touches&&h.touches.length>1},Cl=function(){if(wr(document.body,R.iosfix)){var h=parseInt(document.body.style.top,10);or(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},Ip=function(){var h=document.createElement("div");h.className=R["scrollbar-measure"],document.body.appendChild(h);var m=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),m},is=null,L_=function(h){is===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(is=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(is+Ip(),"px"))},Ap=function(){is!==null&&(document.body.style.paddingRight="".concat(is,"px"),is=null)};function ra(E,h,m,b){es()?Rs(E,b):(Nn(m).then(function(){return Rs(E,b)}),Td(We)),Fi?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Zo()&&(Ap(),Cl(),Ad()),kp()}function kp(){or([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}function ss(E){E=Sl(E);var h=uo.swalPromiseResolve.get(this),m=Rd(this);this.isAwaitingPromise?E.isDismissed||(ia(this),h(E)):m&&h(E)}var Rd=function(h){var m=pt();if(!m)return!1;var b=qt.innerParams.get(h);if(!b||wr(m,b.hideClass.popup))return!1;or(m,b.showClass.popup),Ct(m,b.hideClass.popup);var H=yt();return or(H,b.showClass.backdrop),Ct(H,b.hideClass.backdrop),Rp(h,m,b),!0};function Tl(E){var h=uo.swalPromiseReject.get(this);ia(this),h&&h(E)}var ia=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,qt.innerParams.get(h)||h._destroy())},Sl=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},Rp=function(h,m,b){var H=yt(),ae=kt&&U(m);typeof b.willClose=="function"&&b.willClose(m),ae?Dp(h,m,H,b.returnFocus,b.didClose):ra(h,H,b.returnFocus,b.didClose)},Dp=function(h,m,b,H,ae){kt&&(We.swalCloseEventFinishedCallback=ra.bind(null,h,b,H,ae),m.addEventListener(kt,function(Oe){Oe.target===m&&(We.swalCloseEventFinishedCallback(),delete We.swalCloseEventFinishedCallback)}))},Rs=function(h,m){setTimeout(function(){typeof m=="function"&&m.bind(h.params)(),h._destroy&&h._destroy()})},ho=function(h){var m=pt();if(m||new Bp,m=pt(),!!m){var b=Mi();es()?gn(Or()):Pp(m,h),fn(b),m.setAttribute("data-loading","true"),m.setAttribute("aria-busy","true"),m.focus()}},Pp=function(h,m){var b=Cs(),H=Mi();!b||!H||(!m&&L(Lt())&&(m=Lt()),fn(b),m&&(gn(m),H.setAttribute("data-button-to-replace",m.className),b.insertBefore(H,m)),Ct([h,b],R.loading))},Op=function(h,m){m.input==="select"||m.input==="radio"?Np(h,m):["text","email","number","tel","textarea"].some(function(b){return b===m.input})&&(dn(m.inputValue)||Jn(m.inputValue))&&(ho(Lt()),sa(h,m))},Mp=function(h,m){var b=h.getInput();if(!b)return null;switch(m.input){case"checkbox":return Il(b);case"radio":return $r(b);case"file":return Fp(b);default:return m.inputAutoTrim?b.value.trim():b.value}},Il=function(h){return h.checked?1:0},$r=function(h){return h.checked?h.value:null},Fp=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},Np=function(h,m){var b=pt();if(b){var H=function(Oe){m.input==="select"?u(b,x(Oe),m):m.input==="radio"&&g(b,x(Oe),m)};dn(m.inputOptions)||Jn(m.inputOptions)?(ho(Lt()),ft(m.inputOptions).then(function(ae){h.hideLoading(),H(ae)})):Ge(m.inputOptions)==="object"?H(m.inputOptions):$e("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Ge(m.inputOptions)))}},sa=function(h,m){var b=h.getInput();b&&(gn(b),ft(m.inputValue).then(function(H){b.value=m.input==="number"?"".concat(parseFloat(H)||0):"".concat(H),fn(b),b.focus(),h.hideLoading()}).catch(function(H){$e("Error in inputValue promise: ".concat(H)),b.value="",fn(b),b.focus(),h.hideLoading()}))};function u(E,h,m){var b=gi(E,R.select);if(b){var H=function(Oe,gt,ut){var Rn=document.createElement("option");Rn.value=ut,sr(Rn,gt),Rn.selected=P(ut,m.inputValue),Oe.appendChild(Rn)};h.forEach(function(ae){var Oe=ae[0],gt=ae[1];if(Array.isArray(gt)){var ut=document.createElement("optgroup");ut.label=Oe,ut.disabled=!1,b.appendChild(ut),gt.forEach(function(Rn){return H(ut,Rn[1],Rn[0])})}else H(b,gt,Oe)}),b.focus()}}function g(E,h,m){var b=gi(E,R.radio);if(b){h.forEach(function(ae){var Oe=ae[0],gt=ae[1],ut=document.createElement("input"),Rn=document.createElement("label");ut.type="radio",ut.name=R.radio,ut.value=Oe,P(Oe,m.inputValue)&&(ut.checked=!0);var Pd=document.createElement("span");sr(Pd,gt),Pd.className=R.label,Rn.appendChild(ut),Rn.appendChild(Pd),b.appendChild(Rn)});var H=b.querySelectorAll("input");H.length&&H[0].focus()}}var x=function E(h){var m=[];return h instanceof Map?h.forEach(function(b,H){var ae=b;Ge(ae)==="object"&&(ae=E(ae)),m.push([H,ae])}):Object.keys(h).forEach(function(b){var H=h[b];Ge(H)==="object"&&(H=E(H)),m.push([b,H])}),m},P=function(h,m){return!!m&&m.toString()===h.toString()},Z=void 0,oe=function(h){var m=qt.innerParams.get(h);h.disableButtons(),m.input?Wn(h,"confirm"):qr(h,!0)},De=function(h){var m=qt.innerParams.get(h);h.disableButtons(),m.returnInputValueOnDeny?Wn(h,"deny"):zn(h,!1)},Gt=function(h,m){h.disableButtons(),m(rs.cancel)},Wn=function(h,m){var b=qt.innerParams.get(h);if(!b.input){$e('The "input" parameter is needed to be set when using returnInputValueOn'.concat(_e(m)));return}var H=h.getInput(),ae=Mp(h,b);b.inputValidator?Rt(h,ae,m):H&&!H.checkValidity()?(h.enableButtons(),h.showValidationMessage(b.validationMessage||H.validationMessage)):m==="deny"?zn(h,ae):qr(h,ae)},Rt=function(h,m,b){var H=qt.innerParams.get(h);h.disableInput();var ae=Promise.resolve().then(function(){return ft(H.inputValidator(m,H.validationMessage))});ae.then(function(Oe){h.enableButtons(),h.enableInput(),Oe?h.showValidationMessage(Oe):b==="deny"?zn(h,m):qr(h,m)})},zn=function(h,m){var b=qt.innerParams.get(h||Z);if(b.showLoaderOnDeny&&ho(ti()),b.preDeny){h.isAwaitingPromise=!0;var H=Promise.resolve().then(function(){return ft(b.preDeny(m,b.validationMessage))});H.then(function(ae){ae===!1?(h.hideLoading(),ia(h)):h.close({isDenied:!0,value:typeof ae>"u"?m:ae})}).catch(function(ae){return fo(h||Z,ae)})}else h.close({isDenied:!0,value:m})},er=function(h,m){h.close({isConfirmed:!0,value:m})},fo=function(h,m){h.rejectPromise(m)},qr=function(h,m){var b=qt.innerParams.get(h||Z);if(b.showLoaderOnConfirm&&ho(),b.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var H=Promise.resolve().then(function(){return ft(b.preConfirm(m,b.validationMessage))});H.then(function(ae){L(Oi())||ae===!1?(h.hideLoading(),ia(h)):er(h,typeof ae>"u"?m:ae)}).catch(function(ae){return fo(h||Z,ae)})}else er(h,m)};function po(){var E=qt.innerParams.get(this);if(E){var h=qt.domCache.get(this);gn(h.loader),es()?E.icon&&fn(Or()):Dd(h),or([h.popup,h.actions],R.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var Dd=function(h){var m=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));m.length?fn(m[0],"inline-block"):M()&&gn(h.actions)};function RC(){var E=qt.innerParams.get(this),h=qt.domCache.get(this);return h?ni(h.popup,E.input):null}function DC(E,h,m){var b=qt.domCache.get(E);h.forEach(function(H){b[H].disabled=m})}function PC(E,h){var m=pt();if(!(!m||!E))if(E.type==="radio")for(var b=m.querySelectorAll('[name="'.concat(R.radio,'"]')),H=0;H<b.length;H++)b[H].disabled=h;else E.disabled=h}function OC(){DC(this,["confirmButton","denyButton","cancelButton"],!1)}function MC(){DC(this,["confirmButton","denyButton","cancelButton"],!0)}function FC(){PC(this.getInput(),!1)}function NC(){PC(this.getInput(),!0)}function LC(E){var h=qt.domCache.get(this),m=qt.innerParams.get(this);sr(h.validationMessage,E),h.validationMessage.className=R["validation-message"],m.customClass&&m.customClass.validationMessage&&Ct(h.validationMessage,m.customClass.validationMessage),fn(h.validationMessage);var b=this.getInput();b&&(b.setAttribute("aria-invalid","true"),b.setAttribute("aria-describedby",R["validation-message"]),Qa(b),Ct(b,R.inputerror))}function VC(){var E=qt.domCache.get(this);E.validationMessage&&gn(E.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),or(h,R.inputerror))}var Al={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},zF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],HF={allowEnterKey:void 0},$F=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],BC=function(h){return Object.prototype.hasOwnProperty.call(Al,h)},UC=function(h){return zF.indexOf(h)!==-1},jC=function(h){return HF[h]},qF=function(h){BC(h)||Re('Unknown parameter "'.concat(h,'"'))},GF=function(h){$F.includes(h)&&Re('The parameter "'.concat(h,'" is incompatible with toasts'))},KF=function(h){var m=jC(h);m&&Tt(h,m)},XF=function(h){h.backdrop===!1&&h.allowOutsideClick&&Re('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var m in h)qF(m),h.toast&&GF(m),KF(m)};function WC(E){var h=pt(),m=qt.innerParams.get(this);if(!h||wr(h,m.hideClass.popup)){Re("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var b=YF(E),H=Object.assign({},m,b);xp(this,H),qt.innerParams.set(this,H),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}var YF=function(h){var m={};return Object.keys(h).forEach(function(b){UC(b)?m[b]=h[b]:Re("Invalid parameter to update: ".concat(b))}),m};function zC(){var E=qt.domCache.get(this),h=qt.innerParams.get(this);if(!h){HC(this);return}E.popup&&We.swalCloseEventFinishedCallback&&(We.swalCloseEventFinishedCallback(),delete We.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),QF(this)}var QF=function(h){HC(h),delete h.params,delete We.keydownHandler,delete We.keydownTarget,delete We.currentInstance},HC=function(h){h.isAwaitingPromise?(V_(qt,h),h.isAwaitingPromise=!0):(V_(uo,h),V_(qt,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},V_=function(h,m){for(var b in h)h[b].delete(m)},JF=Object.freeze({__proto__:null,_destroy:zC,close:ss,closeModal:ss,closePopup:ss,closeToast:ss,disableButtons:MC,disableInput:NC,disableLoading:po,enableButtons:OC,enableInput:FC,getInput:RC,handleAwaitingPromise:ia,hideLoading:po,rejectPromise:Tl,resetValidationMessage:VC,showValidationMessage:LC,update:WC}),ZF=function(h,m,b){h.toast?eN(h,m,b):(nN(m),rN(m),iN(h,m,b))},eN=function(h,m,b){m.popup.onclick=function(){h&&(tN(h)||h.timer||h.input)||b(rs.close)}},tN=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},Lp=!1,nN=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(m){h.container.onmouseup=function(){},m.target===h.container&&(Lp=!0)}}},rN=function(h){h.container.onmousedown=function(m){m.target===h.container&&m.preventDefault(),h.popup.onmouseup=function(b){h.popup.onmouseup=function(){},(b.target===h.popup||b.target instanceof HTMLElement&&h.popup.contains(b.target))&&(Lp=!0)}}},iN=function(h,m,b){m.container.onclick=function(H){if(Lp){Lp=!1;return}H.target===m.container&&lt(h.allowOutsideClick)&&b(rs.backdrop)}},sN=function(h){return Ge(h)==="object"&&h.jquery},$C=function(h){return h instanceof Element||sN(h)},oN=function(h){var m={};return Ge(h[0])==="object"&&!$C(h[0])?Object.assign(m,h[0]):["title","html","icon"].forEach(function(b,H){var ae=h[H];typeof ae=="string"||$C(ae)?m[b]=ae:ae!==void 0&&$e("Unexpected type of ".concat(b,'! Expected "string" or "Element", got ').concat(Ge(ae)))}),m};function aN(){for(var E=this,h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];return f(E,m)}function cN(E){var h=function(m){function b(){return a(this,b),s(this,b,arguments)}return K(b,m),_(b,[{key:"_main",value:function(ae,Oe){return w(T(b.prototype),"_main",this).call(this,ae,Object.assign({},E,Oe))}}])}(this);return h}var lN=function(){return We.timeout&&We.timeout.getTimerLeft()},qC=function(){if(We.timeout)return ne(),We.timeout.stop()},GC=function(){if(We.timeout){var h=We.timeout.start();return j(h),h}},uN=function(){var h=We.timeout;return h&&(h.running?qC():GC())},dN=function(h){if(We.timeout){var m=We.timeout.increase(h);return j(m,!0),m}},hN=function(){return!!(We.timeout&&We.timeout.isRunning())},KC=!1,B_={};function fN(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";B_[E]=this,KC||(document.body.addEventListener("click",pN),KC=!0)}var pN=function(h){for(var m=h.target;m&&m!==document;m=m.parentNode)for(var b in B_){var H=m.getAttribute(b);if(H){B_[b].fire({template:H});return}}},mN=Object.freeze({__proto__:null,argsToParams:oN,bindClickHandler:fN,clickCancel:nc,clickConfirm:bp,clickDeny:O_,enableLoading:ho,fire:aN,getActions:Cs,getCancelButton:jt,getCloseButton:so,getConfirmButton:Lt,getContainer:yt,getDenyButton:ti,getFocusableElements:Xa,getFooter:Zi,getHtmlContainer:io,getIcon:Or,getIconContent:Di,getImage:yr,getInputLabel:Ga,getLoader:Mi,getPopup:pt,getProgressSteps:Pi,getTimerLeft:lN,getTimerProgressBar:Ts,getTitle:Jo,getValidationMessage:Oi,increaseTimer:dN,isDeprecatedParameter:jC,isLoading:Ya,isTimerRunning:hN,isUpdatableParameter:UC,isValidParameter:BC,isVisible:ks,mixin:cN,resumeTimer:GC,showLoading:ho,stopTimer:qC,toggleTimer:uN}),gN=function(){function E(h,m){a(this,E),this.callback=h,this.remaining=m,this.running=!1,this.start()}return _(E,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(m){var b=this.running;return b&&this.stop(),this.remaining+=m,b&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),XC=["swal-title","swal-html","swal-footer"],_N=function(h){var m=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!m)return{};var b=m.content;TN(b);var H=Object.assign(vN(b),yN(b),wN(b),xN(b),bN(b),EN(b),CN(b,XC));return H},vN=function(h){var m={},b=Array.from(h.querySelectorAll("swal-param"));return b.forEach(function(H){sc(H,["name","value"]);var ae=H.getAttribute("name"),Oe=H.getAttribute("value");!ae||!Oe||(typeof Al[ae]=="boolean"?m[ae]=Oe!=="false":Ge(Al[ae])==="object"?m[ae]=JSON.parse(Oe):m[ae]=Oe)}),m},yN=function(h){var m={},b=Array.from(h.querySelectorAll("swal-function-param"));return b.forEach(function(H){var ae=H.getAttribute("name"),Oe=H.getAttribute("value");!ae||!Oe||(m[ae]=new Function("return ".concat(Oe))())}),m},wN=function(h){var m={},b=Array.from(h.querySelectorAll("swal-button"));return b.forEach(function(H){sc(H,["type","color","aria-label"]);var ae=H.getAttribute("type");!ae||!["confirm","cancel","deny"].includes(ae)||(m["".concat(ae,"ButtonText")]=H.innerHTML,m["show".concat(_e(ae),"Button")]=!0,H.hasAttribute("color")&&(m["".concat(ae,"ButtonColor")]=H.getAttribute("color")),H.hasAttribute("aria-label")&&(m["".concat(ae,"ButtonAriaLabel")]=H.getAttribute("aria-label")))}),m},xN=function(h){var m={},b=h.querySelector("swal-image");return b&&(sc(b,["src","width","height","alt"]),b.hasAttribute("src")&&(m.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(m.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(m.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(m.imageAlt=b.getAttribute("alt")||void 0)),m},bN=function(h){var m={},b=h.querySelector("swal-icon");return b&&(sc(b,["type","color"]),b.hasAttribute("type")&&(m.icon=b.getAttribute("type")),b.hasAttribute("color")&&(m.iconColor=b.getAttribute("color")),m.iconHtml=b.innerHTML),m},EN=function(h){var m={},b=h.querySelector("swal-input");b&&(sc(b,["type","label","placeholder","value"]),m.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(m.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(m.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(m.inputValue=b.getAttribute("value")));var H=Array.from(h.querySelectorAll("swal-input-option"));return H.length&&(m.inputOptions={},H.forEach(function(ae){sc(ae,["value"]);var Oe=ae.getAttribute("value");if(Oe){var gt=ae.innerHTML;m.inputOptions[Oe]=gt}})),m},CN=function(h,m){var b={};for(var H in m){var ae=m[H],Oe=h.querySelector(ae);Oe&&(sc(Oe,[]),b[ae.replace(/^swal-/,"")]=Oe.innerHTML.trim())}return b},TN=function(h){var m=XC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(b){var H=b.tagName.toLowerCase();m.includes(H)||Re("Unrecognized element <".concat(H,">"))})},sc=function(h,m){Array.from(h.attributes).forEach(function(b){m.indexOf(b.name)===-1&&Re(['Unrecognized attribute "'.concat(b.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(m.length?"Allowed attributes are: ".concat(m.join(", ")):"To set the value, use HTML within the element.")])})},YC=10,SN=function(h){var m=yt(),b=pt();typeof h.willOpen=="function"&&h.willOpen(b);var H=window.getComputedStyle(document.body),ae=H.overflowY;RN(m,b,h),setTimeout(function(){AN(m,b)},YC),Zo()&&(kN(m,h.scrollbarPadding,ae),El()),!es()&&!We.previousActiveElement&&(We.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(b)}),or(m,R["no-transition"])},IN=function E(h){var m=pt();if(!(h.target!==m||!kt)){var b=yt();m.removeEventListener(kt,E),b.style.overflowY="auto"}},AN=function(h,m){kt&&U(m)?(h.style.overflowY="hidden",m.addEventListener(kt,IN)):h.style.overflowY="auto"},kN=function(h,m,b){Tp(),m&&b!=="hidden"&&L_(b),setTimeout(function(){h.scrollTop=0})},RN=function(h,m,b){Ct(h,b.showClass.backdrop),b.animation?(m.style.setProperty("opacity","0","important"),fn(m,"grid"),setTimeout(function(){Ct(m,b.showClass.popup),m.style.removeProperty("opacity")},YC)):fn(m,"grid"),Ct([document.documentElement,document.body],R.shown),b.heightAuto&&b.backdrop&&!b.toast&&Ct([document.documentElement,document.body],R["height-auto"])},QC={email:function(h,m){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid email address")},url:function(h,m){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid URL")}};function DN(E){E.inputValidator||(E.input==="email"&&(E.inputValidator=QC.email),E.input==="url"&&(E.inputValidator=QC.url))}function PN(E){(!E.target||typeof E.target=="string"&&!document.querySelector(E.target)||typeof E.target!="string"&&!E.target.appendChild)&&(Re('Target parameter is not valid, defaulting to "body"'),E.target="body")}function ON(E){DN(E),E.showLoaderOnConfirm&&!E.preConfirm&&Re(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),PN(E),typeof E.title=="string"&&(E.title=E.title.split(`
`).join("<br />")),Pe(E)}var Ds,Vp=new WeakMap,Ln=function(){function E(){if(a(this,E),l(this,Vp,void 0),!(typeof window>"u")){Ds=this;for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];var H=Object.freeze(this.constructor.argsToParams(m));this.params=H,this.isAwaitingPromise=!1,d(Vp,this,this._main(Ds.params))}}return _(E,[{key:"_main",value:function(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(XF(Object.assign({},b,m)),We.currentInstance){var H=uo.swalPromiseResolve.get(We.currentInstance),ae=We.currentInstance.isAwaitingPromise;We.currentInstance._destroy(),ae||H({isDismissed:!0}),Zo()&&Ad()}We.currentInstance=Ds;var Oe=FN(m,b);ON(Oe),Object.freeze(Oe),We.timeout&&(We.timeout.stop(),delete We.timeout),clearTimeout(We.restoreFocusTimeout);var gt=NN(Ds);return xp(Ds,Oe),qt.innerParams.set(Ds,Oe),MN(Ds,gt,Oe)}},{key:"then",value:function(m){return c(Vp,this).then(m)}},{key:"finally",value:function(m){return c(Vp,this).finally(m)}}])}(),MN=function(h,m,b){return new Promise(function(H,ae){var Oe=function(ut){h.close({isDismissed:!0,dismiss:ut})};uo.swalPromiseResolve.set(h,H),uo.swalPromiseReject.set(h,ae),m.confirmButton.onclick=function(){oe(h)},m.denyButton.onclick=function(){De(h)},m.cancelButton.onclick=function(){Gt(h,Oe)},m.closeButton.onclick=function(){Oe(rs.close)},ZF(b,m,Oe),rc(We,b,Oe),Op(h,b),SN(b),LN(We,b,Oe),VN(m,b),setTimeout(function(){m.container.scrollTop=0})})},FN=function(h,m){var b=_N(h),H=Object.assign({},Al,m,b,h);return H.showClass=Object.assign({},Al.showClass,H.showClass),H.hideClass=Object.assign({},Al.hideClass,H.hideClass),H.animation===!1&&(H.showClass={backdrop:"swal2-noanimation"},H.hideClass={}),H},NN=function(h){var m={popup:pt(),container:yt(),actions:Cs(),confirmButton:Lt(),denyButton:ti(),cancelButton:jt(),loader:Mi(),closeButton:so(),validationMessage:Oi(),progressSteps:Pi()};return qt.domCache.set(h,m),m},LN=function(h,m,b){var H=Ts();gn(H),m.timer&&(h.timeout=new gN(function(){b("timer"),delete h.timeout},m.timer),m.timerProgressBar&&(fn(H),Zn(H,m,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&j(m.timer)})))},VN=function(h,m){if(!m.toast){if(!lt(m.allowEnterKey)){Tt("allowEnterKey"),jN();return}BN(h)||UN(h,m)||lo(-1,1)}},BN=function(h){var m=h.popup.querySelectorAll("[autofocus]"),b=C(m),H;try{for(b.s();!(H=b.n()).done;){var ae=H.value;if(ae instanceof HTMLElement&&L(ae))return ae.focus(),!0}}catch(Oe){b.e(Oe)}finally{b.f()}return!1},UN=function(h,m){return m.focusDeny&&L(h.denyButton)?(h.denyButton.focus(),!0):m.focusCancel&&L(h.cancelButton)?(h.cancelButton.focus(),!0):m.focusConfirm&&L(h.confirmButton)?(h.confirmButton.focus(),!0):!1},jN=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var JC=new Date,ZC=localStorage.getItem("swal-initiation");ZC?(JC.getTime()-Date.parse(ZC))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var E=document.createElement("audio");E.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",E.loop=!0,document.body.appendChild(E),setTimeout(function(){E.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(JC))}Ln.prototype.disableButtons=MC,Ln.prototype.enableButtons=OC,Ln.prototype.getInput=RC,Ln.prototype.disableInput=NC,Ln.prototype.enableInput=FC,Ln.prototype.hideLoading=po,Ln.prototype.disableLoading=po,Ln.prototype.showValidationMessage=LC,Ln.prototype.resetValidationMessage=VC,Ln.prototype.close=ss,Ln.prototype.closePopup=ss,Ln.prototype.closeModal=ss,Ln.prototype.closeToast=ss,Ln.prototype.rejectPromise=Tl,Ln.prototype.update=WC,Ln.prototype._destroy=zC,Object.assign(Ln,mN),Object.keys(JF).forEach(function(E){Ln[E]=function(){if(Ds&&Ds[E]){var h;return(h=Ds)[E].apply(h,arguments)}return null}}),Ln.DismissReason=rs,Ln.version="11.12.3";var Bp=Ln;return Bp.default=Bp,Bp});typeof Js<"u"&&Js.Sweetalert2&&(Js.swal=Js.sweetAlert=Js.Swal=Js.SweetAlert=Js.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var uv=class extends FT{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dv=class n extends uv{static makeCurrent(){MT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$N();return t==null?null:qN(t)}resetBaseElement(){Yd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NT(document.cookie,e)}},Yd=null;function $N(){return Yd=Yd||document.querySelector("base"),Yd?Yd.getAttribute("href"):null}function qN(n){return new URL(n,document.baseURI).pathname}var GN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),rm=new et(""),YT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new vn(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(be(rm),be(st))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),Qd=class{constructor(e){this._doc=e}},cv="ng-app-id",QT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=av(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${cv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(cv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(cv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(be(It),be($p),be(Ud,8),be(_o))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fv=/%COMP%/g,JT="%COMP%",KN=`_nghost-${JT}`,XN=`_ngcontent-${JT}`,YN=!0,QN=new et("",{providedIn:"root",factory:()=>YN});function JN(n){return XN.replace(fv,n)}function ZN(n){return KN.replace(fv,n)}function ZT(n,e){return e.map(t=>t.replace(fv,n))}var jl=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=av(c),this.defaultRenderer=new Jd(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vd.ShadowDom&&(i=Vt(Ae({},i),{encapsulation:Vd.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof im?s.applyToHost(r):s instanceof Zd&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Vd.Emulated:o=new im(l,d,i,this.appId,f,a,c,p);break;case Vd.ShadowDom:return new hv(l,d,r,i,a,c,this.nonce,p);default:o=new Zd(l,d,i,f,a,c,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(be(YT),be(QT),be($p),be(QN),be(It),be(_o),be(st),be(Ud))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),Jd=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(lv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new vn(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=lv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=lv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(jd.DashCase|jd.Important)?e.style.setProperty(t,r,i&jd.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&jd.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Vl().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hv=class extends Jd{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ZT(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zd=class extends Jd{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?ZT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},im=class extends Zd{constructor(e,t,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=JN(l),this.hostAttr=ZN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},e4=(()=>{let e=class e extends Qd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),t4=(()=>{let e=class e extends Qd{constructor(r){super(r),this.delegate=qe(PT,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),XT=["alt","control","meta","shift"],n4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},i4=(()=>{let e=class e extends Qd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vl().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),XT.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=n4[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),XT.forEach(a=>{if(a!==s){let c=r4[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})();function eS(n,e){return DT(Ae({rootComponent:n},s4(e)))}function s4(n){return{appProviders:[...u4,...n?.providers??[]],platformProviders:l4}}function o4(){dv.makeCurrent()}function a4(){return new J_}function c4(){return hT(document),document}var l4=[{provide:_o,useValue:BT},{provide:fT,useValue:o4,multi:!0},{provide:It,useFactory:c4,deps:[]}];var u4=[{provide:lT,useValue:"root"},{provide:J_,useFactory:a4,deps:[]},{provide:rm,useClass:e4,multi:!0,deps:[It,st,_o]},{provide:rm,useClass:i4,multi:!0,deps:[It]},{provide:rm,useClass:t4,multi:!0},jl,QT,YT,{provide:Pl,useExisting:jl},{provide:jT,useClass:GN,deps:[]},[]];var tS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vt="primary",mh=Symbol("RouteTitle"),vv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gl(n){return new vv(n)}function h4(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function f4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Os(n[t],e[t]))return!1;return!0}function Os(n,e){let t=n?yv(n):void 0,r=e?yv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lS(n[i],e[i]))return!1;return!0}function yv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function uS(n){return n.length>0?n[n.length-1]:null}function ga(n){return jp(n)?n:Zp(n)?ai(Promise.resolve(n)):ct(n)}var p4={exact:hS,subset:fS},dS={exact:m4,subset:g4,ignored:()=>!0};function nS(n,e,t){return p4[t.paths](n.root,e.root,t.matrixParams)&&dS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function m4(n,e){return Os(n,e)}function hS(n,e,t){if(!dc(n.segments,e.segments)||!am(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!hS(n.children[r],e.children[r],t))return!1;return!0}function g4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lS(n[t],e[t]))}function fS(n,e,t){return pS(n,e,e.segments,t)}function pS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!dc(i,t)||e.hasChildren()||!am(i,t,r))}else if(n.segments.length===t.length){if(!dc(n.segments,t)||!am(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!dc(n.segments,i)||!am(n.segments,i,r)||!n.children[vt]?!1:pS(n.children[vt],e,s,r)}}function am(n,e,t){return e.every((r,i)=>dS[t](n[i].parameters,r.parameters))}var xo=class{constructor(e=new $t([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gl(this.queryParams),this._queryParamMap}toString(){return y4.serialize(this)}},$t=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cm(this)}},uc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gl(this.parameters),this._parameterMap}toString(){return gS(this)}};function _4(n,e){return dc(n,e)&&n.every((t,r)=>Os(t.parameters,e[r].parameters))}function dc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function v4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===vt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==vt&&(t=t.concat(e(i,r)))}),t}var $v=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:()=>new oh,providedIn:"root"});let n=e;return n})(),oh=class{parse(e){let t=new xv(e);return new xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${eh(e.root,!0)}`,r=b4(e.queryParams),i=typeof e.fragment=="string"?`#${w4(e.fragment)}`:"";return`${t}${r}${i}`}},y4=new oh;function cm(n){return n.segments.map(e=>gS(e)).join("/")}function eh(n,e){if(!n.hasChildren())return cm(n);if(e){let t=n.children[vt]?eh(n.children[vt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==vt&&r.push(`${i}:${eh(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=v4(n,(r,i)=>i===vt?[eh(n.children[vt],!1)]:[`${i}:${eh(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[vt]!=null?`${cm(n)}/${t[0]}`:`${cm(n)}/(${t.join("//")})`}}function mS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sm(n){return mS(n).replace(/%3B/gi,";")}function w4(n){return encodeURI(n)}function wv(n){return mS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function rS(n){return lm(n.replace(/\+/g,"%20"))}function gS(n){return`${wv(n.path)}${x4(n.parameters)}`}function x4(n){return Object.entries(n).map(([e,t])=>`;${wv(e)}=${wv(t)}`).join("")}function b4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sm(t)}=${sm(i)}`).join("&"):`${sm(t)}=${sm(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var E4=/^[^\/()?;#]+/;function pv(n){let e=n.match(E4);return e?e[0]:""}var C4=/^[^\/()?;=#]+/;function T4(n){let e=n.match(C4);return e?e[0]:""}var S4=/^[^=?&#]+/;function I4(n){let e=n.match(S4);return e?e[0]:""}var A4=/^[^&#]+/;function k4(n){let e=n.match(A4);return e?e[0]:""}var xv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[vt]=new $t(e,t)),r}parseSegment(){let e=pv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new vn(4009,!1);return this.capture(e),new uc(lm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=T4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=pv(this.remaining);i&&(r=i,this.capture(r))}e[lm(t)]=lm(r)}parseQueryParam(e){let t=I4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=k4(this.remaining);o&&(r=o,this.capture(r))}let i=rS(t),s=rS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new vn(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=vt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[vt]:new $t([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new vn(4011,!1)}};function _S(n){return n.segments.length>0?new $t([],{[vt]:n}):n}function vS(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=vS(i);if(r===vt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new $t(n.segments,e);return R4(t)}function R4(n){if(n.numberOfChildren===1&&n.children[vt]){let e=n.children[vt];return new $t(n.segments.concat(e.segments),e.children)}return n}function hc(n){return n instanceof xo}function D4(n,e,t=null,r=null){let i=yS(n);return wS(i,e,t,r)}function yS(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new $t(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=_S(r);return e??i}function wS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return mv(i,i,i,t,r);let s=P4(e);if(s.toRoot())return mv(i,i,new $t([],{}),t,r);let o=O4(s,i,n),a=o.processChildren?rh(o.segmentGroup,o.index,s.commands):bS(o.segmentGroup,o.index,s.commands);return mv(i,o.segmentGroup,a,t,r)}function um(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ah(n){return typeof n=="object"&&n!=null&&n.outlets}function mv(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;n===e?o=t:o=xS(n,e,t);let a=_S(vS(o));return new xo(a,s,i)}function xS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=xS(s,e,t)}),new $t(n.segments,r)}var dm=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&um(r[0]))throw new vn(4003,!1);let i=r.find(ah);if(i&&i!==uS(r))throw new vn(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dm(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new dm(t,e,r)}var Hl=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function O4(n,e,t){if(n.isAbsolute)return new Hl(e,!0,0);if(!t)return new Hl(e,!1,NaN);if(t.parent===null)return new Hl(t,!0,0);let r=um(n.commands[0])?0:1,i=t.segments.length-1+r;return M4(t,i,n.numberOfDoubleDots)}function M4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new vn(4005,!1);i=r.segments.length}return new Hl(r,!1,i-s)}function F4(n){return ah(n[0])?n[0].outlets:{[vt]:n}}function bS(n,e,t){if(n??=new $t([],{}),n.segments.length===0&&n.hasChildren())return rh(n,e,t);let r=N4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new $t(n.segments.slice(0,r.pathIndex),{});return s.children[vt]=new $t(n.segments.slice(r.pathIndex),n.children),rh(s,0,i)}else return r.match&&i.length===0?new $t(n.segments,{}):r.match&&!n.hasChildren()?bv(n,e,t):r.match?rh(n,0,i):bv(n,e,t)}function rh(n,e,t){if(t.length===0)return new $t(n.segments,{});{let r=F4(t),i={};if(Object.keys(r).some(s=>s!==vt)&&n.children[vt]&&n.numberOfChildren===1&&n.children[vt].segments.length===0){let s=rh(n.children[vt],e,t);return new $t(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=bS(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new $t(n.segments,i)}}function N4(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(ah(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!sS(c,l,o))return s;r+=2}else{if(!sS(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(ah(s)){let c=L4(s.outlets);return new $t(r,c)}if(i===0&&um(t[0])){let c=n.segments[e];r.push(new uc(c.path,iS(t[0]))),i++;continue}let o=ah(s)?s.outlets[vt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&um(a)?(r.push(new uc(o,iS(a))),i+=2):(r.push(new uc(o,{})),i++)}return new $t(r,{})}function L4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=bv(new $t([],{}),0,r))}),e}function iS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sS(n,e,t){return n==t.path&&Os(e,t.parameters)}var ih="imperative",Er=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Er||{}),Ui=class{constructor(e,t){this.id=e,this.url=t}},ch=class extends Ui{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Er.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ma=class extends Ui{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Er.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ei=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ei||{}),Ev=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ev||{}),wo=class extends Ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Er.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fc=class extends Ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Er.NavigationSkipped}},lh=class extends Ui{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Er.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hm=class extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Er.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cv=class extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Er.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tv=class extends Ui{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Er.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sv=class extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Er.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class extends Ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Er.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class{constructor(e){this.route=e,this.type=Er.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kv=class{constructor(e){this.route=e,this.type=Er.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rv=class{constructor(e){this.snapshot=e,this.type=Er.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dv=class{constructor(e){this.snapshot=e,this.type=Er.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pv=class{constructor(e){this.snapshot=e,this.type=Er.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ov=class{constructor(e){this.snapshot=e,this.type=Er.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var uh=class{},Kl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function V4(n,e){return n.providers&&!n._injector&&(n._injector=yT(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ls(n){return n.outlet||vt}function B4(n,e){let t=n.filter(r=>ls(r)===e);return t.push(...n.filter(r=>ls(r)!==e)),t}function gh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Mv=class{get injector(){return gh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ym(this.rootInjector),this.attachRef=null}},ym=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Mv(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(be(Dl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),fm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Nv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nv(e,this._root).map(t=>t.value)}};function Fv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fv(n,t);if(r)return r}return null}function Nv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Nv(n,t);if(r.length)return r.unshift(e),r}return[]}var bi=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function zl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var pm=class extends fm{constructor(e,t){super(e),this.snapshot=t,qv(this,e)}toString(){return this.snapshot.toString()}};function ES(n){let e=U4(n),t=new vi([new uc("",{})]),r=new vi({}),i=new vi({}),s=new vi({}),o=new vi(""),a=new pc(t,r,s,o,i,vt,n,e.root);return a.snapshot=e.root,new pm(new bi(a,[]),e)}function U4(n){let e={},t={},r={},i="",s=new $l([],e,r,i,t,vt,n,null,{});return new gm("",new bi(s,[]))}var pc=class{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xt(l=>l[mh]))??ct(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xt(e=>Gl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xt(e=>Gl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ae(Ae({},e.params),n.params),data:Ae(Ae({},e.data),n.data),resolve:Ae(Ae(Ae(Ae({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Ae({},n.params),data:Ae({},n.data),resolve:Ae(Ae({},n.data),n._resolvedData??{})},i&&TS(i)&&(r.resolve[mh]=i.title),r}var $l=class{get title(){return this.data?.[mh]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gm=class extends fm{constructor(e,t){super(t),this.url=e,qv(this,t)}toString(){return CS(this._root)}};function qv(n,e){e.value._routerState=n,e.children.forEach(t=>qv(n,t))}function CS(n){let e=n.children.length>0?` { ${n.children.map(CS).join(", ")} } `:"";return`${n.value}${e}`}function gv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Os(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Os(e.params,t.params)||n.paramsSubject.next(t.params),f4(e.url,t.url)||n.urlSubject.next(t.url),Os(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Lv(n,e){let t=Os(n.params,e.params)&&_4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Lv(n.parent,e.parent))}function TS(n){return typeof n.title=="string"||n.title===null}var Gv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=qe(ym),this.location=qe(Ol),this.changeDetector=qe(Bi),this.inputBinder=qe(Kv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new vn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new vn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new vn(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new vn(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Vv(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wi]});let n=e;return n})(),Vv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pc?this.route:e===ym?this.childContexts:this.parent.get(e,t)}},Kv=new et("");function j4(n,e,t){let r=dh(n,e._root,t?t._root:void 0);return new pm(r,e)}function dh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=W4(n,e,t);return new bi(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>dh(n,a)),o}}let r=z4(e.value),i=e.children.map(s=>dh(n,s));return new bi(r,i)}}function W4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dh(n,r,i);return dh(n,r)})}function z4(n){return new pc(new vi(n.url),new vi(n.params),new vi(n.queryParams),new vi(n.fragment),new vi(n.data),n.outlet,n.component,n)}var hh=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},SS="ngNavigationCancelingError";function _m(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=hc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IS(!1,Ei.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function IS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SS]=!0,t.cancellationCode=e,t}function H4(n){return AS(n)&&hc(n.url)}function AS(n){return!!n&&n[SS]}var $4=(n,e,t,r)=>xt(i=>(new Bv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Bv=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=zl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=zl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ov(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(gv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},vm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ql=class{constructor(e,t){this.component=e,this.route=t}};function q4(n,e,t){let r=n._root,i=e?e._root:null;return th(r,i,t,[r.value])}function G4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Yl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cT(n)?n:e.get(n):r}function th(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=zl(e);return n.children.forEach(o=>{K4(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sh(a,t.getContext(o),i)),i}function K4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=X4(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?th(n,e,a?a.children:null,r,i):th(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ql(a.outlet.component,o))}else o&&sh(e,a,i),i.canActivateChecks.push(new vm(r)),s.component?th(n,null,a?a.children:null,r,i):th(n,null,t,r,i);return i}function X4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!dc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dc(n.url,e.url)||!Os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lv(n,e)||!Os(n.queryParams,e.queryParams);case"paramsChange":default:return!Lv(n,e)}}function sh(n,e,t){let r=zl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sh(o,e.children.getContext(s),t):sh(o,null,t):sh(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ql(e.outlet.component,i)):t.canDeactivateChecks.push(new ql(null,i)):t.canDeactivateChecks.push(new ql(null,i))}function _h(n){return typeof n=="function"}function Y4(n){return typeof n=="boolean"}function Q4(n){return n&&_h(n.canLoad)}function J4(n){return n&&_h(n.canActivate)}function Z4(n){return n&&_h(n.canActivateChild)}function eL(n){return n&&_h(n.canDeactivate)}function tL(n){return n&&_h(n.canMatch)}function kS(n){return n instanceof nT||n?.name==="EmptyError"}var om=Symbol("INITIAL_VALUE");function Xl(){return ci(n=>Md(n.map(e=>e.pipe(Ps(1),mo(om)))).pipe(xt(e=>{for(let t of e)if(t!==!0){if(t===om)return om;if(t===!1||nL(t))return t}return!0}),ar(e=>e!==om),Ps(1)))}function nL(n){return hc(n)||n instanceof hh}function rL(n,e){return Ni(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ct(Vt(Ae({},t),{guardsResult:!0})):iL(o,r,i,n).pipe(Ni(a=>a&&Y4(a)?sL(r,s,n,e):ct(a)),xt(a=>Vt(Ae({},t),{guardsResult:a})))})}function iL(n,e,t,r){return ai(n).pipe(Ni(i=>uL(i.component,i.route,t,e,r)),ua(i=>i!==!0,!0))}function sL(n,e,t,r){return ai(e).pipe(Nd(i=>Wp(aL(i.route.parent,r),oL(i.route,r),lL(n,i.path,t),cL(n,i.route,t))),ua(i=>i!==!0,!0))}function oL(n,e){return n!==null&&e&&e(new Pv(n)),ct(!0)}function aL(n,e){return n!==null&&e&&e(new Rv(n)),ct(!0)}function cL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ct(!0);let i=r.map(s=>Fd(()=>{let o=gh(e)??t,a=Yl(s,o),c=J4(a)?a.canActivate(e,n):go(o,()=>a(e,n));return ga(c).pipe(ua())}));return ct(i).pipe(Xl())}function lL(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>G4(o)).filter(o=>o!==null).map(o=>Fd(()=>{let a=o.guards.map(c=>{let l=gh(o.node)??t,d=Yl(c,l),f=Z4(d)?d.canActivateChild(r,n):go(l,()=>d(r,n));return ga(f).pipe(ua())});return ct(a).pipe(Xl())}));return ct(s).pipe(Xl())}function uL(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ct(!0);let o=s.map(a=>{let c=gh(e)??i,l=Yl(a,c),d=eL(l)?l.canDeactivate(n,e,t,r):go(c,()=>l(n,e,t,r));return ga(d).pipe(ua())});return ct(o).pipe(Xl())}function dL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ct(!0);let s=i.map(o=>{let a=Yl(o,n),c=Q4(a)?a.canLoad(e,t):go(n,()=>a(e,t));return ga(c)});return ct(s).pipe(Xl(),RS(r))}function RS(n){return U_($n(e=>{if(typeof e!="boolean")throw _m(n,e)}),xt(e=>e===!0))}function hL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ct(!0);let s=i.map(o=>{let a=Yl(o,n),c=tL(a)?a.canMatch(e,t):go(n,()=>a(e,t));return ga(c)});return ct(s).pipe(Xl(),RS(r))}var fh=class{constructor(e){this.segmentGroup=e||null}},ph=class extends Error{constructor(e){super(),this.urlTree=e}};function Wl(n){return Od(new fh(n))}function fL(n){return Od(new vn(4e3,!1))}function pL(n){return Od(IS(!1,Ei.GuardRejected))}var Uv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ct(r);if(i.numberOfChildren>1||!i.children[vt])return fL(`${e.redirectTo}`);i=i.children[vt]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:p,params:_,data:C,title:w}=i,T=go(s,()=>a({params:_,data:C,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:p,title:w}));if(T instanceof xo)throw new ph(T);t=T}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ph(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new xo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new $t(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new vn(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},jv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mL(n,e,t,r,i){let s=Xv(n,e,t);return s.matched?(r=V4(e,r),hL(r,e,t,i).pipe(xt(o=>o===!0?s:Ae({},jv)))):ct(s)}function Xv(n,e,t){if(e.path==="**")return gL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Ae({},jv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||h4)(t,n,e);if(!i)return Ae({},jv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?Ae(Ae({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function gL(n){return{matched:!0,parameters:n.length>0?uS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oS(n,e,t,r){return t.length>0&&yL(n,t,r)?{segmentGroup:new $t(e,vL(r,new $t(t,n.children))),slicedSegments:[]}:t.length===0&&wL(n,t,r)?{segmentGroup:new $t(n.segments,_L(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new $t(n.segments,n.children),slicedSegments:t}}function _L(n,e,t,r){let i={};for(let s of t)if(wm(n,e,s)&&!r[ls(s)]){let o=new $t([],{});i[ls(s)]=o}return Ae(Ae({},r),i)}function vL(n,e){let t={};t[vt]=e;for(let r of n)if(r.path===""&&ls(r)!==vt){let i=new $t([],{});t[ls(r)]=i}return t}function yL(n,e,t){return t.some(r=>wm(n,e,r)&&ls(r)!==vt)}function wL(n,e,t){return t.some(r=>wm(n,e,r))}function wm(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function xL(n,e,t,r){return ls(n)!==r&&(r===vt||!wm(e,t,n))?!1:Xv(e,n,t).matched}function bL(n,e,t){return e.length===0&&!n.children[t]}var Wv=class{};function EL(n,e,t,r,i,s,o="emptyOnly"){return new zv(n,e,t,r,i,o,s).recognize()}var CL=31,zv=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Uv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new vn(4002,`'${e.segmentGroup}'`)}recognize(){let e=oS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xt(({children:t,rootSnapshot:r})=>{let i=new bi(r,t),s=new gm("",i),o=D4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new $l([],Object.freeze({}),Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),vt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,vt,t).pipe(xt(r=>({children:r,rootSnapshot:t})),kl(r=>{if(r instanceof ph)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fh?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(xt(o=>o instanceof bi?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ai(s).pipe(Nd(o=>{let a=r.children[o],c=B4(t,o);return this.processSegmentGroup(e,c,a,o,i)}),K_((o,a)=>(o.push(...a),o)),q_(null),oT(),Ni(o=>{if(o===null)return Wl(r);let a=DS(o);return TL(a),ct(a)}))}processSegment(e,t,r,i,s,o,a){return ai(t).pipe(Nd(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(kl(l=>{if(l instanceof fh)return ct(null);throw l}))),ua(c=>!!c),kl(c=>{if(kS(c))return bL(r,i,s)?ct(new Wv):Wl(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return xL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Wl(i):Wl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=Xv(t,i,s);if(!c)return Wl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CL&&(this.allowRedirects=!1));let _=new $l(s,l,Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,aS(i),ls(i),i.component??i._loadedComponent??null,i,cS(i)),C=mm(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let w=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,_,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ni(T=>this.processSegment(e,r,t,T.concat(p),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=mL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ci(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ci(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:_}=c,C=new $l(p,f,Object.freeze(Ae({},this.urlTree.queryParams)),this.urlTree.fragment,aS(r),ls(r),r.component??r._loadedComponent??null,r,cS(r)),w=mm(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(w.params),C.data=Object.freeze(w.data);let{segmentGroup:T,slicedSegments:K}=oS(t,p,_,l);if(K.length===0&&T.hasChildren())return this.processChildren(d,l,T,C).pipe(xt(Y=>new bi(C,Y)));if(l.length===0&&K.length===0)return ct(new bi(C,[]));let X=ls(r)===s;return this.processSegment(d,l,T,K,X?vt:s,!0,C).pipe(xt(Y=>new bi(C,Y instanceof bi?[Y]:[])))}))):Wl(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):dL(e,t,r,this.urlSerializer).pipe(Ni(i=>i?this.configLoader.loadChildren(e,t).pipe($n(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):pL(t))):ct({routes:[],injector:e})}};function TL(n){n.sort((e,t)=>e.value.outlet===vt?-1:t.value.outlet===vt?1:e.value.outlet.localeCompare(t.value.outlet))}function SL(n){let e=n.value.routeConfig;return e&&e.path===""}function DS(n){let e=[],t=new Set;for(let r of n){if(!SL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=DS(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!t.has(r))}function aS(n){return n.data||{}}function cS(n){return n.resolve||{}}function IL(n,e,t,r,i,s){return Ni(o=>EL(n,e,t,r,o.extractedUrl,i,s).pipe(xt(({state:a,tree:c})=>Vt(Ae({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function AL(n,e){return Ni(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of PS(c))o.add(l);let a=0;return ai(o).pipe(Nd(c=>s.has(c)?kL(c,r,n,e):(c.data=mm(c,c.parent,n).resolve,ct(void 0))),$n(()=>a++),G_(1),Ni(c=>a===o.size?ct(t):aa))})}function PS(n){let e=n.children.map(t=>PS(t)).flat();return[n,...e]}function kL(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!TS(i)&&(s[mh]=i.title),RL(s,n,e,r).pipe(xt(o=>(n._resolvedData=o,n.data=mm(n,n.parent,t).resolve,null)))}function RL(n,e,t,r){let i=yv(n);if(i.length===0)return ct({});let s={};return ai(i).pipe(Ni(o=>DL(n[o],e,t,r).pipe(ua(),$n(a=>{if(a instanceof hh)throw _m(new oh,a);s[o]=a}))),G_(1),sT(s),kl(o=>kS(o)?aa:Od(o)))}function DL(n,e,t,r){let i=gh(e)??r,s=Yl(n,i),o=s.resolve?s.resolve(e,t):go(i,()=>s(e,t));return ga(o)}function _v(n){return ci(e=>{let t=n(e);return t?ai(t).pipe(xt(()=>e)):ct(e)})}var OS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===vt);return i}getResolvedTitleForRoute(r){return r.data[mh]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:()=>qe(PL),providedIn:"root"});let n=e;return n})(),PL=(()=>{let e=class e extends OS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(be(tS))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Yv=new et("",{providedIn:"root",factory:()=>({})}),OL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tt({type:e,selectors:[["ng-component"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(i,s){i&1&&pe(0,"router-outlet")},dependencies:[Gv],encapsulation:2});let n=e;return n})();function Qv(n){let e=n.children&&n.children.map(Qv),t=e?Vt(Ae({},n),{children:e}):Ae({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vt&&(t.component=OL),t}var Jv=new et(""),ML=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=qe(iv)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ct(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ga(r.loadComponent()).pipe(xt(MS),$n(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Hp(()=>{this.componentLoaders.delete(r)})),s=new Up(i,()=>new dt).pipe(j_());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=FL(i,this.compiler,r,this.onLoadEndListener).pipe(Hp(()=>{this.childrenLoaders.delete(i)})),a=new Up(o,()=>new dt).pipe(j_());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function FL(n,e,t,r){return ga(n.loadChildren()).pipe(xt(MS),Ni(i=>i instanceof vT||Array.isArray(i)?ct(i):ai(e.compileModuleAsync(i))),xt(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Jv,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qv),injector:s}}))}function NL(n){return n&&typeof n=="object"&&"default"in n}function MS(n){return NL(n)?n.default:n}var Zv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:()=>qe(LL),providedIn:"root"});let n=e;return n})(),LL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),VL=new et("");var BL=new et(""),UL=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=qe(ML),this.environmentInjector=qe(Dl),this.urlSerializer=qe($v),this.rootContexts=qe(ym),this.location=qe(Bl),this.inputBindingEnabled=qe(Kv,{optional:!0})!==null,this.titleStrategy=qe(OS),this.options=qe(Yv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=qe(Zv),this.createViewTransition=qe(VL,{optional:!0}),this.navigationErrorHandler=qe(BL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ct(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Av(s)),i=s=>this.events.next(new kv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Vt(Ae(Ae({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new vi({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ih,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ar(o=>o.id!==0),xt(o=>Vt(Ae({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ci(o=>{let a=!1,c=!1;return ct(o).pipe(ci(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ei.SupersededByNewNavigation),aa;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Vt(Ae({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let p="";return this.events.next(new fc(l.id,this.urlSerializer.serialize(l.rawUrl),p,Ev.IgnoredSameUrlNavigation)),l.resolve(!1),aa}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ct(l).pipe(ci(p=>{let _=this.transitions?.getValue();return this.events.next(new ch(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?aa:Promise.resolve(p)}),IL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$n(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Vt(Ae({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new hm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:_,source:C,restoredState:w,extras:T}=l,K=new ch(p,this.urlSerializer.serialize(_),C,w);this.events.next(K);let X=ES(this.rootComponentType).snapshot;return this.currentTransition=o=Vt(Ae({},l),{targetSnapshot:X,urlAfterRedirects:_,extras:Vt(Ae({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ct(o)}else{let p="";return this.events.next(new fc(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Ev.IgnoredByUrlHandlingStrategy)),l.resolve(!1),aa}}),$n(l=>{let d=new Cv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),xt(l=>(this.currentTransition=o=Vt(Ae({},l),{guards:q4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),rL(this.environmentInjector,l=>this.events.next(l)),$n(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw _m(this.urlSerializer,l.guardsResult);let d=new Tv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),ar(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ei.GuardRejected),!1)),_v(l=>{if(l.guards.canActivateChecks.length)return ct(l).pipe($n(d=>{let f=new Sv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ci(d=>{let f=!1;return ct(d).pipe(AL(this.paramsInheritanceStrategy,this.environmentInjector),$n({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Ei.NoDataFromResolver)}}))}),$n(d=>{let f=new Iv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),_v(l=>{let d=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe($n(_=>{f.component=_}),xt(()=>{})));for(let _ of f.children)p.push(...d(_));return p};return Md(d(l.targetSnapshot.root)).pipe(q_(null),Ps(1))}),_v(()=>this.afterPreactivation()),ci(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?ai(f).pipe(xt(()=>o)):ct(o)}),xt(l=>{let d=j4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Vt(Ae({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),$n(()=>{this.events.next(new uh)}),$4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ps(1),$n({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ma(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Hn(this.transitionAbortSubject.pipe($n(l=>{throw l}))),Hp(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Ei.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),kl(l=>{if(c=!0,AS(l))this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),H4(l)?this.events.next(new Kl(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new lh(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=go(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof hh){let{message:p,cancellationCode:_}=_m(this.urlSerializer,f);this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),p,_)),this.events.next(new Kl(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let p=r.errorHandler(l);o.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return aa}))}))}cancelNavigationTransition(r,i,s){let o=new wo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function jL(n){return n!==ih}var WL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:()=>qe(zL),providedIn:"root"});let n=e;return n})(),Hv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},zL=(()=>{let e=class e extends Hv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),FS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:()=>qe(HL),providedIn:"root"});let n=e;return n})(),HL=(()=>{let e=class e extends FS{constructor(){super(...arguments),this.location=qe(Bl),this.urlSerializer=qe($v),this.options=qe(Yv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=qe(Zv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ES(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ch)this.stateMemento=this.createStateMemento();else if(r instanceof fc)this.rawUrlTree=i.initialUrl;else if(r instanceof hm){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof uh?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof wo&&(r.code===Ei.GuardRejected||r.code===Ei.NoDataFromResolver)?this.restoreHistory(i):r instanceof lh?this.restoreHistory(i,!0):r instanceof ma&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof xo?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=Ae(Ae({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=Ae(Ae({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),nh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(nh||{});function $L(n,e){n.events.pipe(ar(t=>t instanceof ma||t instanceof wo||t instanceof lh||t instanceof fc),xt(t=>t instanceof ma||t instanceof fc?nh.COMPLETE:(t instanceof wo?t.code===Ei.Redirect||t.code===Ei.SupersededByNewNavigation:!1)?nh.REDIRECTING:nh.FAILED),ar(t=>t!==nh.REDIRECTING),Ps(1)).subscribe(()=>{e()})}function qL(n){throw n}var GL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=qe(Jp),this.stateManager=qe(FS),this.options=qe(Yv,{optional:!0})||{},this.pendingTasks=qe(dT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=qe(UL),this.urlSerializer=qe($v),this.location=qe(Bl),this.urlHandlingStrategy=qe(Zv),this._events=new dt,this.errorHandler=this.options.errorHandler||qL,this.navigated=!1,this.routeReuseStrategy=qe(WL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=qe(Jv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!qe(Kv,{optional:!0}),this.eventsSubscription=new si,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wo&&i.code!==Ei.Redirect&&i.code!==Ei.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ma)this.navigated=!0;else if(i instanceof Kl){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=Ae({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jL(s.source)},a);this.scheduleNavigation(c,ih,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}YL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ih,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=Ae({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Qv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=Ae(Ae({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let _=s?s.snapshot:this.routerState.snapshot.root;p=yS(_)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),p=this.currentUrlTree.root}return wS(p,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=hc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ih,null,i)}navigate(r,i={skipLocationChange:!1}){return XL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=Ae({},GL):i===!1?s=Ae({},KL):s=i,hc(r))return nS(this.currentUrlTree,r,s);let o=this.parseUrl(r);return nS(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((p,_)=>{c=p,l=_});let f=this.pendingTasks.add();return $L(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function XL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new vn(4008,!1)}function YL(n){return!(n instanceof uh)&&!(n instanceof Kl)}var xm=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof ma&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hc(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:mT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:hc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(de(Cr),de(pc),Bd("tabindex"),de(Wd),de(tn),de(ov))},e.\u0275dir=Ft({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ge("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&xi("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Cn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Cn],replaceUrl:[2,"replaceUrl","replaceUrl",Cn],routerLink:"routerLink"},standalone:!0,features:[os,wi]});let n=e;return n})();var QL=new et("");function NS(n,...e){return yi([{provide:Jv,multi:!0,useValue:n},[],{provide:pc,useFactory:JL,deps:[Cr]},{provide:kT,multi:!0,useFactory:ZL},e.map(t=>t.\u0275providers)])}function JL(n){return n.routerState.root}function ZL(){let n=qe(cr);return e=>{let t=n.get(qd);if(e!==t.components[0])return;let r=n.get(Cr),i=n.get(e3);n.get(t3)===1&&r.initialNavigation(),n.get(n3,null,Q_.Optional)?.setUpPreloading(),n.get(QL,null,Q_.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var e3=new et("",{factory:()=>new dt}),t3=new et("",{providedIn:"root",factory:()=>1});var n3=new et("");var ty={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var Me=function(n,e){if(!n)throw _c(e)},_c=function(n){return new Error("Firebase Database ("+ty.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var VS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},r3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Em={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,p=(a&15)<<2|l>>6,_=l&63;c||(_=64,o||(p=64)),r.push(t[d],t[f],t[p],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):r3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new ny;let p=s<<2|a>>4;if(r.push(p),l!==64){let _=a<<4&240|l>>2;if(r.push(_),f!==64){let C=l<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ny=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iy=function(n){let e=VS(n);return Em.encodeByteArray(e,!0)},vh=function(n){return iy(n).replace(/\./g,"")},yh=function(n){try{return Em.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BS(n){return US(void 0,n)}function US(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!i3(t)||(n[t]=US(n[t],e[t]));return n}function i3(n){return n!=="__proto__"}function s3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o3=()=>s3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yh(n[1]);return e&&JSON.parse(e)},Cm=()=>{try{return o3()||a3()||c3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sy=n=>{var e,t;return(t=(e=Cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Jl=n=>{let e=sy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oy=()=>{var n;return(n=Cm())===null||n===void 0?void 0:n.config},ay=n=>{var e;return(e=Cm())===null||e===void 0?void 0:e[`_${n}`]};var gc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zl(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vh(JSON.stringify(t)),vh(JSON.stringify(o)),""].join(".")}function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function l3(){var n;let e=(n=Cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){let n=nr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ms(){return ty.NODE_CLIENT===!0||ty.NODE_ADMIN===!0}function zS(){return!l3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cy(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var u3="FirebaseError",Xr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=u3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bo.prototype.create)}},bo=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?d3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,r)}};function d3(n,e){return n.replace(h3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var h3=/\{\$([^}]+)}/g;function Ql(n){return JSON.parse(n)}function ur(n){return JSON.stringify(n)}var $S=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=Ql(yh(s[0])||""),t=Ql(yh(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var qS=function(n){let e=$S(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},GS=function(n){let e=$S(n).claims;return typeof e=="object"&&e.admin===!0};function Fs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function xh(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bh(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function yc(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(LS(s)&&LS(o)){if(!yc(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function LS(n){return n!==null&&typeof n=="object"}function wc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tu(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var bm=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)r[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){let p=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,d;for(let f=0;f<80;f++){f<40?f<20?(l=a^s&(o^a),d=1518500249):(l=s^o^a,d=1859775393):f<60?(l=s&o|a&(s|o),d=2400959708):(l=s^o^a,d=3395469782);let p=(i<<5|i>>>27)+l+c+d+r[f]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function KS(n,e){let t=new ry(n,e);return t.subscribe.bind(t)}var ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ey),i.error===void 0&&(i.error=ey),i.complete===void 0&&(i.complete=ey);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function f3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ey(){}function XS(n,e){return`${n} failed: ${e} argument `}var YS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,Me(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Eh=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var Une=4*60*60*1e3;function Kt(n){return n&&n._delegate?n._delegate:n}var Nr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xc="[DEFAULT]";var Sm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new gc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m3(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return q(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p3(n){return n===xc?void 0:n}function m3(n){return n.instantiationMode==="EAGER"}var Ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Sm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var g3=[],Et=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Et||{}),_3={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},v3=Et.INFO,y3={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},w3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=y3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ns=class{constructor(e){this.name=e,this._logLevel=v3,this._logHandler=w3,this._userLogHandler=null,g3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}};var x3=(n,e)=>e.some(t=>n instanceof t),QS,JS;function b3(){return QS||(QS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E3(){return JS||(JS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZS=new WeakMap,uy=new WeakMap,eI=new WeakMap,ly=new WeakMap,hy=new WeakMap;function C3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ls(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ZS.set(t,n)}).catch(()=>{}),hy.set(e,n),e}function T3(n){if(uy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uy.set(n,e)}var dy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tI(n){dy=n(dy)}function S3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Im(this),e,...t);return eI.set(r,e.sort?e.sort():[e]),Ls(r)}:E3().includes(n)?function(...e){return n.apply(Im(this),e),Ls(ZS.get(this))}:function(...e){return Ls(n.apply(Im(this),e))}}function I3(n){return typeof n=="function"?S3(n):(n instanceof IDBTransaction&&T3(n),x3(n,b3())?new Proxy(n,dy):n)}function Ls(n){if(n instanceof IDBRequest)return C3(n);if(ly.has(n))return ly.get(n);let e=I3(n);return e!==n&&(ly.set(n,e),hy.set(e,n)),e}var Im=n=>hy.get(n);function rI(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ls(o.result),c.oldVersion,c.newVersion,Ls(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var A3=["get","getKey","getAll","getAllKeys","count"],k3=["put","add","delete","clear"],fy=new Map;function nI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=k3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A3.includes(t)))return;let s=function(o,...a){return q(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return fy.set(e,s),s}tI(n=>Vt(Ae({},n),{get:(e,t,r)=>nI(e,t)||n.get(e,t,r),has:(e,t)=>!!nI(e,t)||n.has(e,t)}));var my=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(R3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function R3(n){let e=n.getComponent();return e?.type==="VERSION"}var gy="@firebase/app",iI="0.10.7";var bc=new Ns("@firebase/app"),D3="@firebase/app-compat",P3="@firebase/analytics-compat",O3="@firebase/analytics",M3="@firebase/app-check-compat",F3="@firebase/app-check",N3="@firebase/auth",L3="@firebase/auth-compat",V3="@firebase/database",B3="@firebase/database-compat",U3="@firebase/functions",j3="@firebase/functions-compat",W3="@firebase/installations",z3="@firebase/installations-compat",H3="@firebase/messaging",$3="@firebase/messaging-compat",q3="@firebase/performance",G3="@firebase/performance-compat",K3="@firebase/remote-config",X3="@firebase/remote-config-compat",Y3="@firebase/storage",Q3="@firebase/storage-compat",J3="@firebase/firestore",Z3="@firebase/vertexai-preview",eV="@firebase/firestore-compat",tV="firebase",nV="10.12.4";var _y="[DEFAULT]",rV={[gy]:"fire-core",[D3]:"fire-core-compat",[O3]:"fire-analytics",[P3]:"fire-analytics-compat",[F3]:"fire-app-check",[M3]:"fire-app-check-compat",[N3]:"fire-auth",[L3]:"fire-auth-compat",[V3]:"fire-rtdb",[B3]:"fire-rtdb-compat",[U3]:"fire-fn",[j3]:"fire-fn-compat",[W3]:"fire-iid",[z3]:"fire-iid-compat",[H3]:"fire-fcm",[$3]:"fire-fcm-compat",[q3]:"fire-perf",[G3]:"fire-perf-compat",[K3]:"fire-rc",[X3]:"fire-rc-compat",[Y3]:"fire-gcs",[Q3]:"fire-gcs-compat",[J3]:"fire-fst",[eV]:"fire-fst-compat",[Z3]:"fire-vertex","fire-js":"fire-js",[tV]:"fire-js-all"};var Th=new Map,iV=new Map,vy=new Map;function sI(n,e){try{n.container.addComponent(e)}catch(t){bc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ji(n){let e=n.name;if(vy.has(e))return bc.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,n);for(let t of Th.values())sI(t,n);for(let t of iV.values())sI(t,n);return!0}function Eo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function us(n){return n.settings!==void 0}var sV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new bo("app","Firebase",sV);var yy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}};var Wi=nV;function by(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _a.create("bad-app-name",{appName:String(i)});if(t||(t=oy()),!t)throw _a.create("no-options");let s=Th.get(i);if(s){if(yc(t,s.options)&&yc(r,s.config))return s;throw _a.create("duplicate-app",{appName:i})}let o=new Ch(i);for(let c of vy.values())o.addComponent(c);let a=new yy(t,r,o);return Th.set(i,a),a}function Vs(n=_y){let e=Th.get(n);if(!e&&n===_y&&oy())return by();if(!e)throw _a.create("no-app",{appName:n});return e}function Am(){return Array.from(Th.values())}function nn(n,e,t){var r;let i=(r=rV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bc.warn(a.join(" "));return}ji(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oV="firebase-heartbeat-database",aV=1,Sh="firebase-heartbeat-store",py=null;function lI(){return py||(py=rI(oV,aV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw _a.create("idb-open",{originalErrorMessage:n.message})})),py}function cV(n){return q(this,null,function*(){try{let t=(yield lI()).transaction(Sh),r=yield t.objectStore(Sh).get(uI(n));return yield t.done,r}catch(e){if(e instanceof Xr)bc.warn(e.message);else{let t=_a.create("idb-get",{originalErrorMessage:e?.message});bc.warn(t.message)}}})}function oI(n,e){return q(this,null,function*(){try{let r=(yield lI()).transaction(Sh,"readwrite");yield r.objectStore(Sh).put(e,uI(n)),yield r.done}catch(t){if(t instanceof Xr)bc.warn(t.message);else{let r=_a.create("idb-set",{originalErrorMessage:t?.message});bc.warn(r.message)}}})}function uI(n){return`${n.name}!${n.options.appId}`}var lV=1024,uV=30*24*60*60*1e3,wy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new xy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return q(this,null,function*(){var e,t;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=uV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return q(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=aI(),{heartbeatsToSend:r,unsentEntries:i}=dV(this._heartbeatsCache.heartbeats),s=vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function aI(){return new Date().toISOString().substring(0,10)}function dV(n,e=lV){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cI(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var xy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return q(this,null,function*(){return cy()?HS().then(()=>!0).catch(()=>!1):!1})}read(){return q(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield cV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return q(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return q(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cI(n){return vh(JSON.stringify({version:2,heartbeats:n})).length}function hV(n){ji(new Nr("platform-logger",e=>new my(e),"PRIVATE")),ji(new Nr("heartbeat",e=>new wy(e),"PRIVATE")),nn(gy,iI,n),nn(gy,iI,"esm2017"),nn("fire-js","")}hV("");var fV="firebase",pV="10.12.4";nn(fV,pV,"app");var Bs=new Ll("ANGULARFIRE2_VERSION");function Cc(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var va=(n,e)=>{let t=e?[e]:Am(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Co=class{constructor(){return va(mV)}},mV="app-check";function nu(){}var km=class{zone;delegate;constructor(e,t=tT){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Ey=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nu,{},nu,nu)),t.pipe($n({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},To=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new km(Zone.current)),this.insideAngular=t.run(()=>new km(Zone.current,eT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(be(st))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rm(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function gV(n){return Rm().ngZone.runOutsideAngular(()=>n())}function Ec(n){return Rm().ngZone.run(()=>n())}function _V(n){return vV(Rm())(n)}function vV(n){return function(t){return t=t.lift(new Ey(n.ngZone)),t.pipe(H_(n.outsideAngular),z_(n.insideAngular))}}var yV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ec(()=>n.apply(void 0,r))},xn=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ec(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nu,{},nu,nu))),r[s]=yV(r[s],t));let i=gV(()=>n.apply(this,r));if(!e)if(i instanceof oi){let s=Rm();return i.pipe(H_(s.outsideAngular),z_(s.insideAngular))}else return Ec(()=>i);return i instanceof oi?i.pipe(_V):i instanceof Promise?Ec(()=>new Promise((s,o)=>i.then(a=>Ec(()=>s(a)),a=>Ec(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ec(()=>i)};var ds=class{constructor(e){return e}},So=class{constructor(){return Am()}};function wV(n){return n&&n.length===1?n[0]:new ds(Vs())}var Cy=new et("angularfire2._apps"),xV={provide:ds,useFactory:wV,deps:[[new tr,Cy]]},bV={provide:So,deps:[[new tr,Cy]]};function EV(n){return(e,t)=>{let r=t.get(_o);nn("angularfire",Bs.full,"core"),nn("angularfire",Bs.full,"app"),nn("angular",AT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ds(i)}}function dI(n,...e){return yi([xV,bV,{provide:Cy,useFactory:EV(n),multi:!0,deps:[st,cr,To,...e]}])}var hI=xn(by,!0);function kI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RI=kI,DI=new bo("auth","Firebase",kI());var Nm=new Ns("@firebase/auth");function CV(n,...e){Nm.logLevel<=Et.WARN&&Nm.warn(`Auth (${Wi}): ${n}`,...e)}function Pm(n,...e){Nm.logLevel<=Et.ERROR&&Nm.error(`Auth (${Wi}): ${n}`,...e)}function js(n,...e){throw Gy(n,...e)}function Tc(n,...e){return Gy(n,...e)}function PI(n,e,t){let r=Object.assign(Object.assign({},RI()),{[e]:t});return new bo("auth","Firebase",r).create(e,{appName:n.name})}function ko(n){return PI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DI.create(n,...e)}function rt(n,e,...t){if(!n)throw Gy(e,...t)}function Io(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function wa(n,e){n||Io(e)}function Ay(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TV(){return fI()==="http:"||fI()==="https:"}function fI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function SV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||jS()||"connection"in navigator)?navigator.onLine:!0}function IV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Sc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wa(t>e,"Short delay should be less than long delay!"),this.isMobile=wh()||Tm()}get(){return SV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ky(n,e){wa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Lm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var AV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kV=new Sc(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Do(s,o,a,c){return q(this,arguments,function*(n,e,t,r,i={}){return OI(n,i,()=>q(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=wc(Object.assign({key:n.config.apiKey},d)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),Lm.fetch()(MI(n,n.config.apiHost,t,f),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},l))}))})}function OI(n,e,t){return q(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},AV),e);try{let i=new ky(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Dm(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dm(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Dm(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Dm(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PI(n,d,l);js(n,d)}}catch(i){if(i instanceof Xr)throw i;js(n,"network-request-failed",{message:String(i)})}})}function Mh(s,o,a,c){return q(this,arguments,function*(n,e,t,r,i={}){let l=yield Do(n,e,t,r,i);return"mfaPendingCredential"in l&&js(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function MI(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ky(n.config,i):`${n.config.apiScheme}://${i}`}function RV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ky=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tc(this.auth,"network-request-failed")),kV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Tc(n,e,r);return i.customData._tokenResponse=t,i}function pI(n){return n!==void 0&&n.enterprise!==void 0}var Ry=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function DV(n,e){return q(this,null,function*(){return Do(n,"GET","/v2/recaptchaConfig",Ro(n,e))})}function PV(n,e){return q(this,null,function*(){return Do(n,"POST","/v1/accounts:delete",e)})}function FI(n,e){return q(this,null,function*(){return Do(n,"POST","/v1/accounts:lookup",e)})}function Ih(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xy(n,e=!1){return q(this,null,function*(){let t=Kt(n),r=yield t.getIdToken(e),i=Yy(r);rt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ih(Ty(i.auth_time)),issuedAtTime:Ih(Ty(i.iat)),expirationTime:Ih(Ty(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ty(n){return Number(n)*1e3}function Yy(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{let i=yh(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mI(n){let e=Yy(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function kh(n,e,t=!1){return q(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Xr&&OV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function OV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Dy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>q(this,null,function*(){yield this.iteration()}),t)}iteration(){return q(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Rh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ih(this.lastLoginAt),this.creationTime=Ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vm(n){return q(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield kh(n,FI(t,{idToken:r}));rt(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NI(s.providerUserInfo):[],a=MV(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,d=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Qy(n){return q(this,null,function*(){let e=Kt(n);yield Vm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NI(n){return n.map(e=>{var{providerId:t}=e,r=W_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FV(n,e){return q(this,null,function*(){let t=yield OI(n,{},()=>q(this,null,function*(){let r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=MI(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lm.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function NV(n,e){return q(this,null,function*(){return Do(n,"POST","/v2/accounts:revokeToken",Ro(n,e))})}var Ah=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");let t=mI(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return q(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return q(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield FV(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(rt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(rt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Io("not implemented")}};function ya(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ru=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=W_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rh(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return q(this,null,function*(){let t=yield kh(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Xy(this,e)}reload(){return Qy(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return q(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Vm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return q(this,null,function*(){if(us(this.auth.app))return Promise.reject(ko(this.auth));let e=yield this.getIdToken();return yield kh(this,PV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,K=(l=t.createdAt)!==null&&l!==void 0?l:void 0,X=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Y,emailVerified:ee,isAnonymous:me,providerData:we,stsTokenManager:D}=t;rt(Y&&D,e,"internal-error");let A=Ah.fromJSON(this.name,D);rt(typeof Y=="string",e,"internal-error"),ya(f,e.name),ya(p,e.name),rt(typeof ee=="boolean",e,"internal-error"),rt(typeof me=="boolean",e,"internal-error"),ya(_,e.name),ya(C,e.name),ya(w,e.name),ya(T,e.name),ya(K,e.name),ya(X,e.name);let k=new n({uid:Y,auth:e,email:p,emailVerified:ee,displayName:f,isAnonymous:me,photoURL:C,phoneNumber:_,tenantId:w,stsTokenManager:A,createdAt:K,lastLoginAt:X});return we&&Array.isArray(we)&&(k.providerData=we.map(F=>Object.assign({},F))),T&&(k._redirectEventId=T),k}static _fromIdTokenResponse(e,t,r=!1){return q(this,null,function*(){let i=new Ah;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vm(s),s})}static _fromGetAccountInfoResponse(e,t,r){return q(this,null,function*(){let i=t.users[0];rt(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?NI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ah;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var gI=new Map;function Ao(n){wa(n instanceof Function,"Expected a class definition");let e=gI.get(n);return e?(wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gI.set(n,e),e)}var LV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return q(this,null,function*(){return!0})}_set(t,r){return q(this,null,function*(){this.storage[t]=r})}_get(t){return q(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return q(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Py=LV;function Om(n,e,t){return`firebase:${n}:${e}:${t}`}var Bm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Om(this.userKey,i.apiKey,s),this.fullPersistenceKey=Om("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return q(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ru._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return q(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return q(this,null,function*(){if(!t.length)return new n(Ao(Py),e,r);let i=(yield Promise.all(t.map(l=>q(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Ao(Py),o=Om(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(o);if(d){let f=ru._fromJSON(e,d);l!==s&&(a=f),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>q(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function _I(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jI(e))return"Blackberry";if(WI(e))return"Webos";if(Jy(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if(UI(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function LI(n=nr()){return/firefox\//i.test(n)}function Jy(n=nr()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(n=nr()){return/crios\//i.test(n)}function BI(n=nr()){return/iemobile/i.test(n)}function UI(n=nr()){return/android/i.test(n)}function jI(n=nr()){return/blackberry/i.test(n)}function WI(n=nr()){return/webos/i.test(n)}function Gm(n=nr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VV(n=nr()){var e;return Gm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BV(){return WS()&&document.documentMode===10}function zI(n=nr()){return Gm(n)||UI(n)||WI(n)||jI(n)||/windows phone/i.test(n)||BI(n)}function UV(){try{return!!(window&&window!==window.top)}catch{return!1}}function HI(n,e=[]){let t;switch(n){case"Browser":t=_I(nr());break;case"Worker":t=`${_I(nr())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wi}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return q(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jV(t){return q(this,arguments,function*(n,e={}){return Do(n,"GET","/v2/passwordPolicy",Ro(n,e))})}var WV=6,My=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:WV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Fy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Um(this),this.idTokenSubscription=new Um(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ao(t)),this._initializationPromise=this.queue(()=>q(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Bm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return q(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return q(this,null,function*(){try{let t=yield FI(this,{idToken:e}),r=yield ru._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return q(this,null,function*(){var t;if(us(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return q(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return q(this,null,function*(){try{yield Vm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IV()}_delete(){return q(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return q(this,null,function*(){if(us(this.app))return Promise.reject(ko(this));let t=e?Kt(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return q(this,null,function*(){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>q(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return q(this,null,function*(){return us(this.app)?Promise.reject(ko(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return us(this.app)?Promise.reject(ko(this)):this.queue(()=>q(this,null,function*(){yield this.assertedPersistence.setPersistence(Ao(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return q(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return q(this,null,function*(){let e=yield jV(this),t=new My(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return q(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return q(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return q(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ao(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=yield Bm.create(this,[Ao(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return q(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>q(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return q(this,null,function*(){if(e===this.currentUser)return this.queue(()=>q(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return q(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return q(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return q(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&CV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ac(n){return Kt(n)}var Um=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Km={loadJS(){return q(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zV(n){Km=n}function $I(n){return Km.loadJS(n)}function HV(){return Km.recaptchaEnterpriseScript}function $V(){return Km.gapiScript}function qI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var qV="recaptcha-enterprise",GV="NO_RECAPTCHA",Ny=class{constructor(e){this.type=qV,this.auth=Ac(e)}verify(e="verify",t=!1){return q(this,null,function*(){function r(s){return q(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>q(this,null,function*(){DV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ry(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;pI(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(GV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&pI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=HV();c.length!==0&&(c+=a),$I(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function vI(n,e,t,r=!1){return q(this,null,function*(){let i=new Ny(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ly(n,e,t,r){return q(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield vI(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>q(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield vI(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Zy(n,e){let t=Eo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(yc(s,e??{}))return i;js(i,"already-initialized")}return t.initialize({options:e})}function KV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ao);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function e1(n,e,t){let r=Ac(n);rt(r._canInitEmulator,r,"emulator-config-failed"),rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=GI(e),{host:o,port:a}=XV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||YV()}function GI(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XV(n){let e=GI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:yI(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:yI(o)}}}function yI(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function YV(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Dh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,t){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}};function QV(n,e){return q(this,null,function*(){return Do(n,"POST","/v1/accounts:signUp",e)})}function JV(n,e){return q(this,null,function*(){return Mh(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))})}function ZV(n,e){return q(this,null,function*(){return Do(n,"POST","/v1/accounts:sendOobCode",Ro(n,e))})}function e5(n,e){return q(this,null,function*(){return ZV(n,e)})}function t5(n,e){return q(this,null,function*(){return Mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))})}function n5(n,e){return q(this,null,function*(){return Mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))})}var Ph=class n extends Dh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return q(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ly(e,t,"signInWithPassword",JV);case"emailLink":return t5(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}})}_linkToIdToken(e,t){return q(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ly(e,r,"signUpPassword",QV);case"emailLink":return n5(e,{idToken:t,email:this._email,oobCode:this._password});default:js(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sy(n,e){return q(this,null,function*(){return Mh(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))})}function r5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i5(n){let e=eu(tu(n)).link,t=e?eu(tu(e)).deep_link_id:null,r=eu(tu(n)).deep_link_id;return(r?eu(tu(r)).link:null)||r||t||e||n}var jm=class n{constructor(e){var t,r,i,s,o,a;let c=eu(tu(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=r5((i=c.mode)!==null&&i!==void 0?i:null);rt(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=i5(e);try{return new n(t)}catch{return null}}};var KI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ph._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=jm.parseLink(r);return rt(i,"argument-error"),Ph._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Wm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vy=class extends Wm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function s5(n,e){return q(this,null,function*(){return Mh(n,"POST","/v1/accounts:signUp",Ro(n,e))})}var iu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return q(this,null,function*(){let s=yield ru._fromIdTokenResponse(e,r,i),o=wI(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return q(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wI(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function wI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var By=class n extends Xr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function XI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?By._fromErrorAndOperation(n,s,e,r):s})}function o5(n,e,t=!1){return q(this,null,function*(){let r=yield kh(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return iu._forOperation(n,"link",r)})}function a5(n,e,t=!1){return q(this,null,function*(){let{auth:r}=n;if(us(r.app))return Promise.reject(ko(r));let i="reauthenticate";try{let s=yield kh(n,XI(r,i,e,n),t);rt(s.idToken,r,"internal-error");let o=Yy(s.idToken);rt(o,r,"internal-error");let{sub:a}=o;return rt(n.uid===a,r,"user-mismatch"),iu._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&js(r,"user-mismatch"),s}})}function YI(n,e,t=!1){return q(this,null,function*(){if(us(n.app))return Promise.reject(ko(n));let r="signIn",i=yield XI(n,r,e),s=yield iu._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function t1(n,e){return q(this,null,function*(){return YI(Ac(n),e)})}function c5(n,e,t){var r;rt(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),rt(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(rt(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(rt(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function QI(n){return q(this,null,function*(){let e=Ac(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function n1(n,e,t){return q(this,null,function*(){if(us(n.app))return Promise.reject(ko(n));let r=Ac(n),o=yield Ly(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QI(n),c}),a=yield iu._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function r1(n,e,t){return us(n.app)?Promise.reject(ko(n)):t1(Kt(n),KI.credential(e,t)).catch(r=>q(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QI(n),r}))}function Xm(n,e){return q(this,null,function*(){let t=Kt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&c5(t.auth,i,e);let{email:s}=yield e5(t.auth,i);s!==n.email&&(yield n.reload())})}function i1(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}function s1(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}function o1(n){return Kt(n).signOut()}var zm="__sak";var Hm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function l5(){let n=nr();return Jy(n)||Gm(n)}var u5=1e3,d5=10,h5=(()=>{class n extends Hm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=l5()&&UV(),this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);BV()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,d5):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return q(this,null,function*(){yield oa(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return q(this,null,function*(){let r=yield oa(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return q(this,null,function*(){yield oa(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),JI=h5;var f5=(()=>{class n extends Hm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),a1=f5;function p5(n){return Promise.all(n.map(e=>q(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var m5=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return q(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>q(this,null,function*(){return d(r.origin,o)})),l=yield p5(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ZI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Uy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return q(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=ZI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let p=f;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Us(){return window}function g5(n){Us().location.href=n}function e2(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}function _5(){return q(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function v5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function y5(){return e2()?self:null}var t2="firebaseLocalStorageDb",w5=1,$m="firebaseLocalStorage",n2="fbase_key",Ic=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ym(n,e){return n.transaction([$m],e?"readwrite":"readonly").objectStore($m)}function x5(){let n=indexedDB.deleteDatabase(t2);return new Ic(n).toPromise()}function jy(){let n=indexedDB.open(t2,w5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore($m,{keyPath:n2})}catch(i){t(i)}}),n.addEventListener("success",()=>q(this,null,function*(){let r=n.result;r.objectStoreNames.contains($m)?e(r):(r.close(),yield x5(),e(yield jy()))}))})}function xI(n,e,t){return q(this,null,function*(){let r=Ym(n,!0).put({[n2]:e,value:t});return new Ic(r).toPromise()})}function b5(n,e){return q(this,null,function*(){let t=Ym(n,!1).get(e),r=yield new Ic(t).toPromise();return r===void 0?null:r.value})}function bI(n,e){let t=Ym(n,!0).delete(e);return new Ic(t).toPromise()}var E5=800,C5=3,T5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return q(this,null,function*(){return this.db?this.db:(this.db=yield jy(),this.db)})}_withRetries(t){return q(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>C5)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return q(this,null,function*(){return e2()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return q(this,null,function*(){this.receiver=m5._getInstance(y5()),this.receiver._subscribe("keyChanged",(t,r)=>q(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>q(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return q(this,null,function*(){var t,r;if(this.activeServiceWorker=yield _5(),!this.activeServiceWorker)return;this.sender=new Uy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return q(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||v5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return q(this,null,function*(){try{if(!indexedDB)return!1;let t=yield jy();return yield xI(t,zm,"1"),yield bI(t,zm),!0}catch{}return!1})}_withPendingWrite(t){return q(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return q(this,null,function*(){return this._withPendingWrite(()=>q(this,null,function*(){return yield this._withRetries(i=>xI(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return q(this,null,function*(){let r=yield this._withRetries(i=>b5(i,t));return this.localCache[t]=r,r})}_remove(t){return q(this,null,function*(){return this._withPendingWrite(()=>q(this,null,function*(){return yield this._withRetries(r=>bI(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return q(this,null,function*(){let t=yield this._withRetries(s=>{let o=Ym(s,!1).getAll();return new Ic(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>q(this,null,function*(){return this._poll()}),E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),r2=T5;var Ore=qI("rcb"),Mre=new Sc(3e4,6e4);function S5(n,e){return e?Ao(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Oh=class extends Dh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function I5(n){return YI(n.auth,new Oh(n),n.bypassAuthState)}function A5(n){let{auth:e,user:t}=n;return rt(t,e,"internal-error"),a5(t,new Oh(n),n.bypassAuthState)}function k5(n){return q(this,null,function*(){let{auth:e,user:t}=n;return rt(t,e,"internal-error"),o5(t,new Oh(n),n.bypassAuthState)})}var Wy=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>q(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return q(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I5;case"linkViaPopup":case"linkViaRedirect":return k5;case"reauthViaPopup":case"reauthViaRedirect":return A5;default:js(this.auth,"internal-error")}}resolve(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Fre=new Sc(2e3,1e4);var R5="pendingRedirect",Mm=new Map,zy=class n extends Wy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return q(this,null,function*(){let e=Mm.get(this.auth._key());if(!e){try{let r=(yield D5(this.resolver,this.auth))?yield oa(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Mm.set(this.auth._key(),e)}return this.bypassAuthState||Mm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return q(this,null,function*(){if(e.type==="signInViaRedirect")return oa(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,oa(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return q(this,null,function*(){})}cleanUp(){}};function D5(n,e){return q(this,null,function*(){let t=M5(e),r=O5(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function P5(n,e){Mm.set(n._key(),e)}function O5(n){return Ao(n._redirectPersistence)}function M5(n){return Om(R5,n.config.apiKey,n.name)}function F5(n,e,t=!1){return q(this,null,function*(){if(us(n.app))return Promise.reject(ko(n));let r=Ac(n),i=S5(r,e),o=yield new zy(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var N5=10*60*1e3,Hy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!i2(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N5&&this.cachedEventUids.clear(),this.cachedEventUids.has(EI(e))}saveEventToCache(e){this.cachedEventUids.add(EI(e)),this.lastProcessedEventTime=Date.now()}};function EI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function i2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function L5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i2(n);default:return!1}}function V5(t){return q(this,arguments,function*(n,e={}){return Do(n,"GET","/v1/projects",e)})}var B5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U5=/^https?/;function j5(n){return q(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield V5(n);for(let t of e)try{if(W5(t))return}catch{}js(n,"unauthorized-domain")})}function W5(n){let e=Ay(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!U5.test(t))return!1;if(B5.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var z5=new Sc(3e4,6e4);function CI(){let n=Us().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function H5(n){return new Promise((e,t)=>{var r,i,s;function o(){CI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CI(),t(Tc(n,"network-request-failed"))},timeout:z5.get()})}if(!((i=(r=Us().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Us().gapi)===null||s===void 0)&&s.load)o();else{let a=qI("iframefcb");return Us()[a]=()=>{gapi.load?o():t(Tc(n,"network-request-failed"))},$I(`${$V()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Fm=null,e})}var Fm=null;function $5(n){return Fm=Fm||H5(n),Fm}var q5=new Sc(5e3,15e3),G5="__/auth/iframe",K5="emulator/auth/iframe",X5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q5(n){let e=n.config;rt(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ky(e,K5):`https://${n.config.authDomain}/${G5}`,r={apiKey:e.apiKey,appName:n.name,v:Wi},i=Y5.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${wc(r).slice(1)}`}function J5(n){return q(this,null,function*(){let e=yield $5(n),t=Us().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:Q5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X5,dontclear:!0},r=>new Promise((i,s)=>q(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Tc(n,"network-request-failed"),a=Us().setTimeout(()=>{s(o)},q5.get());function c(){Us().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Z5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eB=500,tB=600,nB="_blank",rB="http://localhost",qm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iB(n,e,t,r=eB,i=tB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Z5),{width:r.toString(),height:i.toString(),top:s,left:o}),l=nr().toLowerCase();t&&(a=VI(l)?nB:t),LI(l)&&(e=e||rB,c.scrollbars="yes");let d=Object.entries(c).reduce((p,[_,C])=>`${p}${_}=${C},`,"");if(VV(l)&&a!=="_self")return sB(e||"",a),new qm(null);let f=window.open(e||"",a,d);rt(f,n,"popup-blocked");try{f.focus()}catch{}return new qm(f)}function sB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var oB="__/auth/handler",aB="emulator/auth/handler",cB=encodeURIComponent("fac");function TI(n,e,t,r,i,s){return q(this,null,function*(){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wi,eventId:i};if(e instanceof Wm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",xh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Vy){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${cB}=${encodeURIComponent(c)}`:"";return`${lB(n)}?${wc(a).slice(1)}${l}`})}function lB({config:n}){return n.emulator?Ky(n,aB):`https://${n.authDomain}/${oB}`}var Iy="webStorageSupport",$y=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=F5,this._overrideRedirectResult=P5}_openPopup(e,t,r,i){return q(this,null,function*(){var s;wa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield TI(e,t,r,Ay(),i);return iB(e,o,ZI())})}_openRedirect(e,t,r,i){return q(this,null,function*(){yield this._originValidation(e);let s=yield TI(e,t,r,Ay(),i);return g5(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(wa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return q(this,null,function*(){let t=yield J5(e),r=new Hy(e);return t.register("authEvent",i=>(rt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Iy,{type:Iy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Iy];o!==void 0&&t(!!o),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zI()||Jy()||Gm()}},s2=$y;var SI="@firebase/auth",II="1.7.5";var qy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return q(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dB(n){ji(new Nr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HI(n)},l=new Fy(r,i,s,c);return KV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ji(new Nr("auth-internal",e=>{let t=Ac(e.getProvider("auth").getImmediate());return(r=>new qy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(SI,II,uB(n)),nn(SI,II,"esm2017")}var hB=5*60,fB=ay("authIdTokenMaxAge")||hB,AI=null,pB=n=>e=>q(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fB)return;let i=t?.token;AI!==i&&(AI=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function c1(n=Vs()){let e=Eo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Zy(n,{popupRedirectResolver:s2,persistence:[r2,JI,a1]}),r=ay("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=pB(s.toString());s1(t,o,()=>o(t.currentUser)),i1(t,a=>o(a))}}let i=sy("auth");return i&&e1(t,`http://${i}`),t}function mB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Tc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",mB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dB("Browser");var o2="auth",kc=class{constructor(e){return e}},Rc=class{constructor(){return va(o2)}};var l1=new et("angularfire2.auth-instances");function i6(n,e){let t=Cc(o2,n,e);return t&&new kc(t)}function s6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new kc(r)}}var o6={provide:Rc,deps:[[new tr,l1]]},a6={provide:kc,useFactory:i6,deps:[[new tr,l1],ds]};function a2(n,...e){return nn("angularfire",Bs.full,"auth"),yi([a6,o6,{provide:l1,useFactory:s6(n),multi:!0,deps:[st,cr,To,So,[new tr,Co],...e]}])}var c2=xn(n1,!0);var l2=xn(c1,!0);var u2=xn(r1,!0);var d2=xn(o1,!0);var Ws=(()=>{class n{auth;router;constructor(t,r){this.auth=t,this.router=r}user="";login(t,r){return q(this,null,function*(){try{let i=yield u2(this.auth,t,r);return this.user=i,i.user.emailVerified?(alert("Login Exitoso"),this.router.navigate(["/perfil"]),i):(alert("email no chequeado"),this.router.navigate(["/login"]),null)}catch{return null}})}logout(){return q(this,null,function*(){return d2(this.auth)})}register(t,r){return q(this,null,function*(){try{let i=yield c2(this.auth,t,r);return Xm(i.user).then(()=>{alert("Registration successful! Please check your email for verification."),this.router.navigate(["/login"]),this.user=i}),i}catch{return null}})}isAuth(){return this.user}static \u0275fac=function(r){return new(r||n)(be(kc),be(Cr))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w2=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(de(Wd),de(tn))},e.\u0275dir=Ft({type:e});let n=e;return n})(),x2=(()=>{let e=class e extends w2{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275dir=Ft({type:e,features:[Vi]});let n=e;return n})(),o0=new et("");var l6={provide:o0,useExisting:oc(()=>li),multi:!0};function u6(){let n=Vl()?Vl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var d6=new et(""),li=(()=>{let e=class e extends w2{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!u6())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(de(Wd),de(tn),de(d6,8))},e.\u0275dir=Ft({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ge("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Kr([l6]),Vi]});let n=e;return n})();function xa(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function b2(n){return n!=null&&typeof n.length=="number"}var a0=new et(""),c0=new et(""),h6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ve=class{static min(e){return f6(e)}static max(e){return p6(e)}static required(e){return m6(e)}static requiredTrue(e){return g6(e)}static email(e){return _6(e)}static minLength(e){return v6(e)}static maxLength(e){return y6(e)}static pattern(e){return w6(e)}static nullValidator(e){return E2(e)}static compose(e){return k2(e)}static composeAsync(e){return R2(e)}};function f6(n){return e=>{if(xa(e.value)||xa(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function p6(n){return e=>{if(xa(e.value)||xa(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function m6(n){return xa(n.value)?{required:!0}:null}function g6(n){return n.value===!0?null:{required:!0}}function _6(n){return xa(n.value)||h6.test(n.value)?null:{email:!0}}function v6(n){return e=>xa(e.value)||!b2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function y6(n){return e=>b2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function w6(n){if(!n)return E2;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xa(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function E2(n){return null}function C2(n){return n!=null}function T2(n){return Zp(n)?ai(n):n}function S2(n){let e={};return n.forEach(t=>{e=t!=null?Ae(Ae({},e),t):e}),Object.keys(e).length===0?null:e}function I2(n,e){return e.map(t=>t(n))}function x6(n){return!n.validate}function A2(n){return n.map(e=>x6(e)?e:t=>e.validate(t))}function k2(n){if(!n)return null;let e=n.filter(C2);return e.length==0?null:function(t){return S2(I2(t,e))}}function m1(n){return n!=null?k2(A2(n)):null}function R2(n){if(!n)return null;let e=n.filter(C2);return e.length==0?null:function(t){let r=I2(t,e).map(T2);return rT(r).pipe(xt(S2))}}function g1(n){return n!=null?R2(A2(n)):null}function h2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function D2(n){return n._rawValidators}function P2(n){return n._rawAsyncValidators}function u1(n){return n?Array.isArray(n)?n:[n]:[]}function Zm(n,e){return Array.isArray(n)?n.includes(e):n===e}function f2(n,e){let t=u1(e);return u1(n).forEach(i=>{Zm(t,i)||t.push(i)}),t}function p2(n,e){return u1(e).filter(t=>!Zm(n,t))}var e0=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=m1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Po=class extends e0{get formDirective(){return null}get path(){return null}},Oo=class extends e0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},t0=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},b6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Lie=Vt(Ae({},b6),{"[class.ng-submitted]":"isSubmitted"}),ui=(()=>{let e=class e extends t0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Oo,2))},e.\u0275dir=Ft({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&xr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vi]});let n=e;return n})(),Ea=(()=>{let e=class e extends t0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Po,10))},e.\u0275dir=Ft({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&xr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Vi]});let n=e;return n})();var Fh="VALID",Jm="INVALID",su="PENDING",Nh="DISABLED",ba=class{},n0=class extends ba{constructor(e,t){super(),this.value=e,this.source=t}},Vh=class extends ba{constructor(e,t){super(),this.pristine=e,this.source=t}},Bh=class extends ba{constructor(e,t){super(),this.touched=e,this.source=t}},ou=class extends ba{constructor(e,t){super(),this.status=e,this.source=t}},d1=class extends ba{constructor(e){super(),this.source=e}},h1=class extends ba{constructor(e){super(),this.source=e}};function _1(n){return(l0(n)?n.validators:n)||null}function E6(n){return Array.isArray(n)?m1(n):n||null}function v1(n,e){return(l0(e)?e.asyncValidators:n)||null}function C6(n){return Array.isArray(n)?g1(n):n||null}function l0(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function O2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new vn(1e3,"");if(!r[t])throw new vn(1001,"")}function M2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new vn(1002,"")})}var au=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=yo(()=>this.statusReactive()),this.statusReactive=Ml(void 0),this._pristine=yo(()=>this.pristineReactive()),this.pristineReactive=Ml(!0),this._touched=yo(()=>this.touchedReactive()),this.touchedReactive=Ml(!1),this._events=new dt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cs(this.statusReactive)}set status(e){cs(()=>this.statusReactive.set(e))}get valid(){return this.status===Fh}get invalid(){return this.status===Jm}get pending(){return this.status==su}get disabled(){return this.status===Nh}get enabled(){return this.status!==Nh}get pristine(){return cs(this.pristineReactive)}set pristine(e){cs(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return cs(this.touchedReactive)}set touched(e){cs(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p2(e,this._rawAsyncValidators))}hasValidator(e){return Zm(this._rawValidators,e)}hasAsyncValidator(e){return Zm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Vt(Ae({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Bh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Bh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Vt(Ae({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vh(!0,r))}markAsPending(e={}){this.status=su;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ou(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Vt(Ae({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nh,this.errors=null,this._forEachChild(i=>{i.disable(Vt(Ae({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new n0(this.value,r)),this._events.next(new ou(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Vt(Ae({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Fh,this._forEachChild(r=>{r.enable(Vt(Ae({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Vt(Ae({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fh||this.status===su)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new n0(this.value,t)),this._events.next(new ou(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Vt(Ae({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nh:Fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=su,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=T2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ou(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?Nh:this.errors?Jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(su)?su:this._anyControlsHaveStatus(Jm)?Jm:Fh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Vh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Bh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){l0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=E6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=C6(this._rawAsyncValidators)}},cu=class extends au{constructor(e,t,r){super(_1(t),v1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){M2(this,!0,e),Object.keys(e).forEach(r=>{O2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var f1=class extends cu{};var jh=new et("CallSetDisabledState",{providedIn:"root",factory:()=>u0}),u0="always";function F2(n,e){return[...e.path,n]}function r0(n,e,t=u0){y1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),S6(n,e),A6(n,e),I6(n,e),T6(n,e)}function m2(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),s0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function i0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function T6(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function y1(n,e){let t=D2(n);e.validator!==null?n.setValidators(h2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=P2(n);e.asyncValidator!==null?n.setAsyncValidators(h2(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();i0(e._rawValidators,i),i0(e._rawAsyncValidators,i)}function s0(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=D2(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=P2(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return i0(e._rawValidators,r),i0(e._rawAsyncValidators,r),t}function S6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&N2(n,e)})}function I6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&N2(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function N2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function A6(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function L2(n,e){n==null,y1(n,e)}function k6(n,e){return s0(n,e)}function V2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function R6(n){return Object.getPrototypeOf(n.constructor)===x2}function B2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function U2(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===li?t=s:R6(s)?r=s:i=s}),i||r||t||null}function D6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var P6={provide:Po,useExisting:oc(()=>w1)},Lh=Promise.resolve(),w1=(()=>{let e=class e extends Po{get submitted(){return cs(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=yo(()=>this.submittedReactive()),this.submittedReactive=Ml(!1),this._directives=new Set,this.ngSubmit=new bt,this.form=new cu({},m1(r),g1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Lh.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),r0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Lh.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Lh.then(()=>{let i=this._findContainer(r.path),s=new cu({});L2(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Lh.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Lh.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),B2(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(de(a0,10),de(c0,10),de(jh,8))},e.\u0275dir=Ft({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ge("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kr([P6]),Vi]});let n=e;return n})();function g2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function _2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Uh=class extends au{constructor(e=null,t,r){super(_1(t),v1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),l0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(_2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){g2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){g2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O6=n=>n instanceof Uh;var M6={provide:Oo,useExisting:oc(()=>Dc)},v2=Promise.resolve(),Dc=(()=>{let e=class e extends Oo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Uh,this._registered=!1,this.name="",this.update=new bt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=U2(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),V2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){r0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){v2.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Cn(i);v2.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?F2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(de(Po,9),de(a0,10),de(c0,10),de(o0,10),de(Bi,8),de(jh,8))},e.\u0275dir=Ft({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kr([M6]),Vi,wi]});let n=e;return n})(),Ca=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),F6={provide:o0,useExisting:oc(()=>Pc),multi:!0},Pc=(()=>{let e=class e extends x2{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275dir=Ft({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ge("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Kr([F6]),Vi]});let n=e;return n})();var j2=new et("");var N6={provide:Po,useExisting:oc(()=>hs)},hs=(()=>{let e=class e extends Po{get submitted(){return cs(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=yo(()=>this._submittedReactive()),this._submittedReactive=Ml(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return r0(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){m2(r.control||null,r,!1),D6(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),B2(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new d1(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new h1(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(m2(i||null,r),O6(s)&&(r0(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);L2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&k6(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){y1(this.form,this),this._oldForm&&s0(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(de(a0,10),de(c0,10),de(jh,8))},e.\u0275dir=Ft({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ge("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kr([N6]),Vi,wi]});let n=e;return n})();var L6={provide:Oo,useExisting:oc(()=>Mo)},Mo=(()=>{let e=class e extends Oo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new bt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=U2(this,o)}ngOnChanges(r){this._added||this._setUpControl(),V2(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return F2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(de(Po,13),de(a0,10),de(c0,10),de(o0,10),de(j2,8))},e.\u0275dir=Ft({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kr([L6]),Vi,wi]});let n=e;return n})();var W2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({});let n=e;return n})(),p1=class extends au{constructor(e,t,r){super(_1(t),v1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){M2(this,!1,e),e.forEach((r,i)=>{O2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function y2(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ta=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return y2(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new cu(s,o)}record(r,i=null){let s=this._reduceControls(r);return new f1(s,i)}control(r,i,s){let o={};return this.useNonNullable?(y2(i)?o=i:(o.validators=i,o.asyncValidators=s),new Uh(r,Vt(Ae({},o),{nonNullable:!0}))):new Uh(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new p1(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Uh)return r;if(r instanceof au)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Dt=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:jh,useValue:r.callSetDisabledState??u0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[W2]});let n=e;return n})(),zi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:j2,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:jh,useValue:r.callSetDisabledState??u0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[W2]});let n=e;return n})();function V6(n,e){n&1&&(y(0,"div")(1,"a",13)(2,"button",14),O(3,"Iniciar Sesi\xF3n"),v()()())}function B6(n,e){if(n&1&&(y(0,"div",9)(1,"li",10)(2,"a",11),O(3,"Home"),v()(),y(4,"li",10)(5,"a",12),O(6,"Registro"),v()(),se(7,V6,4,0,"div",8),v()),n&2){let t=G();S(7),W("ngIf",!t.usuario)}}function U6(n,e){n&1&&(y(0,"div",9)(1,"li",10)(2,"a",15),O(3,"Mi Perfil"),v()(),y(4,"li",10)(5,"a",16),O(6,"Usuarios"),v()(),y(7,"li",10)(8,"a",17),O(9,"Registrar Usuarios"),v()(),y(10,"li",10)(11,"a",18),O(12,"Estadisticas"),v()()())}function j6(n,e){n&1&&(y(0,"div",9)(1,"li",10)(2,"a",15),O(3,"Mi Perfil"),v()(),y(4,"li",10)(5,"a",19),O(6,"Mis turnos"),v()(),y(7,"li",10)(8,"a",20),O(9,"Solicitar turno"),v()()())}function W6(n,e){n&1&&(y(0,"div",9)(1,"li",10)(2,"a",15),O(3,"Mi Perfil"),v()(),y(4,"li",10)(5,"a",19),O(6,"Mis turnos"),v()(),y(7,"li",10)(8,"a",16),O(9,"Usuarios"),v()()())}function z6(n,e){if(n&1){let t=Fe();y(0,"div",22)(1,"button",23),O(2),v(),y(3,"ul",24)(4,"li",25)(5,"button",26),ge("click",function(){le(t);let i=G(2);return ue(i.loguot())}),O(6,"Cerrar Sesi\xF3n"),v()()()()}if(n&2){let t=G(2);S(2),on(" ",t.usuario.email," ")}}function H6(n,e){if(n&1&&(xT(0),se(1,z6,7,1,"div",21),bT()),n&2){let t=G();S(),W("ngIf",t.usuario)}}var dr=(()=>{class n{router;auth;items=[];usuario=null;showButtons=!1;loadingEvent=new bt;userEvent=new bt;constructor(t,r){this.router=t,this.auth=r}ngOnInit(){}loguot(){this.loadingEvent.emit(!0),setTimeout(()=>{this.auth.logout().then(t=>{this.usuario=null,this.userEvent.emit(null),this.loadingEvent.emit(!1),this.router.navigate(["/bienvenida"]),localStorage.clear()}).catch(t=>{})},1e3)}static \u0275fac=function(r){return new(r||n)(de(Cr),de(Ws))};static \u0275cmp=tt({type:n,selectors:[["app-cabecera"]],inputs:{items:"items",usuario:"usuario",showButtons:"showButtons"},outputs:{loadingEvent:"loadingEvent",userEvent:"userEvent"},standalone:!0,features:[nt],decls:14,vars:5,consts:[[1,"navbar","fixed-top"],[1,"container-fluid"],[2,"text-align","center"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],["class","dropdown",4,"ngIf"],[4,"ngIf"],[1,"dropdown"],[1,"nav-item","dropdown"],["routerLink","/bienvenida",1,"dropdown-item"],["routerLink","/registro",1,"dropdown-item"],["routerLink","/login"],[1,"btn","btn-primary"],["routerLink","/login/mi-perfil",1,"dropdown-item"],["routerLink","/login/seccion-usuarios",1,"dropdown-item"],["routerLink","/login/dashboard",1,"dropdown-item"],["routerLink","/login/estadisticas",1,"dropdown-item"],["routerLink","/login/mis-turnos",1,"dropdown-item"],["routerLink","/login/solicitar-turno",1,"dropdown-item"],["class","dropdown-center",4,"ngIf"],[1,"dropdown-center"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","dropdown-toggle","text-light"],[1,"dropdown-menu","w-100"],[1,"p-2"],[1,"btn","text-light","w-100","bg-danger",3,"click"]],template:function(r,i){r&1&&(y(0,"nav",0)(1,"div",1)(2,"div")(3,"h2",2),O(4," Clinica Buena Salud"),v()(),pe(5,"a",3),y(6,"button",4),pe(7,"span",5),v(),y(8,"div",6),se(9,B6,8,1,"div",7)(10,U6,13,0,"div",7)(11,j6,10,0,"div",7)(12,W6,10,0,"div",7)(13,H6,2,1,"ng-container",8),v()()()),r&2&&(S(9),W("ngIf",i.usuario===null),S(),W("ngIf",(i.usuario==null?null:i.usuario.tipo)==="admin"),S(),W("ngIf",(i.usuario==null?null:i.usuario.tipo)==="paciente"),S(),W("ngIf",(i.usuario==null?null:i.usuario.tipo)==="especialista"),S(),W("ngIf",i.showButtons))},dependencies:[_t,ln,Dt],styles:['nav[_ngcontent-%COMP%]{background-image:url("./media/cabecera-5JSPQBZJ.png");z-index:9999;height:80px}nav[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.navbar-brand, .navbar-toggler-icon)[_ngcontent-%COMP%]{color:#49a22b!important}.navbar-toggler[_ngcontent-%COMP%]{color:#49a22b!important;background-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#fff!important;background-color:#fff}li[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{color:#49a22b;font-size:1.5rem;margin:15px}.btn[_ngcontent-%COMP%]{margin:15px;text-decoration:none;background-color:#49a22b;border:1px solid #49a22b}.btn[_ngcontent-%COMP%]:hover{background-color:#377721}.dropdown-menu[_ngcontent-%COMP%]{background-color:#136199;color:#fff}.dropdown-item[_ngcontent-%COMP%]{color:#49a22b;padding-left:20px}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#004373}']})}return n})();var x1=(()=>{class n{imagen1="./../../../assets/imagenes/login.png";loading=!0;user=null;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-bienvenido"]],standalone:!0,features:[nt],decls:22,vars:0,consts:[[1,"fondo"],[1,"container"],[1,"row"],[1,"col-lg-6","text-center"],["alt","Generic placeholder image","height","235","src","./../../../assets/imagenes/login.png","width","243",1,"rounded-circle"],["href","#","role","button","routerLink","/login",1,"btn","btn-primary","btn-lg"],["alt","Generic placeholder image","height","235","src","./../../../assets/imagenes/registro.jpg","width","243",1,"rounded-circle"],["href","#","role","button","routerLink","/registro",1,"btn","btn-primary","btn-lg"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0)(2,"main",1)(3,"div",2)(4,"div",3),pe(5,"img",4),y(6,"h2"),O(7,"Iniciar Sesi\xF3n"),v(),y(8,"p"),O(9,"Para poder comenzar con las gestiones, deber\xE1 ingresar con su usuario y contrase\xF1a."),v(),y(10,"p")(11,"a",5),O(12,"Ingresar"),v()()(),y(13,"div",3),pe(14,"img",6),y(15,"h2"),O(16,"Registrarse"),v(),y(17,"p"),O(18,"En caso de no contar con un usuario creado, podr\xE1 generarlo aqu\xED"),v(),y(19,"p")(20,"a",7),O(21,"Registrarse"),v()()()()()())},dependencies:[dr,_t,xm],styles:['.row[_ngcontent-%COMP%]{width:100vw}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.fondo[_ngcontent-%COMP%]{background:url("./media/slider-bg-2-7UI2L5W4.jpg");background-size:cover;height:100%;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{text-align:center}.marketing[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400}.fondo[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10.75rem;margin-left:-7.25rem}p[_ngcontent-%COMP%]{text-align:center;color:#00096b;font-size:20px}h2[_ngcontent-%COMP%]{color:#27c82a;text-align:left}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}main[_ngcontent-%COMP%]{margin-left:25%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}'],data:{animation:[]}})}return n})();var z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H2={};var Ia,b1;(function(){var n;function e(D,A){function k(){}k.prototype=A.prototype,D.D=A.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(F,V,z){for(var B=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)B[Ge-2]=arguments[Ge];return A.prototype[V].apply(F,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,k){k||(k=0);var F=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)F[V]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(V=0;16>V;++V)F[V]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=D.g[0],k=D.g[1],V=D.g[2];var z=D.g[3],B=A+(z^k&(V^z))+F[0]+3614090360&4294967295;A=k+(B<<7&4294967295|B>>>25),B=z+(V^A&(k^V))+F[1]+3905402710&4294967295,z=A+(B<<12&4294967295|B>>>20),B=V+(k^z&(A^k))+F[2]+606105819&4294967295,V=z+(B<<17&4294967295|B>>>15),B=k+(A^V&(z^A))+F[3]+3250441966&4294967295,k=V+(B<<22&4294967295|B>>>10),B=A+(z^k&(V^z))+F[4]+4118548399&4294967295,A=k+(B<<7&4294967295|B>>>25),B=z+(V^A&(k^V))+F[5]+1200080426&4294967295,z=A+(B<<12&4294967295|B>>>20),B=V+(k^z&(A^k))+F[6]+2821735955&4294967295,V=z+(B<<17&4294967295|B>>>15),B=k+(A^V&(z^A))+F[7]+4249261313&4294967295,k=V+(B<<22&4294967295|B>>>10),B=A+(z^k&(V^z))+F[8]+1770035416&4294967295,A=k+(B<<7&4294967295|B>>>25),B=z+(V^A&(k^V))+F[9]+2336552879&4294967295,z=A+(B<<12&4294967295|B>>>20),B=V+(k^z&(A^k))+F[10]+4294925233&4294967295,V=z+(B<<17&4294967295|B>>>15),B=k+(A^V&(z^A))+F[11]+2304563134&4294967295,k=V+(B<<22&4294967295|B>>>10),B=A+(z^k&(V^z))+F[12]+1804603682&4294967295,A=k+(B<<7&4294967295|B>>>25),B=z+(V^A&(k^V))+F[13]+4254626195&4294967295,z=A+(B<<12&4294967295|B>>>20),B=V+(k^z&(A^k))+F[14]+2792965006&4294967295,V=z+(B<<17&4294967295|B>>>15),B=k+(A^V&(z^A))+F[15]+1236535329&4294967295,k=V+(B<<22&4294967295|B>>>10),B=A+(V^z&(k^V))+F[1]+4129170786&4294967295,A=k+(B<<5&4294967295|B>>>27),B=z+(k^V&(A^k))+F[6]+3225465664&4294967295,z=A+(B<<9&4294967295|B>>>23),B=V+(A^k&(z^A))+F[11]+643717713&4294967295,V=z+(B<<14&4294967295|B>>>18),B=k+(z^A&(V^z))+F[0]+3921069994&4294967295,k=V+(B<<20&4294967295|B>>>12),B=A+(V^z&(k^V))+F[5]+3593408605&4294967295,A=k+(B<<5&4294967295|B>>>27),B=z+(k^V&(A^k))+F[10]+38016083&4294967295,z=A+(B<<9&4294967295|B>>>23),B=V+(A^k&(z^A))+F[15]+3634488961&4294967295,V=z+(B<<14&4294967295|B>>>18),B=k+(z^A&(V^z))+F[4]+3889429448&4294967295,k=V+(B<<20&4294967295|B>>>12),B=A+(V^z&(k^V))+F[9]+568446438&4294967295,A=k+(B<<5&4294967295|B>>>27),B=z+(k^V&(A^k))+F[14]+3275163606&4294967295,z=A+(B<<9&4294967295|B>>>23),B=V+(A^k&(z^A))+F[3]+4107603335&4294967295,V=z+(B<<14&4294967295|B>>>18),B=k+(z^A&(V^z))+F[8]+1163531501&4294967295,k=V+(B<<20&4294967295|B>>>12),B=A+(V^z&(k^V))+F[13]+2850285829&4294967295,A=k+(B<<5&4294967295|B>>>27),B=z+(k^V&(A^k))+F[2]+4243563512&4294967295,z=A+(B<<9&4294967295|B>>>23),B=V+(A^k&(z^A))+F[7]+1735328473&4294967295,V=z+(B<<14&4294967295|B>>>18),B=k+(z^A&(V^z))+F[12]+2368359562&4294967295,k=V+(B<<20&4294967295|B>>>12),B=A+(k^V^z)+F[5]+4294588738&4294967295,A=k+(B<<4&4294967295|B>>>28),B=z+(A^k^V)+F[8]+2272392833&4294967295,z=A+(B<<11&4294967295|B>>>21),B=V+(z^A^k)+F[11]+1839030562&4294967295,V=z+(B<<16&4294967295|B>>>16),B=k+(V^z^A)+F[14]+4259657740&4294967295,k=V+(B<<23&4294967295|B>>>9),B=A+(k^V^z)+F[1]+2763975236&4294967295,A=k+(B<<4&4294967295|B>>>28),B=z+(A^k^V)+F[4]+1272893353&4294967295,z=A+(B<<11&4294967295|B>>>21),B=V+(z^A^k)+F[7]+4139469664&4294967295,V=z+(B<<16&4294967295|B>>>16),B=k+(V^z^A)+F[10]+3200236656&4294967295,k=V+(B<<23&4294967295|B>>>9),B=A+(k^V^z)+F[13]+681279174&4294967295,A=k+(B<<4&4294967295|B>>>28),B=z+(A^k^V)+F[0]+3936430074&4294967295,z=A+(B<<11&4294967295|B>>>21),B=V+(z^A^k)+F[3]+3572445317&4294967295,V=z+(B<<16&4294967295|B>>>16),B=k+(V^z^A)+F[6]+76029189&4294967295,k=V+(B<<23&4294967295|B>>>9),B=A+(k^V^z)+F[9]+3654602809&4294967295,A=k+(B<<4&4294967295|B>>>28),B=z+(A^k^V)+F[12]+3873151461&4294967295,z=A+(B<<11&4294967295|B>>>21),B=V+(z^A^k)+F[15]+530742520&4294967295,V=z+(B<<16&4294967295|B>>>16),B=k+(V^z^A)+F[2]+3299628645&4294967295,k=V+(B<<23&4294967295|B>>>9),B=A+(V^(k|~z))+F[0]+4096336452&4294967295,A=k+(B<<6&4294967295|B>>>26),B=z+(k^(A|~V))+F[7]+1126891415&4294967295,z=A+(B<<10&4294967295|B>>>22),B=V+(A^(z|~k))+F[14]+2878612391&4294967295,V=z+(B<<15&4294967295|B>>>17),B=k+(z^(V|~A))+F[5]+4237533241&4294967295,k=V+(B<<21&4294967295|B>>>11),B=A+(V^(k|~z))+F[12]+1700485571&4294967295,A=k+(B<<6&4294967295|B>>>26),B=z+(k^(A|~V))+F[3]+2399980690&4294967295,z=A+(B<<10&4294967295|B>>>22),B=V+(A^(z|~k))+F[10]+4293915773&4294967295,V=z+(B<<15&4294967295|B>>>17),B=k+(z^(V|~A))+F[1]+2240044497&4294967295,k=V+(B<<21&4294967295|B>>>11),B=A+(V^(k|~z))+F[8]+1873313359&4294967295,A=k+(B<<6&4294967295|B>>>26),B=z+(k^(A|~V))+F[15]+4264355552&4294967295,z=A+(B<<10&4294967295|B>>>22),B=V+(A^(z|~k))+F[6]+2734768916&4294967295,V=z+(B<<15&4294967295|B>>>17),B=k+(z^(V|~A))+F[13]+1309151649&4294967295,k=V+(B<<21&4294967295|B>>>11),B=A+(V^(k|~z))+F[4]+4149444226&4294967295,A=k+(B<<6&4294967295|B>>>26),B=z+(k^(A|~V))+F[11]+3174756917&4294967295,z=A+(B<<10&4294967295|B>>>22),B=V+(A^(z|~k))+F[2]+718787259&4294967295,V=z+(B<<15&4294967295|B>>>17),B=k+(z^(V|~A))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var k=A-this.blockSize,F=this.B,V=this.h,z=0;z<A;){if(V==0)for(;z<=k;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(F[V++]=D.charCodeAt(z++),V==this.blockSize){i(this,F),V=0;break}}else for(;z<A;)if(F[V++]=D[z++],V==this.blockSize){i(this,F),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var k=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=k&255,k/=256;for(this.u(D),D=Array(16),A=k=0;4>A;++A)for(var F=0;32>F;F+=8)D[k++]=this.g[A]>>>F&255;return D};function s(D,A){var k=a;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=A(D)}function o(D,A){this.h=A;for(var k=[],F=!0,V=D.length-1;0<=V;V--){var z=D[V]|0;F&&z==A||(k[V]=z,F=!1)}this.g=k}var a={};function c(D){return-128<=D&&128>D?s(D,function(A){return new o([A|0],0>A?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return T(l(-D));for(var A=[],k=1,F=0;D>=k;F++)A[F]=D/k|0,k*=4294967296;return new o(A,0)}function d(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return T(d(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=l(Math.pow(A,8)),F=f,V=0;V<D.length;V+=8){var z=Math.min(8,D.length-V),B=parseInt(D.substring(V,V+z),A);8>z?(z=l(Math.pow(A,z)),F=F.j(z).add(l(B))):(F=F.j(k),F=F.add(l(B)))}return F}var f=c(0),p=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(w(this))return-T(this).m();for(var D=0,A=1,k=0;k<this.g.length;k++){var F=this.i(k);D+=(0<=F?F:4294967296+F)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(w(this))return"-"+T(this).toString(D);for(var A=l(Math.pow(D,6)),k=this,F="";;){var V=ee(k,A).g;k=K(k,V.j(A));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=V,C(k))return z+F;for(;6>z.length;)z="0"+z;F=z+F}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=K(this,D),w(D)?-1:C(D)?0:1};function T(D){for(var A=D.g.length,k=[],F=0;F<A;F++)k[F]=~D.g[F];return new o(k,~D.h).add(p)}n.abs=function(){return w(this)?T(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],F=0,V=0;V<=A;V++){var z=F+(this.i(V)&65535)+(D.i(V)&65535),B=(z>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);F=B>>>16,z&=65535,B&=65535,k[V]=B<<16|z}return new o(k,k[k.length-1]&-2147483648?-1:0)};function K(D,A){return D.add(T(A))}n.j=function(D){if(C(this)||C(D))return f;if(w(this))return w(D)?T(this).j(T(D)):T(T(this).j(D));if(w(D))return T(this.j(T(D)));if(0>this.l(_)&&0>D.l(_))return l(this.m()*D.m());for(var A=this.g.length+D.g.length,k=[],F=0;F<2*A;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var V=0;V<D.g.length;V++){var z=this.i(F)>>>16,B=this.i(F)&65535,Ge=D.i(V)>>>16,ze=D.i(V)&65535;k[2*F+2*V]+=B*ze,X(k,2*F+2*V),k[2*F+2*V+1]+=z*ze,X(k,2*F+2*V+1),k[2*F+2*V+1]+=B*Ge,X(k,2*F+2*V+1),k[2*F+2*V+2]+=z*Ge,X(k,2*F+2*V+2)}for(F=0;F<A;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=A;F<2*A;F++)k[F]=0;return new o(k,0)};function X(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Y(D,A){this.g=D,this.h=A}function ee(D,A){if(C(A))throw Error("division by zero");if(C(D))return new Y(f,f);if(w(D))return A=ee(T(D),A),new Y(T(A.g),T(A.h));if(w(A))return A=ee(D,T(A)),new Y(T(A.g),A.h);if(30<D.g.length){if(w(D)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var k=p,F=A;0>=F.l(D);)k=me(k),F=me(F);var V=we(k,1),z=we(F,1);for(F=we(F,2),k=we(k,2);!C(F);){var B=z.add(F);0>=B.l(D)&&(V=V.add(k),z=B),F=we(F,1),k=we(k,1)}return A=K(D,V.j(A)),new Y(V,A)}for(V=f;0<=D.l(A);){for(k=Math.max(1,Math.floor(D.m()/A.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),z=l(k),B=z.j(A);w(B)||0<B.l(D);)k-=F,z=l(k),B=z.j(A);C(z)&&(z=p),V=V.add(z),D=K(D,B)}return new Y(V,D)}n.A=function(D){return ee(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],F=0;F<A;F++)k[F]=this.i(F)&D.i(F);return new o(k,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],F=0;F<A;F++)k[F]=this.i(F)|D.i(F);return new o(k,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],F=0;F<A;F++)k[F]=this.i(F)^D.i(F);return new o(k,this.h^D.h)};function me(D){for(var A=D.g.length+1,k=[],F=0;F<A;F++)k[F]=D.i(F)<<1|D.i(F-1)>>>31;return new o(k,D.h)}function we(D,A){var k=A>>5;A%=32;for(var F=D.g.length-k,V=[],z=0;z<F;z++)V[z]=0<A?D.i(z+k)>>>A|D.i(z+k+1)<<32-A:D.i(z+k);return new o(V,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b1=H2.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Ia=H2.Integer=o}).apply(typeof z2<"u"?z2:typeof self<"u"?self:typeof window<"u"?window:{});var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={};var E1,C1,lu,T1,Wh,h0,S1,I1,A1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,x){return u==Array.prototype||u==Object.prototype||(u[g]=x.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof d0=="object"&&d0];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(u,g){if(g)e:{var x=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var Z=u[P];if(!(Z in x))break e;x=x[Z]}u=u[u.length-1],P=x[u],g=g(P),g!=P&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var x=0,P=!1,Z={next:function(){if(!P&&x<u.length){var oe=x++;return{value:g(oe,u[oe]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(u){return u||function(){return s(this,function(g,x){return x})}});var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function l(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,x){return u.call.apply(u.bind,arguments)}function f(u,g,x){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,P),u.apply(g,Z)}}return function(){return u.apply(g,arguments)}}function p(u,g,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function _(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function C(u,g){function x(){}x.prototype=g.prototype,u.aa=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(P,Z,oe){for(var De=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)De[Gt-2]=arguments[Gt];return g.prototype[Z].apply(P,De)}}function w(u){let g=u.length;if(0<g){let x=Array(g);for(let P=0;P<g;P++)x[P]=u[P];return x}return[]}function T(u,g){for(let x=1;x<arguments.length;x++){let P=arguments[x];if(c(P)){let Z=u.length||0,oe=P.length||0;u.length=Z+oe;for(let De=0;De<oe;De++)u[Z+De]=P[De]}else u.push(P)}}class K{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var me=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function we(u,g,x){for(let P in u)g.call(x,u[P],P,u)}function D(u,g){for(let x in u)g.call(void 0,u[x],x,u)}function A(u){let g={};for(let x in u)g[x]=u[x];return g}let k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(u,g){let x,P;for(let Z=1;Z<arguments.length;Z++){P=arguments[Z];for(x in P)u[x]=P[x];for(let oe=0;oe<k.length;oe++)x=k[oe],Object.prototype.hasOwnProperty.call(P,x)&&(u[x]=P[x])}}function V(u){var g=1;u=u.split(":");let x=[];for(;0<g&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function z(u){a.setTimeout(()=>{throw u},0)}function B(){var u=Nn;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ge{constructor(){this.h=this.g=null}add(g,x){let P=ze.get();P.set(g,x),this.h?this.h.next=P:this.g=P,this.h=P}}var ze=new K(()=>new An,u=>u.reset());class An{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let We,kn=!1,Nn=new Ge,bn=()=>{let u=a.Promise.resolve(void 0);We=()=>{u.then(ir)}};var ir=()=>{for(var u;u=B();){try{u.h.call(u.g)}catch(x){z(x)}var g=ze;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}kn=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return u}();function Q(u,g){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(me){e:{try{ee(g.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(g=null)}}else x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Q.aa.h.call(this)}}C(Q,ce);var _e={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Be(u,g,x,P,Z){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!P,this.ha=Z,this.key=++$e,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tt(u){this.src=u,this.g={},this.h=0}Tt.prototype.add=function(u,g,x,P,Z){var oe=u.toString();u=this.g[oe],u||(u=this.g[oe]=[],this.h++);var De=dn(u,g,P,Z);return-1<De?(g=u[De],x||(g.fa=!1)):(g=new Be(g,this.src,oe,!!P,Z),g.fa=x,u.push(g)),g};function lt(u,g){var x=g.type;if(x in u.g){var P=u.g[x],Z=Array.prototype.indexOf.call(P,g,void 0),oe;(oe=0<=Z)&&Array.prototype.splice.call(P,Z,1),oe&&(Ee(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function dn(u,g,x,P){for(var Z=0;Z<u.length;++Z){var oe=u[Z];if(!oe.da&&oe.listener==g&&oe.capture==!!x&&oe.ha==P)return Z}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Jn={};function yt(u,g,x,P,Z){if(P&&P.once)return pt(u,g,x,P,Z);if(Array.isArray(g)){for(var oe=0;oe<g.length;oe++)yt(u,g[oe],x,P,Z);return null}return x=Oi(x),u&&u[Re]?u.K(g,x,l(P)?!!P.capture:!!P,Z):Ne(u,g,x,!1,P,Z)}function Ne(u,g,x,P,Z,oe){if(!g)throw Error("Invalid event type");var De=l(Z)?!!Z.capture:!!Z,Gt=yr(u);if(Gt||(u[ft]=Gt=new Tt(u)),x=Gt.add(g,x,P,De,oe),x.proxy)return x;if(P=en(),x.proxy=P,P.src=u,P.listener=x,u.addEventListener)J||(Z=De),Z===void 0&&(Z=!1),u.addEventListener(g.toString(),P,Z);else if(u.attachEvent)u.attachEvent(Jo(g.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function en(){function u(x){return g.call(u.src,u.listener,x)}let g=io;return u}function pt(u,g,x,P,Z){if(Array.isArray(g)){for(var oe=0;oe<g.length;oe++)pt(u,g[oe],x,P,Z);return null}return x=Oi(x),u&&u[Re]?u.L(g,x,l(P)?!!P.capture:!!P,Z):Ne(u,g,x,!0,P,Z)}function Or(u,g,x,P,Z){if(Array.isArray(g))for(var oe=0;oe<g.length;oe++)Or(u,g[oe],x,P,Z);else P=l(P)?!!P.capture:!!P,x=Oi(x),u&&u[Re]?(u=u.i,g=String(g).toString(),g in u.g&&(oe=u.g[g],x=dn(oe,x,P,Z),-1<x&&(Ee(oe[x]),Array.prototype.splice.call(oe,x,1),oe.length==0&&(delete u.g[g],u.h--)))):u&&(u=yr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=dn(g,x,P,Z)),(x=-1<u?g[u]:null)&&Di(x))}function Di(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Re])lt(g.i,u);else{var x=u.type,P=u.proxy;g.removeEventListener?g.removeEventListener(x,P,u.capture):g.detachEvent?g.detachEvent(Jo(x),P):g.addListener&&g.removeListener&&g.removeListener(P),(x=yr(g))?(lt(x,u),x.h==0&&(x.src=null,g[ft]=null)):Ee(u)}}}function Jo(u){return u in Jn?Jn[u]:Jn[u]="on"+u}function io(u,g){if(u.da)u=!0;else{g=new Q(g,this);var x=u.listener,P=u.ha||u.src;u.fa&&Di(u),u=x.call(P,g)}return u}function yr(u){return u=u[ft],u instanceof Tt?u:null}var Pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oi(u){return typeof u=="function"?u:(u[Pi]||(u[Pi]=function(g){return u.handleEvent(g)}),u[Pi])}function Lt(){R.call(this),this.i=new Tt(this),this.M=this,this.F=null}C(Lt,R),Lt.prototype[Re]=!0,Lt.prototype.removeEventListener=function(u,g,x,P){Or(this,u,g,x,P)};function jt(u,g){var x,P=u.F;if(P)for(x=[];P;P=P.F)x.push(P);if(u=u.M,P=g.type||g,typeof g=="string")g=new ce(g,u);else if(g instanceof ce)g.target=g.target||u;else{var Z=g;g=new ce(P,u),F(g,Z)}if(Z=!0,x)for(var oe=x.length-1;0<=oe;oe--){var De=g.g=x[oe];Z=ti(De,P,!0,g)&&Z}if(De=g.g=u,Z=ti(De,P,!0,g)&&Z,Z=ti(De,P,!1,g)&&Z,x)for(oe=0;oe<x.length;oe++)De=g.g=x[oe],Z=ti(De,P,!1,g)&&Z}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var x=u.g[g],P=0;P<x.length;P++)Ee(x[P]);delete u.g[g],u.h--}}this.F=null},Lt.prototype.K=function(u,g,x,P){return this.i.add(String(u),g,!1,x,P)},Lt.prototype.L=function(u,g,x,P){return this.i.add(String(u),g,!0,x,P)};function ti(u,g,x,P){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Z=!0,oe=0;oe<g.length;++oe){var De=g[oe];if(De&&!De.da&&De.capture==x){var Gt=De.listener,Wn=De.ha||De.src;De.fa&&lt(u.i,De),Z=Gt.call(Wn,P)!==!1&&Z}}return Z&&!P.defaultPrevented}function Ga(u,g,x){if(typeof u=="function")x&&(u=p(u,x));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Mi(u){u.g=Ga(()=>{u.g=null,u.i&&(u.i=!1,Mi(u))},u.l);let g=u.h;u.h=null,u.m.apply(null,g)}class Cs extends R{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Mi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(u){R.call(this),this.h=u,this.g={}}C(Zi,R);var Ts=[];function so(u){we(u.g,function(g,x){this.g.hasOwnProperty(x)&&Di(g)},u),u.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),so(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ka=a.JSON.stringify,Xa=a.JSON.parse,Zo=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function es(){}es.prototype.h=null;function Ya(u){return u.h||(u.h=u.i())}function sr(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ss(){ce.call(this,"d")}C(Ss,ce);function Zn(){ce.call(this,"c")}C(Zn,ce);var ni={},Qa=null;function oo(){return Qa=Qa||new Lt}ni.La="serverreachability";function Ct(u){ce.call(this,ni.La,u)}C(Ct,ce);function or(u){let g=oo();jt(g,new Ct(g))}ni.STAT_EVENT="statevent";function gi(u,g){ce.call(this,ni.STAT_EVENT,u),this.stat=g}C(gi,ce);function hn(u){let g=oo();jt(g,new gi(g,u))}ni.Ma="timingevent";function fn(u,g){ce.call(this,ni.Ma,u),this.size=g}C(fn,ce);function gn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function xl(u,g,x,P,Z,oe){u.info(function(){if(u.g)if(oe)for(var De="",Gt=oe.split("&"),Wn=0;Wn<Gt.length;Wn++){var Rt=Gt[Wn].split("=");if(1<Rt.length){var zn=Rt[0];Rt=Rt[1];var er=zn.split("_");De=2<=er.length&&er[1]=="type"?De+(zn+"="+Rt+"&"):De+(zn+"=redacted&")}}else De=null;else De=oe;return"XMLHTTP REQ ("+P+") [attempt "+Z+"]: "+g+`
`+x+`
`+De})}function I(u,g,x,P,Z,oe,De){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Z+"]: "+g+`
`+x+`
`+oe+" "+De})}function L(u,g,x,P){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+N(u,x)+(P?" "+P:"")})}function M(u,g){u.info(function(){return"TIMEOUT: "+g})}ts.prototype.info=function(){};function N(u,g){if(!u.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var P=x[u];if(!(2>P.length)){var Z=P[1];if(Array.isArray(Z)&&!(1>Z.length)){var oe=Z[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var De=1;De<Z.length;De++)Z[De]=""}}}}return Ka(x)}catch{return g}}var U={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},j={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ne;function he(){}C(he,es),he.prototype.g=function(){return new XMLHttpRequest},he.prototype.i=function(){return{}},ne=new he;function te(u,g,x,P){this.j=u,this.i=g,this.l=x,this.R=P||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new re}function re(){this.i=null,this.g="",this.h=!1}var ie={},xe={};function Ce(u,g,x){u.L=1,u.v=bl(_i(g)),u.m=x,u.P=!0,Ue(u,null)}function Ue(u,g){u.F=Date.now(),Je(u),u.A=_i(u.v);var x=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),wp(x.i,"t",P),u.C=0,x=u.j.J,u.h=new re,u.g=Op(u.j,x?g:null,!u.m),0<u.O&&(u.M=new Cs(p(u.Y,u,u.g),u.O)),g=u.U,x=u.g,P=u.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Ts[0]=Z.toString()),Z=Ts);for(var oe=0;oe<Z.length;oe++){var De=yt(x,Z[oe],P||g.handleEvent,!1,g.h||g);if(!De)break;g.g[De.key]=De}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),or(),xl(u.i,u.u,u.A,u.l,u.R,u.m)}te.prototype.ca=function(u){u=u.target;let g=this.M;g&&Fi(u)==3?g.j():this.Y(u)},te.prototype.Y=function(u){try{if(u==this.g)e:{let er=Fi(this.g);var g=this.g.Ba();let fo=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||Tp(this.g)))){this.J||er!=4||g==7||(g==8||0>=fo?or(3):or(2)),jn(this);var x=this.g.Z();this.X=x;t:if(Te(this)){var P=Tp(this.g);u="";var Z=P.length,oe=Fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),kt(this);var De="";break t}this.h.i=new a.TextDecoder}for(g=0;g<Z;g++)this.h.h=!0,u+=this.h.i.decode(P[g],{stream:!(oe&&g==Z-1)});P.length=0,this.h.g+=u,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=x==200,I(this.i,this.u,this.A,this.l,this.R,er,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,Wn=this.g;if((Gt=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Gt)){var Rt=Gt;break t}}Rt=null}if(x=Rt)L(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,x);else{this.o=!1,this.s=3,hn(12),En(this),kt(this);break e}}if(this.P){x=!0;let qr;for(;!this.J&&this.C<De.length;)if(qr=Pe(this,De),qr==xe){er==4&&(this.s=4,hn(14),x=!1),L(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==ie){this.s=4,hn(15),L(this.i,this.l,De,"[Invalid Chunk]"),x=!1;break}else L(this.i,this.l,qr,null),ns(this,qr);if(Te(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||De.length!=0||this.h.h||(this.s=1,hn(16),x=!1),this.o=this.o&&x,!x)L(this.i,this.l,De,"[Invalid Chunked Response]"),En(this),kt(this);else if(0<De.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),Tl(zn),zn.M=!0,hn(11))}}else L(this.i,this.l,De,null),ns(this,De);er==4&&En(this),this.o&&!this.J&&(er==4?Rp(this.j,this):(this.o=!1,Je(this)))}else N_(this.g),x==400&&0<De.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),En(this),kt(this)}}}catch{}finally{}};function Te(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pe(u,g){var x=u.C,P=g.indexOf(`
`,x);return P==-1?xe:(x=Number(g.substring(x,P)),isNaN(x)?ie:(P+=1,P+x>g.length?xe:(g=g.slice(P,P+x),u.C=P+x,g)))}te.prototype.cancel=function(){this.J=!0,En(this)};function Je(u){u.S=Date.now()+u.I,Wt(u,u.I)}function Wt(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gn(p(u.ba,u),g)}function jn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}te.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(M(this.i,this.A),this.L!=2&&(or(),hn(17)),En(this),this.s=2,kt(this)):Wt(this,this.S-u)};function kt(u){u.j.G==0||u.J||Rp(u.j,u)}function En(u){jn(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,so(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ns(u,g){try{var x=u.j;if(x.G!=0&&(x.g==u||Ed(x.h,u))){if(!u.K&&Ed(x.h,u)&&x.G==3){try{var P=x.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Z=P;if(Z[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Sl(x),Cl(x);else break e;Rd(x),hn(18)}}else x.za=Z[1],0<x.za-x.T&&37500>Z[2]&&x.F&&x.v==0&&!x.C&&(x.C=gn(p(x.Za,x),6e3));if(1>=ii(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Rs(x,11)}else if((u.K||x.g==u)&&Sl(x),!X(g))for(Z=x.Da.g.parse(g),g=0;g<Z.length;g++){let Rt=Z[g];if(x.T=Rt[0],Rt=Rt[1],x.G==2)if(Rt[0]=="c"){x.K=Rt[1],x.ia=Rt[2];let zn=Rt[3];zn!=null&&(x.la=zn,x.j.info("VER="+x.la));let er=Rt[4];er!=null&&(x.Aa=er,x.j.info("SVER="+x.Aa));let fo=Rt[5];fo!=null&&typeof fo=="number"&&0<fo&&(P=1.5*fo,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;let qr=u.g;if(qr){let po=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var oe=P.h;oe.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Cd(oe,oe.h),oe.h=null))}if(P.D){let Dd=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(P.ya=Dd,it(P.I,P.D,Dd))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var De=u;if(P.qa=Pp(P,P.J?P.ia:null,P.W),De.K){hp(P.h,De);var Gt=De,Wn=P.L;Wn&&(Gt.I=Wn),Gt.B&&(jn(Gt),Je(Gt)),P.g=De}else ss(P);0<x.i.length&&is(x)}else Rt[0]!="stop"&&Rt[0]!="close"||Rs(x,7);else x.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Rs(x,7):kd(x):Rt[0]!="noop"&&x.l&&x.l.ta(Rt),x.v=0)}}or(4)}catch{}}var ao=class{constructor(u,g){this.g=u,this.map=g}};function ri(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function Ed(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Cd(u,g){u.g?u.g.add(g):u.h=g}function hp(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ri.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function qt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(let x of u.g.values())g=g.concat(x.D);return g}return w(u.i)}function T_(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],x=u.length,P=0;P<x;P++)g.push(u[P]);return g}g=[],x=0;for(P in u)g[x++]=u[P];return g}function S_(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var x=0;x<u;x++)g.push(x);return g}g=[],x=0;for(let P in u)g[x++]=P;return g}}}function fp(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var x=S_(u),P=T_(u),Z=P.length,oe=0;oe<Z;oe++)g.call(void 0,P[oe],x&&x[oe],u)}var pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I_(u,g){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var P=u[x].indexOf("="),Z=null;if(0<=P){var oe=u[x].substring(0,P);Z=u[x].substring(P+1)}else oe=u[x];g(oe,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function co(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof co){this.h=u.h,Is(this,u.j),this.o=u.o,this.g=u.g,Ja(this,u.s),this.l=u.l;var g=u.i,x=new ta;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),Za(this,x),this.m=u.m}else u&&(g=String(u).match(pp))?(this.h=!1,Is(this,g[1]||"",!0),this.o=ec(g[2]||""),this.g=ec(g[3]||"",!0),Ja(this,g[4]),this.l=ec(g[5]||"",!0),Za(this,g[6]||"",!0),this.m=ec(g[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}co.prototype.toString=function(){var u=[],g=this.j;g&&u.push(tc(g,gp,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(tc(g,gp,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(tc(x,x.charAt(0)=="/"?k_:A_,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",tc(x,R_)),u.join("")};function _i(u){return new co(u)}function Is(u,g,x){u.j=x?ec(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ja(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Za(u,g,x){g instanceof ta?(u.i=g,D_(u.i,u.h)):(x||(g=tc(g,_p)),u.i=new ta(g,u.h))}function it(u,g,x){u.i.set(g,x)}function bl(u){return it(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ec(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tc(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,mp),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mp(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var gp=/[#\/\?@]/g,A_=/[#\?:]/g,k_=/[#\?]/g,_p=/[#\?@]/g,R_=/#/g;function ta(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function As(u){u.g||(u.g=new Map,u.h=0,u.i&&I_(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}n=ta.prototype,n.add=function(u,g){As(this),this.i=null,u=na(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function vp(u,g){As(u),g=na(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function yp(u,g){return As(u),g=na(u,g),u.g.has(g)}n.forEach=function(u,g){As(this),this.g.forEach(function(x,P){x.forEach(function(Z){u.call(g,Z,P,this)},this)},this)},n.na=function(){As(this);let u=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let P=0;P<g.length;P++){let Z=u[P];for(let oe=0;oe<Z.length;oe++)x.push(g[P])}return x},n.V=function(u){As(this);let g=[];if(typeof u=="string")yp(this,u)&&(g=g.concat(this.g.get(na(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)g=g.concat(u[x])}return g},n.set=function(u,g){return As(this),this.i=null,u=na(this,u),yp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function wp(u,g,x){vp(u,g),0<x.length&&(u.i=null,u.g.set(na(u,g),w(x)),u.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var P=g[x];let oe=encodeURIComponent(String(P)),De=this.V(P);for(P=0;P<De.length;P++){var Z=oe;De[P]!==""&&(Z+="="+encodeURIComponent(String(De[P]))),u.push(Z)}}return this.i=u.join("&")};function na(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function D_(u,g){g&&!u.j&&(As(u),u.i=null,u.g.forEach(function(x,P){var Z=P.toLowerCase();P!=Z&&(vp(this,P),wp(this,Z,x))},u)),u.j=g}function P_(u,g){let x=new ts;if(a.Image){let P=new Image;P.onload=_(ks,x,"TestLoadImage: loaded",!0,g,P),P.onerror=_(ks,x,"TestLoadImage: error",!1,g,P),P.onabort=_(ks,x,"TestLoadImage: abort",!1,g,P),P.ontimeout=_(ks,x,"TestLoadImage: timeout",!1,g,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else g(!1)}function xp(u,g){let x=new ts,P=new AbortController,Z=setTimeout(()=>{P.abort(),ks(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:P.signal}).then(oe=>{clearTimeout(Z),oe.ok?ks(x,"TestPingServer: ok",!0,g):ks(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Z),ks(x,"TestPingServer: error",!1,g)})}function ks(u,g,x,P,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),P(x)}catch{}}function bp(){this.g=new Zo}function O_(u,g,x){let P=x||"";try{fp(u,function(Z,oe){let De=Z;l(Z)&&(De=Ka(Z)),g.push(P+oe+"="+encodeURIComponent(De))})}catch(Z){throw g.push(P+"type="+encodeURIComponent("_badmap")),Z}}function nc(u){this.l=u.Ub||null,this.j=u.eb||!1}C(nc,es),nc.prototype.g=function(){return new rs(this.l,this.j)},nc.prototype.i=function(u){return function(){return u}}({});function rs(u,g){Lt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(rs,Lt),n=rs.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,lo(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Td(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Td(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?rc(this):lo(this),this.readyState==3&&Td(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,rc(this))},n.Qa=function(u){this.g&&(this.response=u,rc(this))},n.ga=function(){this.g&&rc(this)};function rc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,lo(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function lo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sd(u){let g="";return we(u,function(x,P){g+=P,g+=":",g+=x,g+=`\r
`}),g}function Id(u,g,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=Sd(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):it(u,g,x))}function _n(u){Lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(_n,Lt);var M_=/^https?$/i,F_=["POST","PUT"];n=_n.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ne.g(),this.v=this.o?Ya(this.o):Ya(ne),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(oe){Ep(this,oe);return}if(u=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Z in P)x.set(Z,P[Z]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(let oe of P.keys())x.set(oe,P.get(oe));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F_,g,void 0))||P||Z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[oe,De]of x)this.g.setRequestHeader(oe,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ad(this),this.u=!0,this.g.send(u),this.u=!1}catch(oe){Ep(this,oe)}};function Ep(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Cp(u),El(u)}function Cp(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),El(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),_n.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},n.bb=function(){uo(this)};function uo(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Fi(u)!=4||u.Z()!=2)){if(u.u&&Fi(u)==4)Ga(u.Ea,0,u);else if(jt(u,"readystatechange"),Fi(u)==4){u.h=!1;try{let De=u.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var P;if(P=De===0){var Z=String(u.D).match(pp)[1]||null;!Z&&a.self&&a.self.location&&(Z=a.self.location.protocol.slice(0,-1)),P=!M_.test(Z?Z.toLowerCase():"")}x=P}if(x)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var oe=2<Fi(u)?u.g.statusText:""}catch{oe=""}u.l=oe+" ["+u.Z()+"]",Cp(u)}}finally{El(u)}}}}function El(u,g){if(u.g){Ad(u);let x=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||jt(u,"ready");try{x.onreadystatechange=P}catch{}}}function Ad(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Fi(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Xa(g)}};function Tp(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function N_(u){let g={};u=(u.g&&2<=Fi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(X(u[P]))continue;var x=V(u[P]);let Z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();let oe=g[Z]||[];g[Z]=oe,oe.push(x)}D(g,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function Sp(u){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ic("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ic("baseRetryDelayMs",5e3,u),this.cb=ic("retryDelaySeedMs",1e4,u),this.Wa=ic("forwardChannelMaxRetries",2,u),this.wa=ic("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new bp,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sp.prototype,n.la=8,n.G=1,n.connect=function(u,g,x,P){hn(0),this.W=u,this.H=g||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=Pp(this,null,this.W),is(this)};function kd(u){if(Ip(u),u.G==3){var g=u.U++,x=_i(u.I);if(it(x,"SID",u.K),it(x,"RID",g),it(x,"TYPE","terminate"),ra(u,x),g=new te(u,u.j,g),g.L=2,g.v=bl(_i(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=Op(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}ho(u)}function Cl(u){u.g&&(Tl(u),u.g.cancel(),u.g=null)}function Ip(u){Cl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Sl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function is(u){if(!ea(u.h)&&!u.s){u.s=!0;var g=u.Ga;We||bn(),kn||(We(),kn=!0),Nn.add(g,u),u.B=0}}function L_(u,g){return ii(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gn(p(u.Ga,u,g),Dp(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let Z=new te(this,this.j,u),oe=this.o;if(this.S&&(oe?(oe=A(oe),F(oe,this.S)):oe=this.S),this.m!==null||this.O||(Z.H=oe,oe=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=kp(this,Z,g),x=_i(this.I),it(x,"RID",u),it(x,"CVER",22),this.D&&it(x,"X-HTTP-Session-Id",this.D),ra(this,x),oe&&(this.O?g="headers="+encodeURIComponent(String(Sd(oe)))+"&"+g:this.m&&Id(x,this.m,oe)),Cd(this.h,Z),this.Ua&&it(x,"TYPE","init"),this.P?(it(x,"$req",g),it(x,"SID","null"),Z.T=!0,Ce(Z,x,null)):Ce(Z,x,g),this.G=2}}else this.G==3&&(u?Ap(this,u):this.i.length==0||ea(this.h)||Ap(this))};function Ap(u,g){var x;g?x=g.l:x=u.U++;let P=_i(u.I);it(P,"SID",u.K),it(P,"RID",x),it(P,"AID",u.T),ra(u,P),u.m&&u.o&&Id(P,u.m,u.o),x=new te(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),g&&(u.i=g.D.concat(u.i)),g=kp(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Cd(u.h,x),Ce(x,P,g)}function ra(u,g){u.H&&we(u.H,function(x,P){it(g,P,x)}),u.l&&fp({},function(x,P){it(g,P,x)})}function kp(u,g,x){x=Math.min(u.i.length,x);var P=u.l?p(u.l.Na,u.l,u):null;e:{var Z=u.i;let oe=-1;for(;;){let De=["count="+x];oe==-1?0<x?(oe=Z[0].g,De.push("ofs="+oe)):oe=0:De.push("ofs="+oe);let Gt=!0;for(let Wn=0;Wn<x;Wn++){let Rt=Z[Wn].g,zn=Z[Wn].map;if(Rt-=oe,0>Rt)oe=Math.max(0,Z[Wn].g-100),Gt=!1;else try{O_(zn,De,"req"+Rt+"_")}catch{P&&P(zn)}}if(Gt){P=De.join("&");break e}}}return u=u.i.splice(0,x),g.D=u,P}function ss(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;We||bn(),kn||(We(),kn=!0),Nn.add(g,u),u.v=0}}function Rd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gn(p(u.Fa,u),Dp(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ia(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gn(p(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Cl(this),ia(this))};function Tl(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ia(u){u.g=new te(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=_i(u.qa);it(g,"RID","rpc"),it(g,"SID",u.K),it(g,"AID",u.T),it(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&it(g,"TO",u.ja),it(g,"TYPE","xmlhttp"),ra(u,g),u.m&&u.o&&Id(g,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=bl(_i(g)),x.m=null,x.P=!0,Ue(x,u)}n.Za=function(){this.C!=null&&(this.C=null,Cl(this),Rd(this),hn(19))};function Sl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Rp(u,g){var x=null;if(u.g==g){Sl(u),Tl(u),u.g=null;var P=2}else if(Ed(u.h,g))x=g.D,hp(u.h,g),P=1;else return;if(u.G!=0){if(g.o)if(P==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var Z=u.B;P=oo(),jt(P,new fn(P,x)),is(u)}else ss(u);else if(Z=g.s,Z==3||Z==0&&0<g.X||!(P==1&&L_(u,g)||P==2&&Rd(u)))switch(x&&0<x.length&&(g=u.h,g.i=g.i.concat(x)),Z){case 1:Rs(u,5);break;case 4:Rs(u,10);break;case 3:Rs(u,6);break;default:Rs(u,2)}}}function Dp(u,g){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*g}function Rs(u,g){if(u.j.info("Error code "+g),g==2){var x=p(u.fb,u),P=u.Xa;let Z=!P;P=new co(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Is(P,"https"),bl(P),Z?P_(P.toString(),x):xp(P.toString(),x)}else hn(2);u.G=0,u.l&&u.l.sa(g),ho(u),Ip(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function ho(u){if(u.G=0,u.ka=[],u.l){let g=qt(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function Pp(u,g,x){var P=x instanceof co?_i(x):new co(x);if(P.g!="")g&&(P.g=g+"."+P.g),Ja(P,P.s);else{var Z=a.location;P=Z.protocol,g=g?g+"."+Z.hostname:Z.hostname,Z=+Z.port;var oe=new co(null);P&&Is(oe,P),g&&(oe.g=g),Z&&Ja(oe,Z),x&&(oe.l=x),P=oe}return x=u.D,g=u.ya,x&&g&&it(P,x,g),it(P,"VER",u.la),ra(u,P),P}function Op(u,g,x){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new _n(new nc({eb:x})):new _n(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mp(){}n=Mp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Il(){}Il.prototype.g=function(u,g){return new $r(u,g)};function $r(u,g){Lt.call(this),this.g=new Sp(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!X(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sa(this)}C($r,Lt),$r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){kd(this.g)},$r.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=Ka(u),u=x);g.i.push(new ao(g.Ya++,u)),g.G==3&&is(g)},$r.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,$r.aa.N.call(this)};function Fp(u){Ss.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(let x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(Fp,Ss);function Np(){Zn.call(this),this.status=1}C(Np,Zn);function sa(u){this.g=u}C(sa,Mp),sa.prototype.ua=function(){jt(this.g,"a")},sa.prototype.ta=function(u){jt(this.g,new Fp(u))},sa.prototype.sa=function(u){jt(this.g,new Np)},sa.prototype.ra=function(){jt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,A1=Fo.createWebChannelTransport=function(){return new Il},I1=Fo.getStatEventTarget=function(){return oo()},S1=Fo.Event=ni,h0=Fo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},U.NO_ERROR=0,U.TIMEOUT=8,U.HTTP_ERROR=6,Wh=Fo.ErrorCode=U,j.COMPLETE="complete",T1=Fo.EventType=j,sr.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,lu=Fo.WebChannel=sr,C1=Fo.FetchXmlHttpFactory=nc,_n.prototype.listenOnce=_n.prototype.L,_n.prototype.getLastError=_n.prototype.Ka,_n.prototype.getLastErrorCode=_n.prototype.Ba,_n.prototype.getStatus=_n.prototype.Z,_n.prototype.getResponseJson=_n.prototype.Oa,_n.prototype.getResponseText=_n.prototype.oa,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Ha,E1=Fo.XhrIo=_n}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var $2="@firebase/firestore";var hr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");var ku="10.12.3";var Nc=new Ns("@firebase/firestore");function zh(){return Nc.logLevel}function He(n,...e){if(Nc.logLevel<=Et.DEBUG){let t=e.map(hx);Nc.debug(`Firestore (${ku}): ${n}`,...t)}}function Lo(n,...e){if(Nc.logLevel<=Et.ERROR){let t=e.map(hx);Nc.error(`Firestore (${ku}): ${n}`,...t)}}function gu(n,...e){if(Nc.logLevel<=Et.WARN){let t=e.map(hx);Nc.warn(`Firestore (${ku}): ${n}`,...t)}}function hx(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function at(n="Unexpected state"){let e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+n;throw Lo(e),new Error(e)}function un(n,e){n||at()}function ht(n,e){return n}var ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},je=class extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hs=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _0=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},O1=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}},M1=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},F1=class{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hs,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>q(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hs)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un(typeof r.accessToken=="string"),new _0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new hr(e)}},N1=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},L1=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new N1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},V1=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},B1=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un(typeof t.token=="string"),this.R=t.token,new V1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function $6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var v0=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=$6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Bt(n,e){return n<e?-1:n>e?1:0}function _u(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Tr=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var mt=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Tr(0,0))}static max(){return new n(new Tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var y0=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(),r===void 0?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Tn=class n extends y0{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ti=class n extends y0{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return q6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Ze=class n{constructor(e){this.path=e}static fromPath(e){return new n(Tn.fromString(e))}static fromName(e){return new n(Tn.fromString(e).popFirst(5))}static empty(){return new n(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Tn(e.slice()))}};var U1=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};U1.UNKNOWN_ID=-1;function G6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=mt.fromTimestamp(r===1e9?new Tr(t+1,0):new Tr(t,r));return new Lc(i,Ze.empty(),e)}function K6(n){return new Lc(n.readTime,n.key,-1)}var Lc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(mt.min(),Ze.empty(),-1)}static max(){return new n(mt.max(),Ze.empty(),-1)}};function X6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ze.comparator(n.documentKey,e.documentKey),t!==0?t:Bt(n.largestBatchId,e.largestBatchId))}var Y6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",j1=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cf(n){return q(this,null,function*(){if(n.code!==ye.FAILED_PRECONDITION||n.message!==Y6)throw n;He("LocalStore","Unexpectedly lost primary lease")})}var Se=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Q6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lf(n){return n.name==="IndexedDbTransactionError"}var EA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Q0(n){return n==null}function Xh(n){return n===0&&1/n==-1/0}function J6(n){return typeof n=="number"&&Number.isInteger(n)&&!Xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Z6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],use=[...Z6,"documentOverlays"],eU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tU=eU,dse=[...tU,"indexConfiguration","indexState","indexEntries"];function q2(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pn=class n{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}},fu=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$s=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();let e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}};$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1;$s.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,t,r,i,s){return this}insert(e,t,r){return new $s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vr=class n{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},w0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hi=class n{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new n([])}unionWith(e){let t=new Vr(Ti.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var x0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Yr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x0("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Yr.EMPTY_BYTE_STRING=new Yr("");var nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(n){if(un(!!n),typeof n=="string"){let e=0,t=nU.exec(n);if(un(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(n.seconds),nanos:Dn(n.nanos)}}function Dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ra(n){return typeof n=="string"?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function fx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function px(n){let e=n.mapValue.fields.__previous_value__;return fx(e)?px(e):e}function Yh(n){let e=Vo(n.mapValue.fields.__local_write_time__.timestampValue);return new Tr(e.seconds,e.nanos)}var W1=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},b0=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var f0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fx(n)?4:TA(n)?9007199254740991:10:at()}function Ks(n,e){if(n===e)return!0;let t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yh(n).isEqual(Yh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Vo(i.timestampValue),a=Vo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ra(i.bytesValue).isEqual(Ra(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Dn(i.geoPointValue.latitude)===Dn(s.geoPointValue.latitude)&&Dn(i.geoPointValue.longitude)===Dn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Dn(i.integerValue)===Dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Dn(i.doubleValue),a=Dn(s.doubleValue);return o===a?Xh(o)===Xh(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return _u(n.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(q2(o)!==q2(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ks(o[c],a[c])))return!1;return!0}(n,e);default:return at()}}function Qh(n,e){return(n.values||[]).find(t=>Ks(t,e))!==void 0}function vu(n,e){if(n===e)return 0;let t=Vc(n),r=Vc(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Dn(s.integerValue||s.doubleValue),c=Dn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return G2(n.timestampValue,e.timestampValue);case 4:return G2(Yh(n),Yh(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ra(s),c=Ra(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Bt(a[l],c[l]);if(d!==0)return d}return Bt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Bt(Dn(s.latitude),Dn(o.latitude));return a!==0?a:Bt(Dn(s.longitude),Dn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=vu(a[l],c[l]);if(d)return d}return Bt(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===f0.mapValue&&o===f0.mapValue)return 0;if(s===f0.mapValue)return 1;if(o===f0.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let p=Bt(c[f],d[f]);if(p!==0)return p;let _=vu(a[c[f]],l[d[f]]);if(_!==0)return _}return Bt(c.length,d.length)}(n.mapValue,e.mapValue);default:throw at()}}function G2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Bt(n,e);let t=Vo(n),r=Vo(e),i=Bt(t.seconds,r.seconds);return i!==0?i:Bt(t.nanos,r.nanos)}function yu(n){return z1(n)}function z1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Vo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ra(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ze.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=z1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${z1(t.fields[o])}`;return i+"}"}(n.mapValue):at()}function K2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function H1(n){return!!n&&"integerValue"in n}function mx(n){return!!n&&"arrayValue"in n}function X2(n){return!!n&&"nullValue"in n}function Y2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function m0(n){return!!n&&"mapValue"in n}function $h(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Hc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$h(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$h(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ci=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!m0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}setAll(e){let t=Ti.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=$h(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());m0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];m0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hc(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n($h(this.value))}};function SA(n){let e=[];return Hc(n.fields,(t,r)=>{let i=new Ti([t]);if(m0(r)){let s=SA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Hi(e)}var fs=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,mt.min(),mt.min(),mt.min(),Ci.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,mt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,mt.min(),mt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,mt.min(),mt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wu=class{constructor(e,t){this.position=e,this.inclusive=t}};function Q2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(o.referenceValue),t.key):r=vu(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ks(n.position[t],e.position[t]))return!1;return!0}var xu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function rU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var E0=class{},Kn=class n extends E0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new q1(e,t,r):t==="array-contains"?new X1(e,r):t==="in"?new Y1(e,r):t==="not-in"?new Q1(e,r):t==="array-contains-any"?new J1(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new G1(e,r):new K1(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vu(t,this.value)):t!==null&&Vc(this.value)===Vc(t)&&this.matchesComparison(vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ps=class n extends E0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return IA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function IA(n){return n.op==="and"}function AA(n){return iU(n)&&IA(n)}function iU(n){for(let e of n.filters)if(e instanceof ps)return!1;return!0}function $1(n){if(n instanceof Kn)return n.field.canonicalString()+n.op.toString()+yu(n.value);if(AA(n))return n.filters.map(e=>$1(e)).join(",");{let e=n.filters.map(t=>$1(t)).join(",");return`${n.op}(${e})`}}function kA(n,e){return n instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&Ks(r.value,i.value)}(n,e):n instanceof ps?function(r,i){return i instanceof ps&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kA(o,i.filters[a]),!0):!1}(n,e):void at()}function RA(n){return n instanceof Kn?function(t){return`${t.field.canonicalString()} ${t.op} ${yu(t.value)}`}(n):n instanceof ps?function(t){return t.op.toString()+" {"+t.getFilters().map(RA).join(" ,")+"}"}(n):"Filter"}var q1=class extends Kn{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){let t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}},G1=class extends Kn{constructor(e,t){super(e,"in",t),this.keys=DA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},K1=class extends Kn{constructor(e,t){super(e,"not-in",t),this.keys=DA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function DA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}var X1=class extends Kn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return mx(t)&&Qh(t.arrayValue,this.value)}},Y1=class extends Kn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qh(this.value.arrayValue,t)}},Q1=class extends Kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Qh(this.value.arrayValue,t)}},J1=class extends Kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!mx(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qh(this.value.arrayValue,r))}};var Z1=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Z2(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Z1(n,e,t,r,i,s,o)}function gx(n){let e=ht(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Q0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yu(r)).join(",")),e.ue=t}return e.ue}function _x(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!J2(n.startAt,e.startAt)&&J2(n.endAt,e.endAt)}function ew(n){return Ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Bc=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function sU(n,e,t,r,i,s,o,a){return new Bc(n,e,t,r,i,s,o,a)}function vx(n){return new Bc(n)}function eA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PA(n){return n.collectionGroup!==null}function qh(n){let e=ht(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vr(Ti.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xu(s,r))}),t.has(Ti.keyField().canonicalString())||e.ce.push(new xu(Ti.keyField(),r))}return e.ce}function qs(n){let e=ht(n);return e.le||(e.le=oU(e,qh(n))),e.le}function oU(n,e){if(n.limitType==="F")return Z2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new xu(i.field,s)});let t=n.endAt?new wu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wu(n.startAt.position,n.startAt.inclusive):null;return Z2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tw(n,e){let t=n.filters.concat([e]);return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nw(n,e,t){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J0(n,e){return _x(qs(n),qs(e))&&n.limitType===e.limitType}function OA(n){return`${gx(qs(n))}|lt:${n.limitType}`}function uu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>RA(i)).join(", ")}]`),Q0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>yu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>yu(i)).join(",")),`Target(${r})`}(qs(n))}; limitType=${n.limitType})`}function Z0(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of qh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=Q2(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,qh(r),i)||r.endAt&&!function(o,a,c){let l=Q2(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,qh(r),i))}(n,e)}function aU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MA(n){return(e,t)=>{let r=!1;for(let i of qh(n)){let s=cU(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cU(n,e,t){let r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?vu(c,l):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}var Da=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hc(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}};var lU=new Pn(Ze.comparator);function Bo(){return lU}var FA=new Pn(Ze.comparator);function Hh(...n){let e=FA;for(let t of n)e=e.insert(t.key,t);return e}function NA(n){let e=FA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oc(){return Gh()}function LA(){return Gh()}function Gh(){return new Da(n=>n.toString(),(n,e)=>n.isEqual(e))}var uU=new Pn(Ze.comparator),dU=new Vr(Ze.comparator);function St(...n){let e=dU;for(let t of n)e=e.add(t);return e}var hU=new Vr(Bt);function fU(){return hU}function VA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function BA(n){return{integerValue:""+n}}function pU(n,e){return J6(e)?BA(e):VA(n,e)}var bu=class{constructor(){this._=void 0}};function mU(n,e,t){return n instanceof Eu?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fx(s)&&(s=px(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Uc?jA(n,e):n instanceof jc?WA(n,e):function(i,s){let o=UA(i,s),a=tA(o)+tA(i.Pe);return H1(o)&&H1(i.Pe)?BA(a):VA(i.serializer,a)}(n,e)}function gU(n,e,t){return n instanceof Uc?jA(n,e):n instanceof jc?WA(n,e):t}function UA(n,e){return n instanceof Cu?function(r){return H1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Eu=class extends bu{},Uc=class extends bu{constructor(e){super(),this.elements=e}};function jA(n,e){let t=zA(e);for(let r of n.elements)t.some(i=>Ks(i,r))||t.push(r);return{arrayValue:{values:t}}}var jc=class extends bu{constructor(e){super(),this.elements=e}};function WA(n,e){let t=zA(e);for(let r of n.elements)t=t.filter(i=>!Ks(i,r));return{arrayValue:{values:t}}}var Cu=class extends bu{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function tA(n){return Dn(n.integerValue||n.doubleValue)}function zA(n){return mx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _U(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Uc&&i instanceof Uc||r instanceof jc&&i instanceof jc?_u(r.elements,i.elements,Ks):r instanceof Cu&&i instanceof Cu?Ks(r.Pe,i.Pe):r instanceof Eu&&i instanceof Eu}(n.transform,e.transform)}var rw=class{constructor(e,t){this.version=e,this.transformResults=t}},Aa=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function g0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Tu=class{};function HA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new C0(n.key,Aa.none()):new Wc(n.key,n.data,Aa.none());{let t=n.data,r=Ci.empty(),i=new Vr(Ti.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xs(n.key,r,new Hi(i.toArray()),Aa.none())}}function vU(n,e,t){n instanceof Wc?function(i,s,o){let a=i.value.clone(),c=rA(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(i,s,o){if(!g0(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=rA(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll($A(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Kh(n,e,t,r){return n instanceof Wc?function(s,o,a,c){if(!g0(s.precondition,o))return a;let l=s.value.clone(),d=iA(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xs?function(s,o,a,c){if(!g0(s.precondition,o))return a;let l=iA(s.fieldTransforms,c,o),d=o.data;return d.setAll($A(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return g0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function yU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=UA(r.transform,i||null);s!=null&&(t===null&&(t=Ci.empty()),t.set(r.field,s))}return t||null}function nA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_u(r,i,(s,o)=>_U(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wc=class extends Tu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xs=class extends Tu{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $A(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function rA(n,e,t){let r=new Map;un(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gU(o,a,t[i]))}return r}function iA(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,mU(s,o,e))}return r}var C0=class extends Tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},iw=class extends Tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&vU(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Kh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=LA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=HA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),St())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(t,r)=>nA(t,r))&&_u(this.baseMutations,e.baseMutations,(t,r)=>nA(t,r))}},ow=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){un(e.mutations.length===r.length);let i=function(){return uU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var aw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var cw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qn,Pt;function wU(n){switch(n){default:return at();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function qA(n){if(n===void 0)return Lo("GRPC error has no .code"),ye.UNKNOWN;switch(n){case qn.OK:return ye.OK;case qn.CANCELLED:return ye.CANCELLED;case qn.UNKNOWN:return ye.UNKNOWN;case qn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case qn.INTERNAL:return ye.INTERNAL;case qn.UNAVAILABLE:return ye.UNAVAILABLE;case qn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case qn.NOT_FOUND:return ye.NOT_FOUND;case qn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case qn.ABORTED:return ye.ABORTED;case qn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case qn.DATA_LOSS:return ye.DATA_LOSS;default:return at()}}(Pt=qn||(qn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";var sA=null;function xU(){return new TextEncoder}var bU=new Ia([4294967295,4294967295],0);function oA(n){let e=xU().encode(n),t=new b1;return t.update(e),new Uint8Array(t.digest())}function aA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ia([t,r],0),new Ia([i,s],0)]}var lw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mc(`Invalid padding: ${t}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ia.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ia.fromNumber(r)));return i.compare(bU)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=oA(e),[r,i]=aA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=oA(e),[r,i]=aA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Mc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var T0=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(mt.min(),i,new Pn(Bt),Bo(),St())}},Jh=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,St(),St(),St())}};var pu=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},S0=class{constructor(e,t){this.targetId=e,this.me=t}},I0=class{constructor(e,t,r=Yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},A0=class{constructor(){this.fe=0,this.ge=lA(),this.pe=Yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=St(),t=St(),r=St();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new Jh(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=lA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},uw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bo(),this.qe=cA(),this.Qe=new Pn(Bt)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(ew(s))if(r===0){let o=new Ze(s.path);this.Ue(t,o,fs.newNoDocument(o,mt.min()))}else un(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}sA?.et(function(d,f,p,_,C){var w,T,K,X,Y,ee;let me={localCacheCount:d,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},we=f.unchangedNames;return we&&(me.bloomFilter={applied:C===0,hashCount:(w=we?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(X=(K=(T=we?.bits)===null||T===void 0?void 0:T.bitmap)===null||K===void 0?void 0:K.length)!==null&&X!==void 0?X:0,padding:(ee=(Y=we?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&ee!==void 0?ee:0,mightContain:D=>{var A;return(A=_?.mightContain(D))!==null&&A!==void 0&&A}}),me}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Ra(r).toUint8Array()}catch(c){if(c instanceof x0)return gu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new lw(o,i,s)}catch(c){return gu(c instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ew(a.target)){let c=new Ze(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,fs.newNoDocument(c,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=St();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new T0(e,t,this.Qe,this.ke,r);return this.ke=Bo(),this.qe=cA(),this.Qe=new Pn(Bt),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new A0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vr(Bt),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new A0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function cA(){return new Pn(Ze.comparator)}function lA(){return new Pn(Ze.comparator)}var EU={asc:"ASCENDING",desc:"DESCENDING"},CU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TU={and:"AND",or:"OR"},dw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function hw(n,e){return n.useProto3Json||Q0(e)?e:{value:e}}function k0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SU(n,e){return k0(n,e.toTimestamp())}function Gs(n){return un(!!n),mt.fromTimestamp(function(t){let r=Vo(t);return new Tr(r.seconds,r.nanos)}(n))}function yx(n,e){return fw(n,e).canonicalString()}function fw(n,e){let t=function(i){return new Tn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function KA(n){let e=Tn.fromString(n);return un(ZA(e)),e}function pw(n,e){return yx(n.databaseId,e.path)}function k1(n,e){let t=KA(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(YA(t))}function XA(n,e){return yx(n.databaseId,e)}function IU(n){let e=KA(n);return e.length===4?Tn.emptyPath():YA(e)}function mw(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YA(n){return un(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uA(n,e,t){return{name:pw(n,e),fields:t.value.mapValue.fields}}function AU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(un(d===void 0||typeof d=="string"),Yr.fromBase64String(d||"")):(un(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Yr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?ye.UNKNOWN:qA(l.code);return new je(d,l.message||"")}(o);t=new I0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=k1(n,r.document.name),s=Gs(r.document.updateTime),o=r.document.createTime?Gs(r.document.createTime):mt.min(),a=new Ci({mapValue:{fields:r.document.fields}}),c=fs.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new pu(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=k1(n,r.document),s=r.readTime?Gs(r.readTime):mt.min(),o=fs.newNoDocument(i,s),a=r.removedTargetIds||[];t=new pu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=k1(n,r.document),s=r.removedTargetIds||[];t=new pu([],s,i,null)}else{if(!("filter"in e))return at();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new cw(i,s),a=r.targetId;t=new S0(a,o)}}return t}function kU(n,e){let t;if(e instanceof Wc)t={update:uA(n,e.key,e.value)};else if(e instanceof C0)t={delete:pw(n,e.key)};else if(e instanceof Xs)t={update:uA(n,e.key,e.data),updateMask:VU(e.fieldMask)};else{if(!(e instanceof iw))return at();t={verify:pw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:at()}(n,e.precondition)),t}function RU(n,e){return n&&n.length>0?(un(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Gs(i.updateTime):Gs(s);return o.isEqual(mt.min())&&(o=Gs(s)),new rw(o,i.transformResults||[])}(t,e))):[]}function DU(n,e){return{documents:[XA(n,e.path)]}}function PU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XA(n,i);let s=function(l){if(l.length!==0)return JA(ps.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(p){return{field:du(p.field),direction:FU(p.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=hw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function OU(n){let e=IU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){un(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let p=QA(f);return p instanceof ps&&AA(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(p=>function(C){return new xu(hu(C.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Q0(p)?null:p}(t.limit));let c=null;t.startAt&&(c=function(f){let p=!!f.before,_=f.values||[];return new wu(_,p)}(t.startAt));let l=null;return t.endAt&&(l=function(f){let p=!f.before,_=f.values||[];return new wu(_,p)}(t.endAt)),sU(e,i,o,s,a,"F",c,l)}function MU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hu(t.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hu(t.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=hu(t.unaryFilter.field);return Kn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=hu(t.unaryFilter.field);return Kn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):n.fieldFilter!==void 0?function(t){return Kn.create(hu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ps.create(t.compositeFilter.filters.map(r=>QA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at()}function FU(n){return EU[n]}function NU(n){return CU[n]}function LU(n){return TU[n]}function du(n){return{fieldPath:n.canonicalString()}}function hu(n){return Ti.fromServerFormat(n.fieldPath)}function JA(n){return n instanceof Kn?function(t){if(t.op==="=="){if(Y2(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NAN"}};if(X2(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y2(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NAN"}};if(X2(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(t.field),op:NU(t.op),value:t.value}}}(n):n instanceof ps?function(t){let r=t.getFilters().map(i=>JA(i));return r.length===1?r[0]:{compositeFilter:{op:LU(t.op),filters:r}}}(n):at()}function VU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zh=class n{constructor(e,t,r,i,s=mt.min(),o=mt.min(),a=Yr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gw=class{constructor(e){this.ct=e}};function BU(n){let e=OU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nw(e,e.limit,"L"):e}var R0=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Dn(e.integerValue));else if("doubleValue"in e){let r=Dn(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Xh(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=Vo(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ra(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?TA(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):at()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let r=e.fields||{};this.Et(t,55);for(let i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){let r=e.values||[];this.Et(t,50);for(let i of r)this.It(i,t)}gt(e,t){this.Et(t,37),Ze.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};R0.bt=new R0;var _w=class{constructor(){this._n=new vw}addToCollectionParentIndex(e,t){return this._n.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(Lc.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(Lc.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}},vw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vr(Tn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vr(Tn.comparator)).toArray()}};var fse=new Uint8Array(0);var zs=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);var ef=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var yw=class{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ww=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var xw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Kh(r.mutation,i,Hi.empty(),Tr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,St()).next(()=>r))}getLocalViewOfDocuments(e,t,r=St()){let i=Oc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Hh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Oc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,St()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Bo(),o=Gh(),a=function(){return Gh()}();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Xs)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Kh(d.mutation,l,d.mutation.getFieldMask(),Tr.now())):o.set(l.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new ww(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Gh(),i=new Pn((o,a)=>o-a),s=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Hi.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||St()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=LA();d.forEach(p=>{if(!s.has(p)){let _=HA(t.get(p),r.get(p));_!==null&&f.set(p,_),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Se.resolve(Oc()),a=-1,c=s;return o.next(l=>Se.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Se.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,St())).next(d=>({batchId:a,changes:NA(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=Hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Hh();return this.indexManager.getCollectionParents(e,s).next(a=>Se.forEach(a,c=>{let l=function(f,p){return new Bc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,fs.newInvalidDocument(d)))});let a=Hh();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&Kh(d.mutation,l,Hi.empty(),Tr.now()),Z0(t,l)&&(a=a.insert(c,l))}),a})}};var bw=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Se.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gs(i.createTime)}}(t)),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:BU(i.bundledQuery),readTime:Gs(i.readTime)}}(t)),Se.resolve()}};var Ew=class{constructor(){this.overlays=new Pn(Ze.comparator),this.hr=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Oc();return Se.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){let i=Oc(),s=t.length+1,o=new Ze(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Pn((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=Oc(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Oc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return Se.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aw(t,r));let s=this.hr.get(t);s===void 0&&(s=St(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}};var tf=class{constructor(){this.Pr=new Vr(Gn.Ir),this.Tr=new Vr(Gn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let r=new Gn(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Gn(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){let t=new Ze(new Tn([])),r=new Gn(t,e),i=new Gn(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new Ze(new Tn([])),r=new Gn(t,e),i=new Gn(t,e+1),s=St();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Gn(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Gn=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ze.comparator(e.key,t.key)||Bt(e.pr,t.pr)}static Er(e,t){return Bt(e.pr,t.pr)||Ze.comparator(e.key,t.key)}};var Cw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Vr(Gn.Ir)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new sw(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,t){return Se.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.br(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Gn(t,0),i=new Gn(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vr(Bt);return t.forEach(i=>{let s=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Se.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Ze.isDocumentKey(s)||(s=s.child(""));let o=new Gn(new Ze(s),0),a=new Vr(Bt);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),Se.resolve(this.Dr(a))}Dr(e){let t=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){un(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Se.forEach(t.mutations,i=>{let s=new Gn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){let r=new Gn(t,0),i=this.wr.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Tw=class{constructor(e){this.vr=e,this.docs=function(){return new Pn(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():fs.newInvalidDocument(t))}getEntries(e,t){let r=Bo();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fs.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bo(),o=t.path,a=new Ze(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||X6(K6(d),r)<=0||(i.has(d.key)||Z0(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,t,r,i){at()}Fr(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Sw(this)}getSize(e){return Se.resolve(this.size)}},Sw=class extends yw{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var Iw=class{constructor(e){this.persistence=e,this.Mr=new Da(t=>gx(t),_x),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tf,this.targetCount=0,this.Lr=ef.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),Se.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new ef(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.qn(t),Se.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){let r=this.Mr.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Se.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Nr.gr(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Nr.containsKey(t))}};var Aw=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new EA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Iw(this),this.indexManager=new _w,this.remoteDocumentCache=function(i){return new Tw(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gw(t),this.$r=new bw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ew,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Cw(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);let i=new kw(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return Se.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}},kw=class extends j1{constructor(e){super(),this.currentSequenceNumber=e}},Rw=class n{constructor(e){this.persistence=e,this.zr=new tf,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw at()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Se.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Jr,r=>{let i=Ze.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,mt.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return Se.or([()=>Se.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var Dw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=St(),i=St();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Pw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ow=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zS()?8:Q6(nr())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Pw;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(zh()<=Et.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",uu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Se.resolve()):(zh()<=Et.DEBUG&&He("QueryEngine","Query:",uu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(zh()<=Et.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",uu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(t))):Se.resolve())}ji(e,t){if(eA(t))return Se.resolve(null);let r=qs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nw(t,null,"F"),r=qs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=St(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(t,a);return this.Xi(t,l,o,c.readTime)?this.ji(e,nw(t,null,"F")):this.es(e,l,t,c)}))})))}Hi(e,t,r,i){return eA(t)||i.isEqual(mt.min())?Se.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(t,s);return this.Xi(t,o,r,i)?Se.resolve(null):(zh()<=Et.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uu(t)),this.es(e,o,t,G6(i,-1)).next(a=>a))})}Zi(e,t){let r=new Vr(MA(e));return t.forEach((i,s)=>{Z0(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return zh()<=Et.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",uu(t)),this.zi.getDocumentsMatchingQuery(e,t,Lc.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Mw=class{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Pn(Bt),this.rs=new Da(s=>gx(s),_x),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function UU(n,e,t,r){return new Mw(n,e,t,r)}function ek(n,e){return q(this,null,function*(){let t=ht(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=St();for(let l of i){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function jU(n,e){let t=ht(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,p=f.keys(),_=Se.resolve();return p.forEach(C=>{_=_.next(()=>d.getEntry(c,C)).next(w=>{let T=l.docVersions.get(C);un(T!==null),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),d.addEntry(w)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=St();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tk(n){let e=ht(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function WU(n,e){let t=ht(n),r=e.snapshotVersion,i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;let a=[];e.targetChanges.forEach((d,f)=>{let p=i.get(f);if(!p)return;a.push(t.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Qr.addMatchingKeys(s,d.addedDocuments,f)));let _=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Yr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(w,T,K){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(p,_,d)&&a.push(t.Qr.updateTargetData(s,_))});let c=Bo(),l=St();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(zU(s,o,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!r.isEqual(mt.min())){let d=t.Qr.getLastRemoteSnapshotVersion(s).next(f=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.ns=i,s))}function zU(n,e,t){let r=St(),i=St();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Bo();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(mt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):He("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function HU(n,e){let t=ht(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $U(n,e){let t=ht(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new Zh(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function Fw(n,e,t){return q(this,null,function*(){let r=ht(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!lf(o))throw o;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function dA(n,e,t){let r=ht(n),i=mt.min(),s=St();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let f=ht(c),p=f.rs.get(d);return p!==void 0?Se.resolve(f.ns.get(p)):f.Qr.getTargetData(l,d)}(r,o,qs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:mt.min(),t?s:St())).next(a=>(qU(r,aU(e),a),{documents:a,hs:s})))}function qU(n,e,t){let r=n.ss.get(e)||mt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}var D0=class{constructor(){this.activeTargetIds=fU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Nw=class{constructor(){this.no=new D0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new D0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Lw=class{io(e){}shutdown(){}};var P0=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var p0=null;function R1(){return p0===null?p0=function(){return 268435456+Math.round(2147483648*Math.random())}():p0++,"0x"+p0.toString(16)}var GU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Vw=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Lr="WebChannelConnection",Bw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(t,r,i,s,o){let a=R1(),c=this.vo(t,r.toUriEncodedString());He("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(t,c,l,i).then(d=>(He("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw gu("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(t,r,i,s,o,a){return this.Co(t,r,i,s,o)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ku}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}vo(t,r){let i=GU[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){let s=R1();return new Promise((o,a)=>{let c=new E1;c.setWithCredentials(!0),c.listenOnce(T1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wh.NO_ERROR:let d=c.getResponseJson();He(Lr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wh.TIMEOUT:He(Lr,`RPC '${e}' ${s} timed out`),a(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:let f=c.getStatus();if(He(Lr,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let _=p?.error;if(_&&_.status&&_.message){let C=function(T){let K=T.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(K)>=0?K:ye.UNKNOWN}(_.status);a(new je(C,_.message))}else a(new je(ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new je(ye.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{He(Lr,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);He(Lr,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Oo(e,t,r){let i=R1(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=A1(),a=I1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new C1({})),this.Fo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=s.join("");He(Lr,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),p=!1,_=!1,C=new Vw({lo:T=>{_?He(Lr,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(He(Lr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),He(Lr,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},ho:()=>f.close()}),w=(T,K,X)=>{T.listen(K,Y=>{try{X(Y)}catch(ee){setTimeout(()=>{throw ee},0)}})};return w(f,lu.EventType.OPEN,()=>{_||(He(Lr,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),w(f,lu.EventType.CLOSE,()=>{_||(_=!0,He(Lr,`RPC '${e}' stream ${i} transport closed`),C.po())}),w(f,lu.EventType.ERROR,T=>{_||(_=!0,gu(Lr,`RPC '${e}' stream ${i} transport errored:`,T),C.po(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),w(f,lu.EventType.MESSAGE,T=>{var K;if(!_){let X=T.data[0];un(!!X);let Y=X,ee=Y.error||((K=Y[0])===null||K===void 0?void 0:K.error);if(ee){He(Lr,`RPC '${e}' stream ${i} received error:`,ee);let me=ee.status,we=function(k){let F=qn[k];if(F!==void 0)return qA(F)}(me),D=ee.message;we===void 0&&(we=ye.INTERNAL,D="Unknown error status: "+me+" with message "+ee.message),_=!0,C.po(new je(we,D)),f.close()}else He(Lr,`RPC '${e}' stream ${i} received:`,X),C.yo(X)}}),w(a,S1.STAT_EVENT,T=>{T.stat===h0.PROXY?He(Lr,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===h0.NOPROXY&&He(Lr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function D1(){return typeof document<"u"?document:null}function eg(n){return new dw(n,!0)}var O0=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var M0=class{constructor(e,t,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new O0(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return q(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return q(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return q(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Lo(t.toString()),Lo("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{let i=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){let r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>q(this,null,function*(){this.state=0,this.start()}))}c_(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Uw=class extends M0{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=AU(this.serializer,e),r=function(s){if(!("targetChange"in s))return mt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?mt.min():o.readTime?Gs(o.readTime):mt.min()}(e);return this.listener.h_(t,r)}P_(e){let t={};t.database=mw(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=ew(c)?{documents:DU(s,c)}:{query:PU(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GA(s,o.resumeToken);let l=hw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(mt.min())>0){a.readTime=k0(s,o.snapshotVersion.toTimestamp());let l=hw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=MU(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){let t={};t.database=mw(this.serializer),t.removeTarget=e,this.i_(t)}},jw=class extends M0{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=RU(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.A_(r,t)}return un(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=mw(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>kU(this.serializer,r))};this.i_(t)}};var Ww=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,fw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ye.UNKNOWN,s.toString())})}xo(e,t,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,fw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ye.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},zw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Lo(t),this.y_=!1):He("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Hw=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>q(this,null,function*(){$c(this)&&(He("RemoteStore","Restarting streams for network reachability change."),yield function(c){return q(this,null,function*(){let l=ht(c);l.M_.add(4),yield uf(l),l.N_.set("Unknown"),l.M_.delete(4),yield tg(l)})}(this))}))}),this.N_=new zw(r,i)}};function tg(n){return q(this,null,function*(){if($c(n))for(let e of n.x_)yield e(!0)})}function uf(n){return q(this,null,function*(){for(let e of n.x_)yield e(!1)})}function nk(n,e){let t=ht(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Ex(t)?bx(t):Ru(t).Xo()&&xx(t,e))}function wx(n,e){let t=ht(n),r=Ru(t);t.F_.delete(e),r.Xo()&&rk(t,e),t.F_.size===0&&(r.Xo()?r.n_():$c(t)&&t.N_.set("Unknown"))}function xx(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ru(n).P_(e)}function rk(n,e){n.L_.xe(e),Ru(n).I_(e)}function bx(n){n.L_=new uw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ru(n).start(),n.N_.w_()}function Ex(n){return $c(n)&&!Ru(n).Zo()&&n.F_.size>0}function $c(n){return ht(n).M_.size===0}function ik(n){n.L_=void 0}function KU(n){return q(this,null,function*(){n.N_.set("Online")})}function XU(n){return q(this,null,function*(){n.F_.forEach((e,t)=>{xx(n,e)})})}function YU(n,e){return q(this,null,function*(){ik(n),Ex(n)?(n.N_.D_(e),bx(n)):n.N_.set("Unknown")})}function QU(n,e,t){return q(this,null,function*(){if(n.N_.set("Online"),e instanceof I0&&e.state===2&&e.cause)try{yield function(i,s){return q(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield F0(n,r)}else if(e instanceof pu?n.L_.Ke(e):e instanceof S0?n.L_.He(e):n.L_.We(e),!t.isEqual(mt.min()))try{let r=yield tk(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(Yr.EMPTY_BYTE_STRING,d.snapshotVersion)),rk(s,c);let f=new Zh(d.target,c,l,d.sequenceNumber);xx(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield F0(n,r)}})}function F0(n,e,t){return q(this,null,function*(){if(!lf(e))throw e;n.M_.add(1),yield uf(n),n.N_.set("Offline"),t||(t=()=>tk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>q(this,null,function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield tg(n)}))})}function sk(n,e){return e().catch(t=>F0(n,t,e))}function ng(n){return q(this,null,function*(){let e=ht(n),t=Pa(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;JU(e);)try{let i=yield HU(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,ZU(e,i)}catch(i){yield F0(e,i)}ok(e)&&ak(e)})}function JU(n){return $c(n)&&n.v_.length<10}function ZU(n,e){n.v_.push(e);let t=Pa(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function ok(n){return $c(n)&&!Pa(n).Zo()&&n.v_.length>0}function ak(n){Pa(n).start()}function e8(n){return q(this,null,function*(){Pa(n).V_()})}function t8(n){return q(this,null,function*(){let e=Pa(n);for(let t of n.v_)e.d_(t.mutations)})}function n8(n,e,t){return q(this,null,function*(){let r=n.v_.shift(),i=ow.from(r,e,t);yield sk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ng(n)})}function r8(n,e){return q(this,null,function*(){e&&Pa(n).E_&&(yield function(r,i){return q(this,null,function*(){if(function(o){return wU(o)&&o!==ye.ABORTED}(i.code)){let s=r.v_.shift();Pa(r).t_(),yield sk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ng(r)}})}(n,e)),ok(n)&&ak(n)})}function hA(n,e){return q(this,null,function*(){let t=ht(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");let r=$c(t);t.M_.add(3),yield uf(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield tg(t)})}function i8(n,e){return q(this,null,function*(){let t=ht(n);e?(t.M_.delete(2),yield tg(t)):e||(t.M_.add(2),yield uf(t),t.N_.set("Unknown"))})}function Ru(n){return n.B_||(n.B_=function(t,r,i){let s=ht(t);return s.f_(),new Uw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:KU.bind(null,n),To:XU.bind(null,n),Ao:YU.bind(null,n),h_:QU.bind(null,n)}),n.x_.push(e=>q(this,null,function*(){e?(n.B_.t_(),Ex(n)?bx(n):n.N_.set("Unknown")):(yield n.B_.stop(),ik(n))}))),n.B_}function Pa(n){return n.k_||(n.k_=function(t,r,i){let s=ht(t);return s.f_(),new jw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:e8.bind(null,n),Ao:r8.bind(null,n),R_:t8.bind(null,n),A_:n8.bind(null,n)}),n.x_.push(e=>q(this,null,function*(){e?(n.k_.t_(),yield ng(n)):(yield n.k_.stop(),n.v_.length>0&&(He("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var $w=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Cx(n,e){if(Lo("AsyncQueue",`${e}: ${n}`),lf(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}var N0=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=Hh(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var L0=class{constructor(){this.q_=new Pn(Ze.comparator)}track(e){let t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):at():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}},Su=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,N0.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var qw=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Gw=class{constructor(){this.queries=new Da(e=>OA(e),J0),this.onlineState="Unknown",this.z_=new Set}};function ck(n,e){return q(this,null,function*(){let t=ht(n),r=3,i=e.query,s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new qw,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=Cx(o,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&Tx(t)})}function lk(n,e){return q(this,null,function*(){let t=ht(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function s8(n,e){let t=ht(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Tx(t)}function o8(n,e,t){let r=ht(n),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(t);r.queries.delete(e)}function Tx(n){n.z_.forEach(e=>{e.next()})}var Kw,fA;(fA=Kw||(Kw={})).J_="default",fA.Cache="cache";var V0=class{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Kw.Cache}};var B0=class{constructor(e){this.key=e}},U0=class{constructor(e){this.key=e}},Xw=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=St(),this.mutatedKeys=St(),this.Ia=MA(e),this.Ta=new N0(this.Ia)}get Ea(){return this.la}da(e,t){let r=t?t.Aa:new L0,i=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let p=i.get(d),_=Z0(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),T=!1;p&&_?p.data.isEqual(_.data)?C!==w&&(r.track({type:3,doc:_}),T=!0):this.Ra(p,_)||(r.track({type:2,doc:_}),T=!0,(c&&this.Ia(_,c)>0||l&&this.Ia(_,l)<0)&&(a=!0)):!p&&_?(r.track({type:0,doc:_}),T=!0):p&&!_&&(r.track({type:1,doc:p}),T=!0,(c||l)&&(a=!0)),T&&(_?(o=o.add(_),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(_,C){let w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return w(_)-w(C)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=t&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new Su(this.query,e.Ta,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new L0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=St(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new U0(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new B0(r))}),t}pa(e){this.la=e.hs,this.Pa=St();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Su.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Yw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Qw=class{constructor(e){this.key=e,this.wa=!1}},Jw=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Da(a=>OA(a),J0),this.Da=new Map,this.Ca=new Set,this.va=new Pn(Ze.comparator),this.Fa=new Map,this.Ma=new tf,this.xa={},this.Oa=new Map,this.Na=ef.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function a8(n,e,t=!0){return q(this,null,function*(){let r=mk(n),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield uk(r,e,t,!0),i})}function c8(n,e){return q(this,null,function*(){let t=mk(n);yield uk(t,e,!0,!1)})}function uk(n,e,t,r){return q(this,null,function*(){let i=yield $U(n.localStore,qs(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield l8(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&nk(n.remoteStore,i),a})}function l8(n,e,t,r,i){return q(this,null,function*(){n.Ba=(f,p,_)=>function(w,T,K,X){return q(this,null,function*(){let Y=T.view.da(K);Y.Xi&&(Y=yield dA(w.localStore,T.query,!1).then(({documents:D})=>T.view.da(D,Y)));let ee=X&&X.targetChanges.get(T.targetId),me=X&&X.targetMismatches.get(T.targetId)!=null,we=T.view.applyChanges(Y,w.isPrimaryClient,ee,me);return mA(w,T.targetId,we.fa),we.snapshot})}(n,f,p,_);let s=yield dA(n.localStore,e,!0),o=new Xw(e,s.hs),a=o.da(s.documents),c=Jh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);mA(n,t,l.fa);let d=new Yw(e,t,o);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),l.snapshot})}function u8(n,e,t){return q(this,null,function*(){let r=ht(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!J0(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&wx(r.remoteStore,i.targetId),Zw(r,i.targetId)}).catch(cf))):(Zw(r,i.targetId),yield Fw(r.localStore,i.targetId,!0))})}function d8(n,e){return q(this,null,function*(){let t=ht(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wx(t.remoteStore,r.targetId))})}function h8(n,e,t){return q(this,null,function*(){let r=y8(n);try{let i=yield function(o,a){let c=ht(o),l=Tr.now(),d=a.reduce((_,C)=>_.add(C.key),St()),f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Bo(),w=St();return c.os.getEntries(_,d).next(T=>{C=T,C.forEach((K,X)=>{X.isValidDocument()||(w=w.add(K))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,C)).next(T=>{f=T;let K=[];for(let X of a){let Y=yU(X,f.get(X.key).overlayedDocument);Y!=null&&K.push(new Xs(X.key,Y,SA(Y.value.mapValue),Aa.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,K,a)}).next(T=>{p=T;let K=T.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(_,T.batchId,K)})}).then(()=>({batchId:p.batchId,changes:NA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new Pn(Bt)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield df(r,i.changes),yield ng(r.remoteStore)}catch(i){let s=Cx(i,"Failed to persist write");t.reject(s)}})}function dk(n,e){return q(this,null,function*(){let t=ht(n);try{let r=yield WU(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Fa.get(s);o&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?un(o.wa):i.removedDocuments.size>0&&(un(o.wa),o.wa=!1))}),yield df(t,r,e)}catch(r){yield cf(r)}})}function pA(n,e,t){let r=ht(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ht(o);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let p of f.U_)p.j_(a)&&(l=!0)}),l&&Tx(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f8(n,e,t){return q(this,null,function*(){let r=ht(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Pn(Ze.comparator);o=o.insert(s,fs.newNoDocument(s,mt.min()));let a=St().add(s),c=new T0(mt.min(),new Map,new Pn(Bt),o,a);yield dk(r,c),r.va=r.va.remove(s),r.Fa.delete(e),Sx(r)}else yield Fw(r.localStore,e,!1).then(()=>Zw(r,e,t)).catch(cf)})}function p8(n,e){return q(this,null,function*(){let t=ht(n),r=e.batch.batchId;try{let i=yield jU(t.localStore,e);fk(t,r,null),hk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield df(t,i)}catch(i){yield cf(i)}})}function m8(n,e,t){return q(this,null,function*(){let r=ht(n);try{let i=yield function(o,a){let c=ht(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(un(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);fk(r,e,t),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield df(r,i)}catch(i){yield cf(i)}})}function hk(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function fk(n,e,t){let r=ht(n),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Zw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||pk(n,r)})}function pk(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(wx(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),Sx(n))}function mA(n,e,t){for(let r of t)r instanceof B0?(n.Ma.addReference(r.key,e),g8(n,r)):r instanceof U0?(He("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||pk(n,r.key)):at()}function g8(n,e){let t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(He("SyncEngine","New document in limbo: "+t),n.Ca.add(r),Sx(n))}function Sx(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new Ze(Tn.fromString(e)),r=n.Na.next();n.Fa.set(r,new Qw(t)),n.va=n.va.insert(t,r),nk(n.remoteStore,new Zh(qs(vx(t.path)),r,"TargetPurposeLimboResolution",EA.oe))}}function df(n,e,t){return q(this,null,function*(){let r=ht(n),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Dw.Ki(c.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,l){return q(this,null,function*(){let d=ht(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Se.forEach(l,p=>Se.forEach(p.qi,_=>d.persistence.referenceDelegate.addReference(f,p.targetId,_)).next(()=>Se.forEach(p.Qi,_=>d.persistence.referenceDelegate.removeReference(f,p.targetId,_)))))}catch(f){if(!lf(f))throw f;He("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let p=f.targetId;if(!f.fromCache){let _=d.ns.get(p),C=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(C);d.ns=d.ns.insert(p,w)}}})}(r.localStore,s))})}function _8(n,e){return q(this,null,function*(){let t=ht(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());let r=yield ek(t.localStore,e);t.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new je(ye.CANCELLED,o))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield df(t,r.us)}})}function v8(n,e){let t=ht(n),r=t.Fa.get(e);if(r&&r.wa)return St().add(r.key);{let i=St(),s=t.Da.get(e);if(!s)return i;for(let o of s){let a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function mk(n){let e=ht(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f8.bind(null,e),e.Sa.h_=s8.bind(null,e.eventManager),e.Sa.ka=o8.bind(null,e.eventManager),e}function y8(n){let e=ht(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m8.bind(null,e),e}var j0=class{constructor(){this.synchronizeTabs=!1}initialize(e){return q(this,null,function*(){this.serializer=eg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return UU(this.persistence,new Ow,e.initialUser,this.serializer)}createPersistence(e){return new Aw(Rw.Hr,this.serializer)}createSharedClientState(e){return new Nw}terminate(){return q(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ex=class{initialize(e,t){return q(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_8.bind(null,this.syncEngine),yield i8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Gw}()}createDatastore(e){let t=eg(e.databaseInfo.databaseId),r=function(s){return new Bw(s)}(e.databaseInfo);return function(s,o,a,c){return new Ww(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Hw(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>pA(this.syncEngine,t,0),function(){return P0.D()?new P0:new Lw}())}createSyncEngine(e,t){return function(i,s,o,a,c,l,d){let f=new Jw(i,s,o,a,c,l);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return q(this,null,function*(){var e;yield function(r){return q(this,null,function*(){let i=ht(r);He("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield uf(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var W0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Lo("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var tx=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>q(this,null,function*(){He("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(He("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>q(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Cx(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function P1(n,e){return q(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>q(this,null,function*(){r.isEqual(i)||(yield ek(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function gA(n,e){return q(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield x8(n);He("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hA(e.remoteStore,i)),n._onlineComponents=e})}function w8(n){return n.name==="FirebaseError"?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function x8(n){return q(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield P1(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!w8(t))throw t;gu("Error using user provided cache. Falling back to memory cache: "+t),yield P1(n,new j0)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield P1(n,new j0);return n._offlineComponents})}function gk(n){return q(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield gA(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield gA(n,new ex))),n._onlineComponents})}function b8(n){return gk(n).then(e=>e.syncEngine)}function nx(n){return q(this,null,function*(){let e=yield gk(n),t=e.eventManager;return t.onListen=a8.bind(null,e.syncEngine),t.onUnlisten=u8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d8.bind(null,e.syncEngine),t})}function E8(n,e,t={}){let r=new Hs;return n.asyncQueue.enqueueAndForget(()=>q(this,null,function*(){return function(s,o,a,c,l){let d=new W0({next:p=>{o.enqueueAndForget(()=>lk(s,f)),p.fromCache&&c.source==="server"?l.reject(new je(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),f=new V0(a,d,{includeMetadataChanges:!0,ra:!0});return ck(s,f)}(yield nx(n),n.asyncQueue,e,t,r)})),r.promise}function _k(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var _A=new Map;function vk(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C8(n,e,t,r){if(e===!0&&r===!0)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vA(n){if(!Ze.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yA(n){if(Ze.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at()}function No(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=rg(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var z0=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Iu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O1;switch(r.type){case"firstParty":return new L1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=_A.get(t);r&&(He("ComponentProvider","Removing Datastore"),_A.delete(t),r.terminate())}(this),Promise.resolve()}};function yk(n,e,t,r={}){var i;let s=(n=No(n,Iu))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=hr.MOCK_USER;else{a=Zl(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new hr(l)}n._authCredentials=new M1(new _0(a,c))}}var zc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},di=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ka=class n extends zc{constructor(e,t,r){super(e,t,vx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new Ze(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function wk(n,e,...t){if(n=Kt(n),vk("collection","path",e),n instanceof Iu){let r=Tn.fromString(e,...t);return yA(r),new ka(n,null,r)}{if(!(n instanceof di||n instanceof ka))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Tn.fromString(e,...t));return yA(r),new ka(n.firestore,null,r)}}function Ix(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=v0.newId()),vk("doc","path",e),n instanceof Iu){let r=Tn.fromString(e,...t);return vA(r),new di(n,null,new Ze(r))}{if(!(n instanceof di||n instanceof ka))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Tn.fromString(e,...t));return vA(r),new di(n.firestore,n instanceof ka?n.converter:null,new Ze(r))}}var rx=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new O0(this,"async_queue_retry"),this.hu=()=>{let t=D1();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=D1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=D1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new Hs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return q(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!lf(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Lo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let i=$w.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&at()}verifyOperationInProgress(){}du(){return q(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function wA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Oa=class extends Iu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new rx}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bk(this),this._firestoreClient.terminate()}};function xk(n,e){let t=typeof n=="object"?n:Vs(),r=typeof n=="string"?n:e||"(default)",i=Eo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Jl("firestore");s&&yk(i,...s)}return i}function Ax(n){return n._firestoreClient||bk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bk(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,l,d){return new W1(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_k(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new tx(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var nf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Yr.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Au=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rf=class{constructor(e){this._methodName=e}};var sf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}};var T8=/^__.*__$/,ix=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}},H0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}var sx=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return q0(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Ek(this.fu)&&T8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},ox=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||eg(e)}Fu(e,t,r,i=!1){return new sx({fu:e,methodName:t,vu:r,path:Ti.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kx(n){let e=n._freezeSettings(),t=eg(n._databaseId);return new ox(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S8(n,e,t,r,i,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);Rx("Data must be an object, but it was:",o,r);let a=Ck(r,o),c,l;if(s.merge)c=new Hi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let p=ax(e,f,t);if(!o.contains(p))throw new je(ye.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Sk(d,p)||d.push(p)}c=new Hi(d),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new ix(new Ci(a),c,l)}var $0=class n extends rf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function I8(n,e,t,r){let i=n.Fu(1,e,t);Rx("Data must be an object, but it was:",i,r);let s=[],o=Ci.empty();Hc(r,(c,l)=>{let d=Dx(e,c,t);l=Kt(l);let f=i.Su(d);if(l instanceof $0)s.push(d);else{let p=hf(l,f);p!=null&&(s.push(d),o.set(d,p))}});let a=new Hi(s);return new H0(o,a,i.fieldTransforms)}function A8(n,e,t,r,i,s){let o=n.Fu(1,e,t),a=[ax(e,r,t)],c=[i];if(s.length%2!=0)throw new je(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(ax(e,s[p])),c.push(s[p+1]);let l=[],d=Ci.empty();for(let p=a.length-1;p>=0;--p)if(!Sk(l,a[p])){let _=a[p],C=c[p];C=Kt(C);let w=o.Su(_);if(C instanceof $0)l.push(_);else{let T=hf(C,w);T!=null&&(l.push(_),d.set(_,T))}}let f=new Hi(l);return new H0(d,f,o.fieldTransforms)}function k8(n,e,t,r=!1){return hf(t,n.Fu(r?4:3,e))}function hf(n,e){if(Tk(n=Kt(n)))return Rx("Unsupported field value:",e,n),Ck(n,e);if(n instanceof rf)return function(r,i){if(!Ek(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=hf(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Tr.fromDate(r);return{timestampValue:k0(i.serializer,s)}}if(r instanceof Tr){let s=new Tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:k0(i.serializer,s)}}if(r instanceof sf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nf)return{bytesValue:GA(i.serializer,r._byteString)};if(r instanceof di){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yx(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${rg(r)}`)}(n,e)}function Ck(n,e){let t={};return CA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hc(n,(r,i)=>{let s=hf(i,e.pu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Tk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tr||n instanceof sf||n instanceof nf||n instanceof di||n instanceof rf)}function Rx(n,e,t){if(!Tk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=rg(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function ax(n,e,t){if((e=Kt(e))instanceof Au)return e._internalPath;if(typeof e=="string")return Dx(n,e);throw q0("Field path arguments must be of type string or ",n,!1,void 0,t)}var R8=new RegExp("[~\\*/\\[\\]]");function Dx(n,e,t){if(e.search(R8)>=0)throw q0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch{throw q0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function q0(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new je(ye.INVALID_ARGUMENT,a+n+c)}function Sk(n,e){return n.some(t=>t.isEqual(e))}var G0=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Px("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cx=class extends G0{data(){return super.data()}};function Px(n,e){return typeof e=="string"?Dx(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}function Ik(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new je(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var of=class{},lx=class extends of{};function Ak(n,e,...t){let r=[];e instanceof of&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof ux).length,a=s.filter(c=>c instanceof K0).length;if(o>1||o>0&&a>0)throw new je(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var K0=class n extends lx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Rk(e._query,t),new zc(e.firestore,e.converter,tw(e._query,t))}_parse(e){let t=kx(e.firestore);return function(s,o,a,c,l,d,f){let p;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new je(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bA(f,d);let _=[];for(let C of f)_.push(xA(c,s,C));p={arrayValue:{values:_}}}else p=xA(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bA(f,d),p=k8(a,o,f,d==="in"||d==="not-in");return Kn.create(l,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function kk(n,e,t){let r=e,i=Px("where",n);return K0._create(i,r,t)}var ux=class n extends of{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ps.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Rk(o,c),o=tw(o,c)}(e._query,t),new zc(e.firestore,e.converter,tw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function xA(n,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new je(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PA(e)&&t.indexOf("/")!==-1)throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Tn.fromString(t));if(!Ze.isDocumentKey(r))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K2(n,new Ze(r))}if(t instanceof di)return K2(n,t._key);throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(t)}.`)}function bA(n,e){if(!Array.isArray(n)||n.length===0)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rk(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new je(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var dx=class{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Hc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new sf(Dn(e.latitude),Dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=px(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){let t=Vo(e);return new Tr(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Tn.fromString(e);un(ZA(r));let i=new b0(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(t)||Lo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function D8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Fc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},X0=class extends G0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Px("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},mu=class extends X0{data(e={}){return super.data(e)}},Y0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mu(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:P8(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function P8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}var af=class extends dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new nf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}};function Dk(n){n=No(n,zc);let e=No(n.firestore,Oa),t=Ax(e),r=new af(e);return Ik(n._query),E8(t,n._query).then(i=>new Y0(e,r,n,i))}function Pk(n,e,t,...r){n=No(n,di);let i=No(n.firestore,Oa),s=kx(i),o;return o=typeof(e=Kt(e))=="string"||e instanceof Au?A8(s,"updateDoc",n._key,e,t,r):I8(s,"updateDoc",n._key,e),Mk(i,[o.toMutation(n._key,Aa.exists(!0))])}function Ok(n,e){let t=No(n.firestore,Oa),r=Ix(n),i=D8(n.converter,e);return Mk(t,[S8(kx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Aa.exists(!1))]).then(()=>r)}function Ox(n,...e){var t,r,i;n=Kt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wA(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof di)l=No(n.firestore,Oa),d=vx(n._key.path),c={next:f=>{e[o]&&e[o](O8(l,n,f))},error:e[o+1],complete:e[o+2]};else{let f=No(n,zc);l=No(f.firestore,Oa),d=f._query;let p=new af(l);c={next:_=>{e[o]&&e[o](new Y0(l,p,f,_))},error:e[o+1],complete:e[o+2]},Ik(n._query)}return function(p,_,C,w){let T=new W0(w),K=new V0(_,T,C);return p.asyncQueue.enqueueAndForget(()=>q(this,null,function*(){return ck(yield nx(p),K)})),()=>{T.$a(),p.asyncQueue.enqueueAndForget(()=>q(this,null,function*(){return lk(yield nx(p),K)}))}}(Ax(l),d,a,c)}function Mk(n,e){return function(r,i){let s=new Hs;return r.asyncQueue.enqueueAndForget(()=>q(this,null,function*(){return h8(yield b8(r),i,s)})),s.promise}(Ax(n),e)}function O8(n,e,t){let r=t.docs.get(e._key),i=new af(n);return new X0(n,i,e._key,r,new Fc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ku=i})(Wi),ji(new Nr("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Oa(new F1(r.getProvider("auth-internal")),new B1(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new b0(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nn($2,"4.6.4",e),nn($2,"4.6.4","esm2017")})();var ig=function(){return ig=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ig.apply(this,arguments)};var L8={includeMetadataChanges:!1};function Fk(n,e){return e===void 0&&(e=L8),new oi(function(t){var r=Ox(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Nk(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:ig(ig({},r),(t={},t[e.idField]=n.id,t))}function Lk(n){return Fk(n,{includeMetadataChanges:!0}).pipe(xt(function(e){return e.docs}))}function Vk(n,e){return e===void 0&&(e={}),Lk(n).pipe(xt(function(t){return t.map(function(r){return Nk(r,e)})}))}var Sn=class{constructor(e){return e}},Bk="firestore",Mx=class{constructor(){return va(Bk)}};var Fx=new et("angularfire2.firestore-instances");function V8(n,e){let t=Cc(Bk,n,e);return t&&new Sn(t)}function B8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sn(r)}}var U8={provide:Mx,deps:[[new tr,Fx]]},j8={provide:Sn,useFactory:V8,deps:[[new tr,Fx],ds]};function Uk(n,...e){return nn("angularfire",Bs.full,"fst"),yi([j8,U8,{provide:Fx,useFactory:B8(n),multi:!0,deps:[st,cr,To,So,[new tr,Rc],[new tr,Co],...e]}])}var $i=xn(Vk,!0);var Qr=xn(Ok,!0);var Xt=xn(wk,!0);var qc=xn(Ix,!0);var Nx=xn(Dk,!0);var Ma=xn(xk,!0);var Lx=xn(Ak,!0);var Gc=xn(Pk,!0);var Vx=xn(kk,!0);var fr=(()=>{class n{firestore;updateUsuario(t,r){let i=qc(this.firestore,"Usuarios",t);return Gc(i,{aprobado:r})}constructor(t){this.firestore=t,this.firestore=Ma()}getUsuarios(){let t=Xt(this.firestore,"Usuarios");return $i(t,{idField:"id"})}getUsuarioEmail(t){return q(this,null,function*(){try{let r=Xt(this.firestore,"Usuarios"),i=Lx(r,Vx("email","==",t)),s=yield Nx(i);return s.empty?(console.log("No user found with the provided email."),null):s.docs[0].data()}catch(r){throw console.error("Error getting user by email:",r),r}})}getUsuariosPorTipo(t){let r=Xt(this.firestore,"Usuarios"),i=Lx(r,Vx("tipo","==",t));return new oi(s=>{Nx(i).then(o=>{let a=o.docs.map(c=>Ae({id:c.id},c.data()));s.next(a),s.complete()}).catch(o=>{s.error(o)})})}guardarLogLogin(t){return q(this,null,function*(){let r=Xt(this.firestore,"login");yield Qr(r,{email:t,fecha:new Date})})}getLogData(){let t=Xt(this.firestore,"login");return $i(t,{idField:"id"})}static \u0275fac=function(r){return new(r||n)(be(Sn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function W8(n,e){n&1&&(y(0,"small"),O(1,"El email es requerida."),v())}function z8(n,e){n&1&&(y(0,"small"),O(1,"Debe ser formato Corre Electronico"),v())}function H8(n,e){if(n&1&&(y(0,"div",30),se(1,W8,2,0,"small",16)(2,z8,2,0,"small",16),v()),n&2){let t,r,i=G();S(),W("ngIf",(t=i.formRegistro.get("usuario"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("usuario"))==null||r.errors==null?null:r.errors.email)}}function $8(n,e){n&1&&(y(0,"small"),O(1,"La contrase\xF1a es requerida."),v())}function q8(n,e){n&1&&(y(0,"small"),O(1,"Debe tener al menos 6 caracteres"),v())}function G8(n,e){if(n&1&&(y(0,"div",30),se(1,$8,2,0,"small",16)(2,q8,2,0,"small",16),v()),n&2){let t,r,i=G();S(),W("ngIf",(t=i.formRegistro.get("pass"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("pass"))==null||r.errors==null?null:r.errors.minlength)}}function K8(n,e){if(n&1){let t=Fe();y(0,"div",31),pe(1,"br"),y(2,"button",32),ge("click",function(){le(t);let i=G();return ue(i.entrar())}),O(3,"Ingresar"),v()()}}function X8(n,e){if(n&1&&(y(0,"div")(1,"div",33)(2,"div",34),O(3),v()()()),n&2){let t=G();S(2),ha(t.clase),vo("width",t.ProgresoDeAncho),S(),Mr(" ",t.progresoMensaje," - ",t.progreso,"% ")}}function Y8(n,e){if(n&1){let t=Fe();y(0,"div",1)(1,"button",35),ge("click",function(){le(t);let i=G();return ue(i.borrar())}),O(2,"Cancelar"),v(),y(3,"button",36),O(4,"Registrarse"),v()()}}var jk=(()=>{class n{router;authService;firestore;fb;firebase;userData;tipoUser;user={email:"",password:""};Mensaje;semuestra;progreso;progresoMensaje="esperando...";logeando=!0;logueado;ProgresoDeAncho;formRegistro;clase="progress-bar progress-bar-info progress-bar-striped ";subscription;constructor(t,r,i,s,o){this.router=t,this.authService=r,this.firestore=i,this.fb=s,this.firebase=o,this.progreso=0,this.ProgresoDeAncho="0%",sessionStorage.getItem("user")==null?this.logueado=!1:this.logueado=!0,this.formRegistro=this.fb.group({usuario:["",[Ve.required,Ve.email]],pass:["",[Ve.required,Ve.minLength(6)]]})}ngOnInit(){sessionStorage.clear()}entrar(){return q(this,null,function*(){if(this.formRegistro.valid){let t=this.authService.login(this.user.email,this.user.password);this.MoverBarraDeProgreso(),(yield t)?(yield new Promise(r=>setTimeout(r,2500)),sessionStorage.setItem("user",this.user.email),sessionStorage.setItem("muestra","true"),this.firebase.guardarLogLogin(this.user.email)):(this.MostarMensaje("Usuario o Clave incorrectos",!0),this.borrar(),this.logeando=!0)}})}MoverBarraDeProgreso(){this.progreso=0,this.ProgresoDeAncho="0%",this.logeando=!1,this.clase="progress-bar progress-bar-danger progress-bar-striped active",this.progresoMensaje="Iniciando comprobacion";let t=ca(30);this.subscription=t.subscribe(r=>{switch(this.progreso=this.progreso+1,this.ProgresoDeAncho=this.progreso+15+"%",this.progreso){case 15:this.clase="progress-bar progress-bar-warning progress-bar-striped active",this.progresoMensaje="Verificando Usuario...";break;case 30:this.clase="progress-bar progress-bar-Info progress-bar-striped active",this.progresoMensaje="Verificando contrase\xF1a..";break;case 60:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando Info del dispositivo..";break;case 75:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Desencriptacion de clave ..";break;case 85:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Clave ok, ingresando..";break;case 100:console.log("final"),this.subscription.unsubscribe();break}})}borrar(){this.user.email="",this.user.password=""}MostarMensaje(t,r){this.Mensaje=t;var i=document.getElementById("snackbar");r&&(i.className="show Ganador");var s=this;setTimeout(function(){i.className=i.className.replace("show","")},3500)}autoComplete(t,r){this.formRegistro.setValue({usuario:t,pass:r})}mostrarFoto(t){return q(this,null,function*(){yield this.firebase.getUsuarioEmail(t).then(r=>r?.foto1)})}static \u0275fac=function(r){return new(r||n)(de(Cr),de(Ws),de(Sn),de(Ta),de(fr))};static \u0275cmp=tt({type:n,selectors:[["app-login"]],standalone:!0,features:[nt],decls:54,vars:9,consts:[[1,"fondo"],[1,"container"],[1,"d-flex",2,"margin-top","8%"],[1,"card","col-md-6","mt-5"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"input-group","form-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["type","text","placeholder","Usuario","name","uname","formControlName","usuario",1,"form-control",3,"ngModelChange","ngModel"],["class","validacion",4,"ngIf"],[1,"fa","fa-key"],["type","password","placeholder","Clave","name","psw","formControlName","pass",1,"form-control",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"col-md-6","mt-5",2,"margin-left","20%"],[1,"mt-5"],[1,"d-flex","flex-row"],[1,"d-inline-block"],[1,"btn","btn-outline","square-button",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/pacientes%2F%C2%A1Increible-Susana-Gimenez-regresa-a-la-television-y-revela-detalles-exclusivos.jpg?alt=media&token=5ca8f684-3cde-4336-b59c-87307e5dc0c8","alt","",1,"foto","paciente-btn"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/pacientes%2F1677619311348.jpg?alt=media&token=9885f1bb-12cc-48d4-91e4-0bca4d0a1644","alt","",1,"foto","paciente-btn"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/pacientes%2Falberto1.jpg?alt=media&token=80f901c1-74aa-4767-901f-edd529f27ccd","alt","",1,"foto","paciente-btn"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/especialistas%2Fdassad_400x400.jpg?alt=media&token=18424970-fed4-40e7-91fc-7e9a5384bcb2","alt","",1,"foto","especialista-btn"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/especialistas%2F1366_2000.jpeg?alt=media&token=225728e8-579b-4c2c-ade4-072a4a82843a","alt","",1,"foto","especialista-btn"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-22442.appspot.com/o/especialistas%2F318184722_169463255708064_6801540025908267373_n.jpg?alt=media&token=0da9a166-890c-45bf-8638-4b93c1cad377","alt","",1,"foto","admin-btn"],["id","snackbar"],[1,"validacion"],[1,"form-group"],[1,"btn","btn-primary",3,"click"],[1,"progress"],["role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped","active"],["type","button",1,"cancelbtn",3,"click"],["type","button","routerLink","/registro",1,"aceptbtn"]],template:function(r,i){if(r&1&&(pe(0,"app-cabecera"),y(1,"body")(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h3"),O(8,"Ingreso"),v(),y(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"span",9),pe(14,"i",10),v()(),y(15,"input",11),Qe("ngModelChange",function(o){return Ye(i.user.email,o)||(i.user.email=o),o}),v(),se(16,H8,3,2,"div",12),v(),y(17,"div",7)(18,"div",8)(19,"span",9),pe(20,"i",13),v()(),y(21,"input",14),Qe("ngModelChange",function(o){return Ye(i.user.password,o)||(i.user.password=o),o}),v(),se(22,G8,3,2,"div",12)(23,K8,4,0,"div",15),v(),se(24,X8,4,6,"div",16)(25,Y8,5,0,"div",17),v()()()(),y(26,"div",18)(27,"h2",19),O(28,"Accesos R\xE1pidos"),v(),y(29,"div",20)(30,"div",21)(31,"h5"),O(32,"Pacientes"),v(),y(33,"div",22),ge("click",function(){return i.autoComplete("kobrolexobru-1395@yopmail.com","123456")}),pe(34,"img",23),v(),y(35,"div",22),ge("click",function(){return i.autoComplete("xausibeiweme-1448@yopmail.com","999999")}),pe(36,"img",24),v(),y(37,"div",22),ge("click",function(){return i.autoComplete("prousajeuppoddo-8188@yopmail.com","123456")}),pe(38,"img",25),v()(),y(39,"div",21)(40,"h5"),O(41,"Especialistas"),v(),y(42,"div",22),ge("click",function(){return i.autoComplete("touppoibrouquotrou-9644@yopmail.com","123123")}),pe(43,"img",26),v(),y(44,"div",22),ge("click",function(){return i.autoComplete("joibrofounihe-6605@yopmail.com","123123")}),pe(45,"img",27),v()(),y(46,"div",21)(47,"h5"),O(48,"Administrador"),v(),y(49,"div",22),ge("click",function(){return i.autoComplete("racejihoibrei-1918@yopmail.com","111111")}),pe(50,"img",28),v()()()(),y(51,"div")(52,"div",29),O(53),v()()()()()()),r&2){let s,o;S(10),W("formGroup",i.formRegistro),S(5),Xe("ngModel",i.user.email),S(),W("ngIf",(s=i.formRegistro.get("usuario"))==null?null:s.invalid),S(5),Xe("ngModel",i.user.password),S(),W("ngIf",(o=i.formRegistro.get("pass"))==null?null:o.invalid),S(),W("ngIf",i.logeando),S(),W("ngIf",!i.logeando),S(),W("ngIf",i.logeando),S(28),Ke(i.Mensaje)}},dependencies:[dr,_t,ln,zi,Ca,li,ui,Ea,hs,Mo,Dt],styles:['.fondo[_ngcontent-%COMP%]{display:inline-flex;background:url("./media/slider-bg-2-7UI2L5W4.jpg");width:100%;height:100%}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#064b06;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:hover{opacity:.8}.cancelbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#f44336;float:right}.aceptbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#3664f4}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}span.psw[_ngcontent-%COMP%]{float:right;padding-top:16px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;height:100%;font-family:Numans,sans-serif}.container[_ngcontent-%COMP%]{height:100%}.card[_ngcontent-%COMP%]{height:390px;margin-top:auto;margin-bottom:auto;width:450px;background-color:#00000080!important;display:inline-table}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50px;background-color:#ffc312;color:#fff;border:0!important}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;margin-left:-125px;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px;font-size:17px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#6e2f05;color:#fff}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}img[_ngcontent-%COMP%]{height:100px;margin-bottom:20px}.invalid-feedback[_ngcontent-%COMP%]{padding:0;margin:0}.position[_ngcontent-%COMP%]{position:relative;width:100%}span[_ngcontent-%COMP%]{margin:10px}.d-inline-block[_ngcontent-%COMP%]{width:160px}.btn-outline[_ngcontent-%COMP%]{height:85px;width:85px;margin-bottom:10px;display:flex;align-items:center;justify-content:center}.paciente-btn[_ngcontent-%COMP%]{border:2px solid rgb(182,11,11)}.especialista-btn[_ngcontent-%COMP%]{border:2px solid green}.admin-btn[_ngcontent-%COMP%]{border:2px solid purple}.foto[_ngcontent-%COMP%]{margin-top:15px;height:70px;width:70px;border-radius:5px;box-shadow:10px 10px 10px #000000bf;-webkit-box-shadow:10px 10px 10px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 10px 0px rgba(0,0,0,.75)}.foto[_ngcontent-%COMP%]:hover{transition:all .5s;transform:scale(1.5)}.validacion[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:15px}']})}return n})();var Fa=class{id;nombre;apellido;edad;dni;email;img_1;pass};var Na=class extends Fa{obraSocial;imagen2;tipo="paciente";aprobado=!0};var Kk="firebasestorage.googleapis.com",Xk="storageBucket",Q8=2*60*1e3,J8=10*60*1e3;var On=class n extends Xr{constructor(e,t,r=0){super(Bx(e),`Firebase Storage: ${t} (${Bx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Bn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Bn||{});function Bx(n){return"storage/"+n}function $x(){let n="An unknown error occurred, please check the error payload for server response.";return new On(Bn.UNKNOWN,n)}function Z8(n){return new On(Bn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function e9(n){return new On(Bn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t9(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new On(Bn.UNAUTHENTICATED,n)}function n9(){return new On(Bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r9(n){return new On(Bn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function i9(){return new On(Bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new On(Bn.CANCELED,"User canceled the upload/download.")}function o9(n){return new On(Bn.INVALID_URL,"Invalid URL '"+n+"'.")}function a9(n){return new On(Bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function c9(){return new On(Bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xk+"' property when initializing the app?")}function l9(){return new On(Bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u9(){return new On(Bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d9(n){return new On(Bn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ux(n){return new On(Bn.INVALID_ARGUMENT,n)}function Yk(){return new On(Bn.APP_DELETED,"The Firebase app was deleted.")}function h9(n){return new On(Bn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pf(n,e){return new On(Bn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ff(n){throw new On(Bn.INTERNAL_ERROR,"Internal error: "+n)}var ms=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw a9(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(ee){ee.path_=decodeURIComponent(ee.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),C={bucket:1,path:3},w=t===Kk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",K=new RegExp(`^https?://${w}/${i}/${T}`,"i"),Y=[{regex:a,indices:c,postModify:s},{regex:_,indices:C,postModify:l},{regex:K,indices:{bucket:1,path:2},postModify:l}];for(let ee=0;ee<Y.length;ee++){let me=Y[ee],we=me.regex.exec(e);if(we){let D=we[me.indices.bucket],A=we[me.indices.path];A||(A=""),r=new n(D,A),me.postModify(r);break}}if(r==null)throw o9(e);return r}},jx=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function f9(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function d(...T){l||(l=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,n(_,c())},T)}function p(){s&&clearTimeout(s)}function _(T,...K){if(l){p();return}if(T){p(),d.call(null,T,...K);return}if(c()||o){p(),d.call(null,T,...K);return}r<64&&(r*=2);let Y;a===1?(a=2,Y=0):Y=(r+Math.random())*1e3,f(Y)}let C=!1;function w(T){C||(C=!0,p(),!l&&(i!==null?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},t),w}function p9(n){n(!1)}function m9(n){return n!==void 0}function g9(n){return typeof n=="object"&&!Array.isArray(n)}function qx(n){return typeof n=="string"||n instanceof String}function Wk(n){return Gx()&&n instanceof Blob}function Gx(){return typeof Blob<"u"}function zk(n,e,t,r){if(r<e)throw Ux(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ux(`Invalid value for '${n}'. Expected ${t} or less.`)}function Kx(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Qk(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Pu=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Pu||{});function _9(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var Wx=class{constructor(e,t,r,i,s,o,a,c,l,d,f,p=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,C)=>{this.resolve_=_,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Du(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Pu.NO_ERROR,c=s.getStatus();if(!a||_9(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Pu.ABORT;r(!1,new Du(!1,null,d));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Du(l,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());m9(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=$x();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?Yk():s9();o(c)}else{let c=i9();o(c)}};this.canceled_?t(!1,new Du(!1,null,!0)):this.backoffId_=f9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Du=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function v9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function y9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function x9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function b9(n,e,t,r,i,s,o=!0){let a=Qk(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return w9(l,e),v9(l,t),y9(l,s),x9(l,r),new Wx(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function E9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C9(...n){let e=E9();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Gx())return new Blob(n);throw new On(Bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function S9(n){if(typeof atob>"u")throw d9("base-64");return atob(n)}var Ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mf=class{constructor(e,t){this.data=e,this.contentType=t||null}};function I9(n,e){switch(n){case Ys.RAW:return new mf(Jk(e));case Ys.BASE64:case Ys.BASE64URL:return new mf(Zk(n,e));case Ys.DATA_URL:return new mf(k9(e),R9(e))}throw $x()}function Jk(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function A9(n){let e;try{e=decodeURIComponent(n)}catch{throw pf(Ys.DATA_URL,"Malformed data URL.")}return Jk(e)}function Zk(n,e){switch(n){case Ys.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw pf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ys.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw pf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=S9(e)}catch(i){throw i.message.includes("polyfill")?i:pf(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var og=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw pf(Ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=D9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function k9(n){let e=new og(n);return e.base64?Zk(Ys.BASE64,e.rest):A9(e.rest)}function R9(n){return new og(n).contentType}function D9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var ag=class n{constructor(e,t){let r=0,i="";Wk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wk(this.data_)){let r=this.data_,i=T9(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(Gx()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(C9.apply(null,t))}else{let t=e.map(o=>qx(o)?I9(Ys.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function eR(n){let e;try{e=JSON.parse(n)}catch{return null}return g9(e)?e:null}function P9(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function O9(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function tR(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function M9(n,e){return e}var Sr=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||M9}},sg=null;function F9(n){return!qx(n)||n.length<2?n:tR(n)}function nR(){if(sg)return sg;let n=[];n.push(new Sr("bucket")),n.push(new Sr("generation")),n.push(new Sr("metageneration")),n.push(new Sr("name","fullPath",!0));function e(s,o){return F9(o)}let t=new Sr("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new Sr("size");return i.xform=r,n.push(i),n.push(new Sr("timeCreated")),n.push(new Sr("updated")),n.push(new Sr("md5Hash",null,!0)),n.push(new Sr("cacheControl",null,!0)),n.push(new Sr("contentDisposition",null,!0)),n.push(new Sr("contentEncoding",null,!0)),n.push(new Sr("contentLanguage",null,!0)),n.push(new Sr("contentType",null,!0)),n.push(new Sr("metadata","customMetadata",!0)),sg=n,sg}function N9(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new ms(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function L9(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return N9(r,n),r}function rR(n,e,t){let r=eR(e);return r===null?null:L9(n,r,t)}function V9(n,e,t,r){let i=eR(e);if(i===null||!qx(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let d=n.bucket,f=n.fullPath,p="/b/"+o(d)+"/o/"+o(f),_=Kx(p,t,r),C=Qk({alt:"media",token:l});return _+C})[0]}function B9(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var cg=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function iR(n){if(!n)throw $x()}function U9(n,e){function t(r,i){let s=rR(n,i,e);return iR(s!==null),s}return t}function j9(n,e){function t(r,i){let s=rR(n,i,e);return iR(s!==null),V9(s,i,n.host,n._protocol)}return t}function sR(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=n9():i=t9():t.getStatus()===402?i=e9(n.bucket):t.getStatus()===403?i=r9(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function W9(n){let e=sR(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Z8(n.path)),s.serverResponse=i.serverResponse,s}return t}function z9(n,e,t){let r=e.fullServerUrl(),i=Kx(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new cg(i,s,j9(n,t),o);return a.errorHandler=W9(e),a}function H9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $9(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=H9(null,e)),r}function q9(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let Y="";for(let ee=0;ee<2;ee++)Y=Y+Math.random().toString().slice(2);return Y}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=$9(e,r,i),d=B9(l,t),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,p=`\r
--`+c+"--",_=ag.getBlob(f,r,p);if(_===null)throw l9();let C={name:l.fullPath},w=Kx(s,n.host,n._protocol),T="POST",K=n.maxUploadRetryTime,X=new cg(w,T,U9(n,t),K);return X.urlParams=C,X.headers=o,X.body=_.uploadData(),X.errorHandler=sR(e),X}var rae=256*1024;var Hk=null,zx=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ff("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ff("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ff("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ff("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ff("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Hx=class extends zx{initXhr(){this.xhr_.responseType="text"}};function oR(){return Hk?Hk():new Hx}var Ou=class n{constructor(e,t){this._service=e,t instanceof ms?this._location=t:this._location=ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tR(this._location.path)}get storage(){return this._service}get parent(){let e=P9(this._location.path);if(e===null)return null;let t=new ms(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw h9(e)}};function G9(n,e,t){n._throwIfRoot("uploadBytes");let r=q9(n.storage,n._location,nR(),new ag(e,!0),t);return n.storage.makeRequestWithTokens(r,oR).then(i=>({metadata:i,ref:n}))}function K9(n){n._throwIfRoot("getDownloadURL");let e=z9(n.storage,n._location,nR());return n.storage.makeRequestWithTokens(e,oR).then(t=>{if(t===null)throw u9();return t})}function X9(n,e){let t=O9(n._location.path,e),r=new ms(n._location.bucket,t);return new Ou(n.storage,r)}function Y9(n){return/^[A-Za-z]+:\/\//.test(n)}function Q9(n,e){return new Ou(n,e)}function aR(n,e){if(n instanceof gf){let t=n;if(t._bucket==null)throw c9();let r=new Ou(t,t._bucket);return e!=null?aR(r,e):r}else return e!==void 0?X9(n,e):n}function J9(n,e){if(e&&Y9(e)){if(n instanceof gf)return Q9(n,e);throw Ux("To use ref(service, url), the first argument must be a Storage instance.")}else return aR(n,e)}function $k(n,e){let t=e?.[Xk];return t==null?null:ms.makeFromBucketSpec(t,n)}function Z9(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Zl(i,n.app.options.projectId))}var gf=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Kk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q8,this._maxUploadRetryTime=J8,this._requests=new Set,i!=null?this._bucket=ms.makeFromBucketSpec(i,this._host):this._bucket=$k(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=$k(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return q(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return q(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ou(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new jx(Yk());{let o=b9(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return q(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},qk="@firebase/storage",Gk="0.12.6";var cR="storage";function lR(n,e,t){return n=Kt(n),G9(n,e,t)}function uR(n){return n=Kt(n),K9(n)}function dR(n,e){return n=Kt(n),J9(n,e)}function hR(n=Vs(),e){n=Kt(n);let r=Eo(n,cR).getImmediate({identifier:e}),i=Jl("storage");return i&&fR(r,...i),r}function fR(n,e,t,r={}){Z9(n,e,t,r)}function ej(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new gf(t,r,i,e,Wi)}function tj(){ji(new Nr(cR,ej,"PUBLIC").setMultipleInstances(!0)),nn(qk,Gk,""),nn(qk,Gk,"esm2017")}tj();var Kc=xn(uR,!0);var Mu=xn(hR,!0);var Xc=xn(dR,!0);var Yc=xn(lR,!0);var lg=class{numero;id;imagen};var pR=(()=>{class n{firestore;usuariosRef;constructor(t){this.firestore=t,this.firestore=Ma(),this.usuariosRef=Xt(this.firestore,"captcha")}getCaptcha(){let t=Xt(this.firestore,"captcha");return $i(t,{idField:"id"})}static \u0275fac=function(r){return new(r||n)(be(Sn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fu=(()=>{class n{captcha;resultadoFinal=new bt;resul=!1;resultado;captchas=[];captchaSeleccionado;constructor(t){this.captcha=t,this.captchaSeleccionado=new lg}traer(){this.captcha.getCaptcha().subscribe(t=>{this.captchaSeleccionado=t[Math.floor(Math.random()*t.length)],console.log(this.captchaSeleccionado)})}ngOnInit(){this.traer()}validarCaptCha(t){this.captchaSeleccionado.numero===t?(this.resul=!0,this.resultadoFinal.emit(!0),alert("El resultado es ok")):(this.resul=!1,alert("El resultado no es ok"),this.resultadoFinal.emit(!1))}static \u0275fac=function(r){return new(r||n)(de(pR))};static \u0275cmp=tt({type:n,selectors:[["app-captcha2"]],outputs:{resultadoFinal:"resultadoFinal"},standalone:!0,features:[nt],decls:5,vars:2,consts:[["width","100px","height","50px",3,"src"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn-primary",3,"click"]],template:function(r,i){r&1&&(y(0,"div"),pe(1,"img",0),y(2,"input",1),Qe("ngModelChange",function(o){return Ye(i.resultado,o)||(i.resultado=o),o}),v(),y(3,"button",2),ge("click",function(){return i.validarCaptCha(i.resultado)}),O(4,"Validar"),v()()),r&2&&(S(),W("src",i.captchaSeleccionado.imagen,da),S(),Xe("ngModel",i.resultado))},dependencies:[_t,Dt,li,ui,Dc]})}return n})();function rj(n,e){n&1&&(y(0,"small"),O(1,"El nombre es requerido."),v())}function ij(n,e){n&1&&(y(0,"small"),O(1,"El nombre debe tener al menos 3 caracteres."),v())}function sj(n,e){if(n&1&&(y(0,"div",23),se(1,rj,2,0,"small",24)(2,ij,2,0,"small",24),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("nombre"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function oj(n,e){n&1&&(y(0,"small"),O(1,"El apellido es requerido."),v())}function aj(n,e){n&1&&(y(0,"small"),O(1,"El apellido debe tener al menos 2 caracteres."),v())}function cj(n,e){if(n&1&&(y(0,"div",23),se(1,oj,2,0,"small",24)(2,aj,2,0,"small",24),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("apellido"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("apellido"))==null||r.errors==null?null:r.errors.minlength)}}function lj(n,e){n&1&&(y(0,"small"),O(1,"La edad es requerida."),v())}function uj(n,e){n&1&&(y(0,"small"),O(1,"Ingrese una edad real."),v())}function dj(n,e){if(n&1&&(y(0,"div",23),se(1,lj,2,0,"small",24)(2,uj,2,0,"small",24),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("edad"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("edad"))==null||r.errors==null?null:r.errors.maxlength)}}function hj(n,e){n&1&&(y(0,"small"),O(1,"El dni es requerido."),v())}function fj(n,e){n&1&&(y(0,"small"),O(1,"El dni debe tener al menos 6 caracteres."),v())}function pj(n,e){n&1&&(y(0,"small"),O(1,"El dni no debe tener mas de 9 caracteres."),v())}function mj(n,e){if(n&1&&(y(0,"div",23),se(1,hj,2,0,"small",24)(2,fj,2,0,"small",24)(3,pj,2,0,"small",24),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("dni"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("dni"))==null||r.errors==null?null:r.errors.min),S(),W("ngIf",(i=s.formRegistro.get("dni"))==null||i.errors==null?null:i.errors.max)}}function gj(n,e){n&1&&(y(0,"small"),O(1,"La obra Social es requerido."),v())}function _j(n,e){n&1&&(y(0,"small"),O(1,"La obra social debe tener al menos 3 caracteres."),v())}function vj(n,e){if(n&1&&(y(0,"div",23),se(1,gj,2,0,"small",24)(2,_j,2,0,"small",24),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("obraSocial"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("obraSocial"))==null||r.errors==null?null:r.errors.minlength)}}function yj(n,e){n&1&&(y(0,"small"),O(1,"El email es requerido."),v())}function wj(n,e){n&1&&(y(0,"small"),O(1,"Respetar formato de correo."),v())}function xj(n,e){if(n&1&&(y(0,"div",23),se(1,yj,2,0,"small",24)(2,wj,2,0,"small",24),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("email"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("email"))==null||r.errors==null?null:r.errors.email)}}function bj(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function Ej(n,e){n&1&&(y(0,"small"),O(1,"Debe tener mas de 6 caracteres"),v())}function Cj(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caractere"),v())}function Tj(n,e){if(n&1&&(y(0,"div",23),se(1,bj,2,0,"small",24)(2,Ej,2,0,"small",24)(3,Cj,2,0,"small",24),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("contrasena"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("contrasena"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("contrasena"))==null||i.errors==null?null:i.errors.maxlength)}}function Sj(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function Ij(n,e){n&1&&(y(0,"small"),O(1,"Debe tener mas de 6 caracteres"),v())}function Aj(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caractere"),v())}function kj(n,e){if(n&1&&(y(0,"div",23),se(1,Sj,2,0,"small",24)(2,Ij,2,0,"small",24)(3,Aj,2,0,"small",24),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("contrasena2"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("contrasena2"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("contrasena2"))==null||i.errors==null?null:i.errors.maxlength)}}function Rj(n,e){n&1&&(y(0,"small"),O(1,"La foto es requerida."),v())}function Dj(n,e){if(n&1&&(y(0,"div",23),se(1,Rj,2,0,"small",24),v()),n&2){let t,r=G(2);S(),W("ngIf",(t=r.formRegistro.get("foto1"))==null||t.errors==null?null:t.errors.required)}}function Pj(n,e){n&1&&(y(0,"small"),O(1,"La foto es requerida."),v())}function Oj(n,e){if(n&1&&(y(0,"div",23),se(1,Pj,2,0,"small",24),v()),n&2){let t,r=G(2);S(),W("ngIf",(t=r.formRegistro.get("foto2"))==null||t.errors==null?null:t.errors.required)}}function Mj(n,e){if(n&1){let t=Fe();y(0,"div",21)(1,"button",25),ge("click",function(){le(t);let i=G(2);return ue(i.enviar())}),O(2,"Enviar"),v()()}}function Fj(n,e){if(n&1){let t=Fe();y(0,"div",21)(1,"button",26),ge("click",function(){le(t);let i=G(2);return ue(i.enviar())}),O(2,"Enviar"),v()()}}function Nj(n,e){if(n&1){let t=Fe();y(0,"form",6)(1,"div")(2,"input",7),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.nombre,i)||(s.paciente.nombre=i),ue(i)}),v(),se(3,sj,3,2,"div",8),v(),y(4,"div")(5,"input",9),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.apellido,i)||(s.paciente.apellido=i),ue(i)}),v(),se(6,cj,3,2,"div",8),v(),y(7,"div")(8,"input",10),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.edad,i)||(s.paciente.edad=i),ue(i)}),v(),se(9,dj,3,2,"div",8),v(),y(10,"div")(11,"input",11),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.dni,i)||(s.paciente.dni=i),ue(i)}),v(),se(12,mj,4,3,"div",8),v(),y(13,"div")(14,"input",12),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.obraSocial,i)||(s.paciente.obraSocial=i),ue(i)}),v(),se(15,vj,3,2,"div",8),v(),y(16,"div")(17,"input",13),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.email,i)||(s.paciente.email=i),ue(i)}),v(),se(18,xj,3,2,"div",8),v(),y(19,"div")(20,"input",14),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.pass,i)||(s.paciente.pass=i),ue(i)}),v(),se(21,Tj,4,3,"div",8),v(),y(22,"div")(23,"input",15),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.contrasena2,i)||(s.contrasena2=i),ue(i)}),v(),se(24,kj,4,3,"div",8),v(),y(25,"div")(26,"input",16),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.img_1,i)||(s.paciente.img_1=i),ue(i)}),ge("change",function(i){le(t);let s=G();return ue(s.onFileSelected(i,1))}),v(),se(27,Dj,2,1,"div",8),v(),y(28,"div")(29,"input",17),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.imagen2,i)||(s.paciente.imagen2=i),ue(i)}),ge("change",function(i){le(t);let s=G();return ue(s.onFileSelected(i,2))}),v(),se(30,Oj,2,1,"div",8),v(),y(31,"div",18)(32,"app-captcha2",19),ge("resultadoFinal",function(i){le(t);let s=G();return ue(s.tomarResultado(i))}),v()(),se(33,Mj,3,0,"div",20)(34,Fj,3,0,"div",20),y(35,"div",21)(36,"div",22),O(37,"Loguearse"),v()()()}if(n&2){let t,r,i,s,o,a,c,l,d,f,p=G();W("formGroup",p.formRegistro),S(2),Xe("ngModel",p.paciente.nombre),S(),W("ngIf",(t=p.formRegistro.get("nombre"))==null?null:t.invalid),S(2),Xe("ngModel",p.paciente.apellido),S(),W("ngIf",(r=p.formRegistro.get("apellido"))==null?null:r.invalid),S(2),Xe("ngModel",p.paciente.edad),S(),W("ngIf",(i=p.formRegistro.get("edad"))==null?null:i.invalid),S(2),Xe("ngModel",p.paciente.dni),S(),W("ngIf",(s=p.formRegistro.get("dni"))==null?null:s.invalid),S(2),Xe("ngModel",p.paciente.obraSocial),S(),W("ngIf",(o=p.formRegistro.get("obraSocial"))==null?null:o.invalid),S(2),Xe("ngModel",p.paciente.email),S(),W("ngIf",(a=p.formRegistro.get("email"))==null?null:a.invalid),S(2),Xe("ngModel",p.paciente.pass),S(),W("ngIf",(c=p.formRegistro.get("contrasena"))==null?null:c.invalid),S(2),Xe("ngModel",p.contrasena2),S(),W("ngIf",(l=p.formRegistro.get("contrasena2"))==null?null:l.invalid),S(2),Xe("ngModel",p.paciente.img_1),S(),W("ngIf",(d=p.formRegistro.get("foto1"))==null?null:d.invalid),S(2),Xe("ngModel",p.paciente.imagen2),S(),W("ngIf",(f=p.formRegistro.get("foto2"))==null?null:f.invalid),S(3),W("ngIf",p.resultado!=!0),S(),W("ngIf",p.resultado==!0)}}function Lj(n,e){if(n&1&&(y(0,"div",27)(1,"div",28)(2,"div",29),O(3),v()()()),n&2){let t=G();S(2),ha(t.clase),vo("width",t.ProgresoDeAncho),S(),Mr(" ",t.progresoMensaje," - ",t.progreso,"% ")}}var mR=(()=>{class n{fb;authService;fire;router;resultado;paciente;nuevoPaciente;Mensaje;progreso;progresoMensaje="esperando...";logeando=!0;contrasena2;logueado;ProgresoDeAncho;subscription;foto1;foto2;storage=Mu();formRegistro;clase="progress-bar progress-bar-info progress-bar-striped ";constructor(t,r,i,s){this.fb=t,this.authService=r,this.fire=i,this.router=s,this.paciente=new Na,this.nuevoPaciente=new Na,this.formRegistro=this.fb.group({nombre:["",[Ve.required,Ve.minLength(3)]],apellido:["",[Ve.required,Ve.minLength(2)]],edad:["",[Ve.required,Ve.min(0),Ve.max(150)]],dni:["",[Ve.required,Ve.min(1e6),Ve.max(1e8)]],obraSocial:["",[Ve.required,Ve.minLength(2)]],email:["",[Ve.required,Ve.email]],contrasena:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],contrasena2:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],foto1:["",[Ve.required]],foto2:["",[Ve.required]]})}ngOnInit(){sessionStorage.clear()}onFileSelected(t,r){let i=t.target.files[0];r===1?this.foto1=i:this.foto2=i}tomarResultado(t){this.resultado=t}enviar(){return q(this,null,function*(){if(this.formRegistro.valid&&this.resultado===!0)if(this.paciente.pass==this.contrasena2){let t=yield this.authService.register(this.paciente.email,this.paciente.pass);if(this.MoverBarraDeProgreso(),yield t){yield new Promise(c=>setTimeout(c,2500)),this.paciente.tipo="paciente";let r=Xt(this.fire,"Usuarios"),i=Xc(this.storage,`pacientes/${this.foto1.name}`),s=Xc(this.storage,`pacientes/${this.foto2.name}`),o=yield Yc(i,this.foto1),a=yield Yc(s,this.foto1);this.paciente.img_1=yield Kc(o.ref),this.paciente.imagen2=yield Kc(a.ref),Qr(r,{email:this.paciente.email,nombre:this.paciente.nombre,apellido:this.paciente.apellido,tipo:this.paciente.tipo,dni:this.paciente.dni,contrase\u00F1a:this.paciente.pass,edad:this.paciente.edad,foto1:this.paciente.img_1,foto2:this.paciente.imagen2,aprobado:!0,obraSocial:this.paciente.obraSocial,id:t?.user.uid}),sessionStorage.setItem("user",this.paciente.email),sessionStorage.setItem("muestra","true"),this.router.navigateByUrl("/home",{replaceUrl:!0})}else this.MostarMensaje("Usuario ya registrado, por favor utilice otro correo",!0),this.paciente=new Na,this.contrasena2="",this.logeando=!0}else this.MostarMensaje("Las contrase\xF1as no coinciden, por favor revisarlas",!0),this.logeando=!0;else this.MostarMensaje("Hay datos invalidos en el formulario, por favor revisarlos",!0),this.logeando=!0})}MostarMensaje(t,r){this.Mensaje=t;var i=document.getElementById("snackbar");r&&(i.className="show Ganador");var s=this;setTimeout(function(){i.className=i.className.replace("show","")},3e3)}MoverBarraDeProgreso(){this.progreso=0,this.ProgresoDeAncho="0%",this.logeando=!1,this.clase="progress-bar progress-bar-danger progress-bar-striped active",this.progresoMensaje="Iniciando comprobacion";let t=ca(30);this.subscription=t.subscribe(r=>{switch(this.progreso=this.progreso+1,this.ProgresoDeAncho=this.progreso+15+"%",this.progreso){case 15:this.clase="progress-bar progress-bar-warning progress-bar-striped active",this.progresoMensaje="Verificando Usuario...";break;case 30:this.clase="progress-bar progress-bar-Info progress-bar-striped active",this.progresoMensaje="Verificando contrase\xF1a..";break;case 60:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando Info del dispositivo..";break;case 75:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Desencriptacion de clave ..";break;case 85:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Clave ok, ingresando..";break;case 100:console.log("final"),this.subscription.unsubscribe();break}})}static \u0275fac=function(r){return new(r||n)(de(Ta),de(Ws),de(Sn),de(Cr))};static \u0275cmp=tt({type:n,selectors:[["app-form-paciente"]],standalone:!0,features:[nt],decls:8,vars:3,consts:[[1,"fondo"],[1,"container"],[1,"heading"],[3,"formGroup",4,"ngIf"],["style","margin-top: 90%;",4,"ngIf"],["id","snackbar"],[3,"formGroup"],["type","text","name","fname","id","fname","formControlName","nombre","placeholder","Nombre",1,"form-control",3,"ngModelChange","ngModel"],["class","validacion",4,"ngIf"],["type","text","name","lname","id","lname","formControlName","apellido","placeholder","Apellido",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","edad","id","edad","formControlName","edad","placeholder","Edad",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","dni","id","dni","formControlName","dni","placeholder","DNI",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","obraSocial","id","obraSocial","formControlName","obraSocial","placeholder","Obra Social",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","id","email","formControlName","email","placeholder","Correo Electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","formControlName","contrasena","placeholder","Contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password2","id","password2","formControlName","contrasena2","placeholder","Reingresar contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","file","name","foto1","id","foto1","formControlName","foto1","placeholder","Foto 1",1,"form-control",3,"ngModelChange","change","ngModel"],["type","file","name","foto2","id","foto2","formControlName","foto2","placeholder","Foto 2",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-sm-12"],[3,"resultadoFinal"],["class","col-sm-12","style","margin-left: -34px;",4,"ngIf"],[1,"col-sm-12",2,"margin-left","-34px"],["routerLink","/login",1,"btn","btn-warning"],[1,"validacion"],[4,"ngIf"],["disabled","",1,"btn","btn-warning",3,"click"],[1,"btn","btn-warning",3,"click"],[2,"margin-top","90%"],[1,"progress"],["role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped","active"]],template:function(r,i){r&1&&(y(0,"body",0)(1,"div",1)(2,"header",2),O(3,"Formulario de Registro de Pacientes"),v(),se(4,Nj,38,23,"form",3)(5,Lj,4,6,"div",4),y(6,"div",5),O(7),v()()()),r&2&&(S(4),W("ngIf",i.logeando),S(),W("ngIf",!i.logeando),S(2),Ke(i.Mensaje))},dependencies:[Dt,Ca,li,Pc,ui,Ea,_t,ln,zi,hs,Mo,Fu],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);width:100vw}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc}.cancelbtn[_ngcontent-%COMP%]{padding:14px 20px;background-color:#f44336}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{float:left;width:50%}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;padding-top:60px}.container[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;background-color:#000;border-style:1px solid grey;padding:3.9%;text-align:center;opacity:.8;max-width:40%}.lastname[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;color:#fff;margin-top:10px}.firstname[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;color:#fff;margin-top:5px}#lname[_ngcontent-%COMP%]{margin-top:5px}.heading[_ngcontent-%COMP%]{text-decoration:bold;text-align:center;font-size:30px;color:#f96;padding-top:35px}#email[_ngcontent-%COMP%]{margin-top:5px}.mail[_ngcontent-%COMP%]{font-family:sans-serif;color:#fff;font-size:14px;margin-top:13px}.pass[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-family:sans-serif;margin-top:9px}#password[_ngcontent-%COMP%]{margin-top:6px}.pno[_ngcontent-%COMP%]{font-size:18px;margin-left:-13px;margin-top:10px;color:#ff9}.gender[_ngcontent-%COMP%]{color:#fff;font-family:sans-serif;font-size:14px;margin-left:28px;margin-top:8px}.sbutton[_ngcontent-%COMP%]{color:#fff;font-size:20px;border:1px solid white;background-color:#080808;width:32%;margin-left:41%;margin-top:16px;box-shadow:0 2px 2px #fff}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:2px 1px 2px 3px #9cf;background:#5900a6;color:#fff;transition:background-color 1.15s ease-in-out,border-color 1.15s ease-in-out,box-shadow 1.15s ease-in-out}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:2px;z-index:1;left:50%;bottom:30px;font-size:20px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#df1818;color:#fff}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px}.col-sm-12[_ngcontent-%COMP%]{grid-column:span 2}.validacion[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:15px}"]})}return n})();var _f=class extends Fa{especialidad;duracionTurno;disponibilidad=[];tipo="especialista";aprobado=!1};function Xx(n){return n!=null&&`${n}`!="false"}function Nu(n){return Array.isArray(n)?n:[n]}function Un(n){return n==null?"":typeof n=="string"?n:`${n}px`}function vf(n){return n instanceof tn?n.nativeElement:n}var Yx;try{Yx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Yx=!1}var Br=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?UT(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Yx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(be(_o))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yf;function Vj(){if(yf==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yf=!0}))}finally{yf=yf||!1}return yf}function Qx(n){return Vj()?n:!!n.capture}var Qc;function gR(){if(Qc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Qc=!1,Qc;if("scrollBehavior"in document.documentElement.style)Qc=!0;else{let n=Element.prototype.scrollTo;n?Qc=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Qc=!1}}return Qc}function Lu(n){return n.composedPath?n.composedPath()[0]:n.target}function wf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Bj=new et("cdk-dir-doc",{providedIn:"root",factory:Uj});function Uj(){return qe(It)}var jj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Wj(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?jj.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Jc=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new bt,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=Wj(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(be(Bj,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var La=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({});let n=e;return n})();var ug=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new dt,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var Hj=20,_R=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new dt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=Hj){return this._platform.isBrowser?new oi(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe($_(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(ar(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=vf(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return iT(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(be(st),be(Br),be(It,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var $j=20,xf=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new dt,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=$j){return r>0?this._change.pipe($_(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(be(Br),be(st),be(It,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({});let n=e;return n})(),Zx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[La,dg,La,dg]});let n=e;return n})();var bf=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},eb=class extends bf{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},Ef=class extends bf{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},tb=class extends bf{constructor(e){super(),this.element=e instanceof tn?e.nativeElement:e}},nb=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof eb)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ef)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof tb)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var hg=class extends nb{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||cr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var yR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({});let n=e;return n})();function Wo(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var wR=gR(),rb=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Un(-this._previousScrollPosition.left),e.style.top=Un(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wR&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var ib=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(ar(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},fg=class{enable(){}disable(){}attach(){}};function sb(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,s=n.right<t.left,o=n.left>t.right;return r||i||s||o})}function xR(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,s=n.left<t.left,o=n.right>t.right;return r||i||s||o})}var ob=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();sb(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Gj=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new fg,this.close=a=>new ib(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new rb(this._viewportRuler,this._document),this.reposition=a=>new ob(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(be(_R),be(xf),be(st),be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),pg=class{constructor(e){if(this.scrollStrategy=new fg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var ab=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var IR=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Kj=(()=>{let e=class e extends IR{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(be(It),be(st,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Xj=(()=>{let e=class e extends IR{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Lu(o)},this._clickListener=o=>{let a=Lu(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let f=l[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(bR(f.overlayElement,a)||bR(f.overlayElement,c))break;let p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(be(It),be(Br),be(st,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function bR(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var AR=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||wf()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),wf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(be(It),be(Br))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cb=class{constructor(e,t,r,i,s,o,a,c,l,d=!1,f){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new dt,this._attachments=new dt,this._detachments=new dt,this._locationChanges=si.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new dt,this._outsidePointerEvents=new dt,this._renders=new dt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=cs(()=>Kp(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Xp(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Ae(Ae({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Vt(Ae({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Un(this._config.width),e.height=Un(this._config.height),e.minWidth=Un(this._config.minWidth),e.minHeight=Un(this._config.minHeight),e.maxWidth=Un(this._config.maxWidth),e.maxHeight=Un(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){let i=Nu(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Hn(la(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},ER="cdk-overlay-connected-position-bounding-box",Yj=/([A-Za-z%]+)$/,lb=class{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt,this._resizeSubscription=si.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(ER),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,r)){s.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(s.length){let a=null,c=-1;for(let l of s){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ER),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}t.left<0&&(i-=t.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let s;return r.overlayY=="center"?s=-t.height/2:s=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){let s=TR(t),{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let d=0-o,f=o+s.width-r.width,p=0-a,_=a+s.height-r.height,C=this._subtractOverflows(s.width,d,f),w=this._subtractOverflows(s.height,p,_),T=C*w;return{visibleArea:T,isCompletelyWithinViewport:s.width*s.height===T,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:C==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,s=r.right-t.x,o=CR(this._overlayRef.getConfig().minHeight),a=CR(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=TR(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=l||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Qj(this._lastScrollVisibility,r)){let i=new ab(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(t.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),C=this._lastBoundingBoxSize.height;s=_*2,o=e.y-_,s>C&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-C/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,l=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,f,p;if(l)p=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),C=this._lastBoundingBoxSize.width;d=_*2,f=e.x-_,d>C&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-C/2)}return{top:o,left:f,bottom:a,right:p,width:d,height:s}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Un(r.height),i.top=Un(r.top),i.bottom=Un(r.bottom),i.width=Un(r.width),i.left=Un(r.left),i.right=Un(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=Un(s)),o&&(i.maxWidth=Un(o))}this._lastBoundingBoxSize=r,Zc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Zc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Zc(r,this._getExactOverlayY(t,e,d)),Zc(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Un(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Un(o.maxWidth):s&&(r.maxWidth="")),Zc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=Un(s.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=Un(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xR(e,r),isOriginOutsideView:sb(e,r),isOverlayClipped:xR(t,r),isOverlayOutsideView:sb(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Nu(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof tn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Zc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CR(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(Yj);return!t||t==="px"?parseFloat(e):null}return n||null}function TR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Qj(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var SR="cdk-global-overlay-wrapper",ub=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(SR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",_="",C="",w="";c?w="flex-start":d==="center"?(w="center",p?C=f:_=f):p?d==="left"||d==="end"?(w="flex-end",_=f):(d==="right"||d==="start")&&(w="flex-start",C=f):d==="left"||d==="start"?(w="flex-start",_=f):(d==="right"||d==="end")&&(w="flex-end",C=f),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":C,t.justifyContent=w,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(SR),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Jj=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new ub}flexibleConnectedTo(r){return new lb(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(be(xf),be(It),be(Br),be(AR))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Zj=0,el=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d,f,p,_,C){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=d,this._directionality=f,this._location=p,this._outsideClickDispatcher=_,this._animationsModuleType=C}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new pg(r);return a.direction=a.direction||this._directionality.value,new cb(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Dl))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${Zj++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(qd)),new hg(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(be(Gj),be(AR),be(tv),be(Jj),be(Kj),be(cr),be(st),be(It),be(Jc),be(Bl),be(Xj),be(Li,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),e7=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],kR=new et("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=qe(el);return()=>n.scrollStrategies.reposition()}}),Cf=(()=>{let e=class e{constructor(r){this.elementRef=r}};e.\u0275fac=function(i){return new(i||e)(de(tn))},e.\u0275dir=Ft({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let n=e;return n})(),db=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,i,s,o,a){this._overlay=r,this._dir=a,this._backdropSubscription=si.EMPTY,this._attachSubscription=si.EMPTY,this._detachSubscription=si.EMPTY,this._positionSubscription=si.EMPTY,this._disposeOnNavigation=!1,this._ngZone=qe(st),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new bt,this.positionChange=new bt,this.attach=new bt,this.detach=new bt,this.overlayKeydown=new bt,this.overlayOutsideClick=new bt,this._templatePortal=new Ef(i,s),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=e7);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Wo(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let s=this._getOriginElement(),o=Lu(i);(!s||s!==o&&!s.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),i=new pg({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(r){let i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return r.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(r),r}_getOrigin(){return this.origin instanceof Cf?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Cf?this.origin.elementRef.nativeElement:this.origin instanceof tn?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(aT(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(de(el),de(qp),de(Ol),de(kR),de(Jc,8))},e.\u0275dir=Ft({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Cn],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Cn],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Cn],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Cn],push:[2,"cdkConnectedOverlayPush","push",Cn],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Cn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[os,wi]});let n=e;return n})();function t7(n){return()=>n.scrollStrategies.reposition()}var n7={provide:kR,deps:[el],useFactory:t7},RR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({providers:[el,n7],imports:[La,yR,Zx,Zx]});let n=e;return n})();var r7=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var DR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({providers:[r7]});let n=e;return n})();var PR=new Set,tl,i7=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):o7}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&s7(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(be(Br),be(Ud,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function s7(n,e){if(!PR.has(n))try{tl||(tl=document.createElement("style"),e&&tl.setAttribute("nonce",e),tl.setAttribute("type","text/css"),document.head.appendChild(tl)),tl.sheet&&(tl.sheet.insertRule(`@media ${n} {body{ }}`,0),PR.add(n))}catch(t){console.error(t)}}function o7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var MR=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new dt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return OR(Nu(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=OR(Nu(r)).map(a=>this._registerQuery(a).observable),o=Md(s);return o=Wp(o.pipe(Ps(1)),o.pipe(Y_(1),zp(0))),o.pipe(xt(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new oi(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(mo(i),xt(({matches:a})=>({query:r,matches:a})),Hn(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(be(i7),be(st))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function OR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var LR=" ";function VR(n,e,t){let r=BR(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(LR)))}function _b(n,e,t){let r=BR(n,e);t=t.trim();let i=r.filter(s=>s!==t);i.length?n.setAttribute(e,i.join(LR)):n.removeAttribute(e)}function BR(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var fb=class{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new dt,this._typeaheadSubscription=si.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new dt,this.change=new dt,e instanceof Z_?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):nv(e)&&(this._effectRef=OT(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe($n(t=>this._pressedLetters.push(t)),zp(e),ar(()=>this._pressedLetters.length>0),xt(()=>this._pressedLetters.join(""))).subscribe(t=>{let r=this._getItemsArray();for(let i=1;i<r.length+1;i++){let s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&o.getLabel().toUpperCase().trim().indexOf(t)===0){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||Wo(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem=i??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex+e*r+t.length)%t.length,s=t[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return nv(this._items)?this._items():this._items instanceof Z_?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}},mg=class extends fb{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function UR(n){return n.buttons===0||n.detail===0}function jR(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var m7=new et("liveAnnouncerElement",{providedIn:"root",factory:g7});function g7(){return null}var _7=new et("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),v7=0,WR=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${v7++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(be(m7,8),be(st),be(It),be(_7,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var nl=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(nl||{}),FR="cdk-high-contrast-black-on-white",NR="cdk-high-contrast-white-on-black",hb="cdk-high-contrast-active",zR=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=qe(MR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return nl.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return nl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return nl.BLACK_ON_WHITE}return nl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(hb,FR,NR),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===nl.BLACK_ON_WHITE?r.add(hb,FR):i===nl.WHITE_ON_BLACK&&r.add(hb,NR)}}};e.\u0275fac=function(i){return new(i||e)(be(Br),be(It))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var y7=["text"],w7=[[["mat-icon"]],"*"],x7=["mat-icon","*"];function b7(n,e){if(n&1&&pe(0,"mat-pseudo-checkbox",1),n&2){let t=G();W("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function E7(n,e){if(n&1&&pe(0,"mat-pseudo-checkbox",3),n&2){let t=G();W("disabled",t.disabled)}}function C7(n,e){if(n&1&&(y(0,"span",4),O(1),v()),n&2){let t=G();S(),on("(",t.group.label,")")}}function T7(){return!0}var S7=new et("mat-sanity-checks",{providedIn:"root",factory:T7}),Qs=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return wf()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(be(zR),be(S7,8),be(It))},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[La,La]});let n=e;return n})();var vg=class{constructor(e,t,r,i,s){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,t)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var YR=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qi=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(qi||{}),vb=class{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=qi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},$R=Qx({passive:!0,capture:!0}),yb=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Lu(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){let s=this._events.get(t);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$R)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let s=i.get(t);s&&(s.delete(r),s.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$R)))}},qR={enterDuration:225,exitDuration:150},I7=800,GR=Qx({passive:!0,capture:!0}),KR=["mousedown","touchstart"],XR=["mouseup","mouseleave","touchend","touchcancel"],Tf=class Tf{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vf(r))}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Ae(Ae({},qR),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let o=r.radius||A7(e,t,i),a=e-i.left,c=t-i.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),p=f.transitionProperty,_=f.transitionDuration,C=p==="none"||_==="0s"||_==="0s, 0s"||i.width===0&&i.height===0,w=new vb(this,d,r,C);d.style.transform="scale3d(1, 1, 1)",w.state=qi.FADING_IN,r.persistent||(this._mostRecentTransientRipple=w);let T=null;return!C&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let K=()=>{T&&(T.fallbackTimer=null),clearTimeout(Y),this._finishRippleTransition(w)},X=()=>this._destroyRipple(w),Y=setTimeout(X,l+100);d.addEventListener("transitionend",K),d.addEventListener("transitioncancel",X),T={onTransitionEnd:K,onTransitionCancel:X,fallbackTimer:Y}}),this._activeRipples.set(w,T),(C||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(e.state===qi.FADING_OUT||e.state===qi.HIDDEN)return;let t=e.element,r=Ae(Ae({},qR),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=qi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=vf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,KR.forEach(r=>{Tf._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{XR.forEach(t=>{this._triggerElement.addEventListener(t,this,GR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===qi.FADING_IN?this._startFadeOutTransition(e):e.state===qi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=qi.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=qi.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=UR(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+I7;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!jR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===qi.VISIBLE||e.config.terminateOnPointerUp&&e.state===qi.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(KR.forEach(t=>Tf._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(XR.forEach(t=>e.removeEventListener(t,this,GR)),this._pointerUpEventsRegistered=!1))}};Tf._eventManager=new yb;var wb=Tf;function A7(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var k7=new et("mat-ripple-global-options"),R7=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new wb(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ae(Ae(Ae({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,Ae(Ae({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Ae(Ae({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(de(tn),de(st),de(Br),de(k7,8),de(Li,8))},e.\u0275dir=Ft({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&xr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),D7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[Qs,Qs]});let n=e;return n})(),P7=(()=>{let e=class e{constructor(r){this._animationMode=r,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(i){return new(i||e)(de(Li,8))},e.\u0275cmp=tt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,s){i&2&&xr("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[nt],decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let n=e;return n})(),O7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[Qs]});let n=e;return n})(),bb=new et("MAT_OPTION_PARENT_COMPONENT");var Eb=new et("MatOptgroup");var M7=0,xb=class{constructor(e,t=!1){this.source=e,this.isUserInput=t}},Bu=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(r){this._disabled=r}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(r,i,s,o){this._element=r,this._changeDetectorRef=i,this._parent=s,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${M7++}`,this.onSelectionChange=new bt,this._stateChanges=new dt}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(r=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),r&&this._emitSelectionChangeEvent())}deselect(r=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),r&&this._emitSelectionChangeEvent())}focus(r,i){let s=this._getHostElement();typeof s.focus=="function"&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(r){(r.keyCode===13||r.keyCode===32)&&!Wo(r)&&(this._selectViaInteraction(),r.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let r=this.viewValue;r!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=r)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(r=!1){this.onSelectionChange.emit(new xb(this,r))}};e.\u0275fac=function(i){return new(i||e)(de(tn),de(Bi),de(bb,8),de(Eb,8))},e.\u0275cmp=tt({type:e,selectors:[["mat-option"]],viewQuery:function(i,s){if(i&1&&Gr(y7,7),i&2){let o;yn(o=wn())&&(s._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,s){i&1&&ge("click",function(){return s._selectViaInteraction()})("keydown",function(a){return s._handleKeydown(a)}),i&2&&(Yp("id",s.id),xi("aria-selected",s.selected)("aria-disabled",s.disabled.toString()),xr("mdc-list-item--selected",s.selected)("mat-mdc-option-multiple",s.multiple)("mat-mdc-option-active",s.active)("mdc-list-item--disabled",s.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Cn]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[os,nt],ngContentSelectors:x7,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,s){i&1&&(fa(w7),se(0,b7,1,2,"mat-pseudo-checkbox",1),lr(1),y(2,"span",2,0),lr(4,1),v(),se(5,E7,1,1,"mat-pseudo-checkbox",3)(6,C7,2,1,"span",4),pe(7,"div",5)),i&2&&(Vn(s.multiple?0:-1),S(5),Vn(!s.multiple&&s.selected&&!s.hideSingleSelectionIndicator?5:-1),S(),Vn(s.group&&s.group._inert?6:-1),S(),W("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[P7,R7],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();function QR(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),s=0;for(let o=0;o<n+1;o++)r[o].group&&r[o].group===i[s]&&s++;return s}return 0}function JR(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}var Cb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[D7,Qs,O7]});let n=e;return n})();var Sb=class{constructor(e){this._box=e,this._destroyed=new dt,this._resizeSubject=new dt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new oi(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(ar(t=>t.some(r=>r.target===e)),X_({bufferSize:1,refCount:!0}),Hn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},ZR=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=qe(st),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,r]of this._observers)r.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(r,i){let s=i?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new Sb(s)),this._observers.get(s).observe(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var F7=["notch"],N7=["matFormFieldNotchedOutline",""],L7=["*"],V7=["textField"],B7=["iconPrefixContainer"],U7=["textPrefixContainer"],j7=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],W7=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function z7(n,e){n&1&&pe(0,"span",19)}function H7(n,e){if(n&1&&(y(0,"label",18),lr(1,1),se(2,z7,1,0,"span",19),v()),n&2){let t=G(2);W("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),xi("for",t._control.disableAutomaticLabeling?null:t._control.id),S(2),Vn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function $7(n,e){if(n&1&&se(0,H7,3,5,"label",18),n&2){let t=G();Vn(t._hasFloatingLabel()?0:-1)}}function q7(n,e){n&1&&pe(0,"div",5)}function G7(n,e){}function K7(n,e){if(n&1&&se(0,G7,0,0,"ng-template",11),n&2){G(2);let t=zd(1);W("ngTemplateOutlet",t)}}function X7(n,e){if(n&1&&(y(0,"div",7),se(1,K7,1,1,null,11),v()),n&2){let t=G();W("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),S(),Vn(t._forceDisplayInfixLabel()?-1:1)}}function Y7(n,e){n&1&&(y(0,"div",8,2),lr(2,2),v())}function Q7(n,e){n&1&&(y(0,"div",9,3),lr(2,3),v())}function J7(n,e){}function Z7(n,e){if(n&1&&se(0,J7,0,0,"ng-template",11),n&2){G();let t=zd(1);W("ngTemplateOutlet",t)}}function eW(n,e){n&1&&(y(0,"div",12),lr(1,4),v())}function tW(n,e){n&1&&(y(0,"div",13),lr(1,5),v())}function nW(n,e){n&1&&pe(0,"div",14)}function rW(n,e){if(n&1&&(y(0,"div",16),lr(1,6),v()),n&2){let t=G();W("@transitionMessages",t._subscriptAnimationState)}}function iW(n,e){if(n&1&&(y(0,"mat-hint",20),O(1),v()),n&2){let t=G(2);W("id",t._hintLabelId),S(),Ke(t.hintLabel)}}function sW(n,e){if(n&1&&(y(0,"div",17),se(1,iW,2,2,"mat-hint",20),lr(2,7),pe(3,"div",21),lr(4,8),v()),n&2){let t=G();W("@transitionMessages",t._subscriptAnimationState),S(),Vn(t.hintLabel?1:-1)}}var bg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})();var oW=new et("MatError");var aW=0,eD=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${aW++}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,s){i&2&&(Yp("id",s.id),xi("align",null),xr("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),cW=new et("MatPrefix");var lW=new et("MatSuffix");var cD=new et("FloatingLabelParent"),tD=(()=>{let e=class e{get floating(){return this._floating}set floating(r){this._floating=r,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(r){this._monitorResize=r,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(r){this._elementRef=r,this._floating=!1,this._monitorResize=!1,this._resizeObserver=qe(ZR),this._ngZone=qe(st),this._parent=qe(cD),this._resizeSubscription=new si}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return uW(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(i){return new(i||e)(de(tn))},e.\u0275dir=Ft({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,s){i&2&&xr("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function uW(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var nD="mdc-line-ripple--active",xg="mdc-line-ripple--deactivating",rD=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._handleTransitionEnd=s=>{let o=this._elementRef.nativeElement.classList,a=o.contains(xg);s.propertyName==="opacity"&&a&&o.remove(nD,xg)},i.runOutsideAngular(()=>{r.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let r=this._elementRef.nativeElement.classList;r.remove(xg),r.add(nD)}deactivate(){this._elementRef.nativeElement.classList.add(xg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(i){return new(i||e)(de(tn),de(st))},e.\u0275dir=Ft({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),iD=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._ngZone=i,this.open=!1}ngAfterViewInit(){let r=this._elementRef.nativeElement.querySelector(".mdc-floating-label");r?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(r){!this.open||!r?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${r}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(i){return new(i||e)(de(tn),de(st))},e.\u0275cmp=tt({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,s){if(i&1&&Gr(F7,5),i&2){let o;yn(o=wn())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,s){i&2&&xr("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[nt],attrs:N7,ngContentSelectors:L7,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,s){i&1&&(fa(),pe(0,"div",1),y(1,"div",2,0),lr(3),v(),pe(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),dW={transitionMessages:Gd("transitionMessages",[em("enter",lc({opacity:1,transform:"translateY(0%)"})),Ul("void => enter",[lc({opacity:0,transform:"translateY(-5px)"}),Kd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ib=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e});let n=e;return n})();var Ab=new et("MatFormField"),hW=new et("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sD=0,oD="fill",fW="auto",aD="fixed",pW="translateY(-50%)",Eg=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=Xx(r)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||fW}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(r){let i=this._appearance,s=r||this._defaults?.appearance||oD;this._appearance=s,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||aD}set subscriptSizing(r){this._subscriptSizing=r||this._defaults?.subscriptSizing||aD}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(r){this._explicitFormFieldControl=r}constructor(r,i,s,o,a,c,l,d){this._elementRef=r,this._changeDetectorRef=i,this._dir=o,this._platform=a,this._defaults=c,this._animationMode=l,this._labelChild=_T(bg),this._hideRequiredMarker=!1,this.color="primary",this._appearance=oD,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${sD++}`,this._hintLabelId=`mat-mdc-hint-${sD++}`,this._subscriptAnimationState="",this._destroyed=new dt,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=qe(cr),this.getLabelId=yo(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=yo(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let r=this._control;r.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${r.controlType}`),r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),r.ngControl&&r.ngControl.valueChanges&&r.ngControl.valueChanges.pipe(Hn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(r=>!r._isText),this._hasTextPrefix=!!this._prefixChildren.find(r=>r._isText),this._hasIconSuffix=!!this._suffixChildren.find(r=>!r._isText),this._hasTextSuffix=!!this._suffixChildren.find(r=>r._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),la(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Kp(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Hn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(r){let i=this._control?this._control.ngControl:null;return i&&i[r]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&r.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,s=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?r.push(i.id):this._hintLabel&&r.push(this._hintLabelId),s&&r.push(s.id)}else this._errorChildren&&r.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(r)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let r=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){r.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,a=s?.getBoundingClientRect().width??0,c=this._dir.value==="rtl"?"-1":"1",l=`${o+a}px`,f=`calc(${c} * (${l} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;r.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${pW} translateX(${f})
    )`}_isAttachedToDom(){let r=this._elementRef.nativeElement;if(r.getRootNode){let i=r.getRootNode();return i&&i!==r}return document.documentElement.contains(r)}};e.\u0275fac=function(i){return new(i||e)(de(tn),de(Bi),de(st),de(Jc),de(Br),de(hW,8),de(Li,8),de(It))},e.\u0275cmp=tt({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,s,o){if(i&1&&(ET(o,s._labelChild,bg,5),as(o,Ib,5),as(o,cW,5),as(o,lW,5),as(o,oW,5),as(o,eD,5)),i&2){CT();let a;yn(a=wn())&&(s._formFieldControl=a.first),yn(a=wn())&&(s._prefixChildren=a),yn(a=wn())&&(s._suffixChildren=a),yn(a=wn())&&(s._errorChildren=a),yn(a=wn())&&(s._hintChildren=a)}},viewQuery:function(i,s){if(i&1&&(Gr(V7,5),Gr(B7,5),Gr(U7,5),Gr(tD,5),Gr(iD,5),Gr(rD,5)),i&2){let o;yn(o=wn())&&(s._textField=o.first),yn(o=wn())&&(s._iconPrefixContainer=o.first),yn(o=wn())&&(s._textPrefixContainer=o.first),yn(o=wn())&&(s._floatingLabel=o.first),yn(o=wn())&&(s._notchedOutline=o.first),yn(o=wn())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,s){i&2&&xr("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Kr([{provide:Ab,useExisting:e},{provide:cD,useExisting:e}]),nt],ngContentSelectors:W7,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,s){if(i&1){let o=Fe();fa(j7),se(0,$7,1,1,"ng-template",null,0,IT),y(2,"div",4,1),ge("click",function(c){return le(o),ue(s._control.onContainerClick(c))}),se(4,q7,1,0,"div",5),y(5,"div",6),se(6,X7,2,2,"div",7)(7,Y7,3,0,"div",8)(8,Q7,3,0,"div",9),y(9,"div",10),se(10,Z7,1,1,null,11),lr(11),v(),se(12,eW,2,0,"div",12)(13,tW,2,0,"div",13),v(),se(14,nW,1,0,"div",14),v(),y(15,"div",15),se(16,rW,2,1,"div",16)(17,sW,5,2,"div",17),v()}if(i&2){let o;S(2),xr("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),S(2),Vn(!s._hasOutline()&&!s._control.disabled?4:-1),S(2),Vn(s._hasOutline()?6:-1),S(),Vn(s._hasIconPrefix?7:-1),S(),Vn(s._hasTextPrefix?8:-1),S(2),Vn(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),S(2),Vn(s._hasTextSuffix?12:-1),S(),Vn(s._hasIconSuffix?13:-1),S(),Vn(s._hasOutline()?-1:14),S(),xr("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),S(),Vn((o=s._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[tD,iD,VT,rD,eD],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[dW.transitionMessages]},changeDetection:0});let n=e;return n})(),Uu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({imports:[Qs,_t,DR,Qs]});let n=e;return n})();var mW=["trigger"],gW=["panel"],_W=[[["mat-select-trigger"]],"*"],vW=["mat-select-trigger","*"];function yW(n,e){if(n&1&&(y(0,"span",4),O(1),v()),n&2){let t=G();S(),Ke(t.placeholder)}}function wW(n,e){n&1&&lr(0)}function xW(n,e){if(n&1&&(y(0,"span",11),O(1),v()),n&2){let t=G(2);S(),Ke(t.triggerValue)}}function bW(n,e){if(n&1&&(y(0,"span",5),se(1,wW,1,0)(2,xW,2,1,"span",11),v()),n&2){let t=G();S(),Vn(t.customTrigger?1:2)}}function EW(n,e){if(n&1){let t=Fe();y(0,"div",12,1),ge("@transformPanel.done",function(i){le(t);let s=G();return ue(s._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){le(t);let s=G();return ue(s._handleKeydown(i))}),lr(2,1),v()}if(n&2){let t=G();wT("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),W("ngClass",t.panelClass)("@transformPanel","showing"),xi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var CW={transformPanelWrap:Gd("transformPanelWrap",[Ul("* => void",zT("@transformPanel",[WT()],{optional:!0}))]),transformPanel:Gd("transformPanel",[em("void",lc({opacity:0,transform:"scale(1, 0.8)"})),Ul("void => showing",Kd("120ms cubic-bezier(0, 0, 0.2, 1)",lc({opacity:1,transform:"scale(1, 1)"}))),Ul("* => void",Kd("100ms linear",lc({opacity:0})))])};var uD=0,dD=new et("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=qe(el);return()=>n.scrollStrategies.reposition()}});function TW(n){return()=>n.scrollStrategies.reposition()}var SW=new et("MAT_SELECT_CONFIG"),IW={provide:dD,deps:[el],useFactory:TW},AW=new et("MatSelectTrigger"),kb=class{constructor(e,t){this.source=e,this.value=t}},Cg=(()=>{let e=class e{_scrollOptionIntoView(r){let i=this.options.toArray()[r];if(i){let s=this.panel.nativeElement,o=QR(r,this.options,this.optionGroups),a=i._getHostElement();r===0&&o===1?s.scrollTop=0:s.scrollTop=JR(a.offsetTop,a.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(r){return new kb(this,r)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(r){this._hideSingleSelectionIndicator=r,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ve.required)??!1}set required(r){this._required=r,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(r){this._selectionModel,this._multiple=r}get compareWith(){return this._compareWith}set compareWith(r){this._compareWith=r,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(r){this._assignValue(r)&&this._onChange(r)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(r){this._errorStateTracker.matcher=r}get id(){return this._id}set id(r){this._id=r||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(r){this._errorStateTracker.errorState=r}constructor(r,i,s,o,a,c,l,d,f,p,_,C,w,T){this._viewportRuler=r,this._changeDetectorRef=i,this._elementRef=a,this._dir=c,this._parentFormField=f,this.ngControl=p,this._liveAnnouncer=w,this._defaultOptions=T,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(K,X)=>K===X,this._uid=`mat-select-${uD++}`,this._triggerAriaLabelledBy=null,this._destroy=new dt,this.stateChanges=new dt,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${uD++}`,this._panelDoneAnimatingStream=new dt,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new dt,this.optionSelectionChanges=Fd(()=>{let K=this.options;return K?K.changes.pipe(mo(K),ci(()=>la(...K.map(X=>X.onSelectionChange)))):this._initialized.pipe(ci(()=>this.optionSelectionChanges))}),this.openedChange=new bt,this._openedStream=this.openedChange.pipe(ar(K=>K),xt(()=>{})),this._closedStream=this.openedChange.pipe(ar(K=>!K),xt(()=>{})),this.selectionChange=new bt,this.valueChange=new bt,this._trackedModal=null,this._skipPredicate=K=>this.panelOpen?!1:K.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),T?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=T.typeaheadDebounceInterval),this._errorStateTracker=new vg(o,p,d,l,this.stateChanges),this._scrollStrategyFactory=C,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(_)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ug(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ld(),Hn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Hn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Hn(this._destroy)).subscribe(r=>{r.added.forEach(i=>i.select()),r.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(mo(null),Hn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let r=this._getTriggerAriaLabelledby(),i=this.ngControl;if(r!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=r,r?s.setAttribute("aria-labelledby",r):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(r){(r.disabled||r.userAriaDescribedBy)&&this.stateChanges.next(),r.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let r=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!r)return;let i=`${this.id}-panel`;this._trackedModal&&_b(this._trackedModal,"aria-owns",i),VR(r,"aria-owns",i),this._trackedModal=r}_clearFromModal(){if(!this._trackedModal)return;let r=`${this.id}-panel`;_b(this._trackedModal,"aria-owns",r),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(r){this._assignValue(r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let r=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&r.reverse(),r.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(r){this.disabled||(this.panelOpen?this._handleOpenKeydown(r):this._handleClosedKeydown(r))}_handleClosedKeydown(r){let i=r.keyCode,s=i===40||i===38||i===37||i===39,o=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&o&&!Wo(r)||(this.multiple||r.altKey)&&s)r.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;a.onKeydown(r);let l=this.selected;l&&c!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(r){let i=this._keyManager,s=r.keyCode,o=s===40||s===38,a=i.isTyping();if(o&&r.altKey)r.preventDefault(),this.close();else if(!a&&(s===13||s===32)&&i.activeItem&&!Wo(r))r.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&s===65&&r.ctrlKey){r.preventDefault();let c=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(c?l.select():l.deselect())})}else{let c=i.activeItemIndex;i.onKeydown(r),this._multiple&&o&&r.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ps(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(r){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&r)Array.isArray(r),r.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(r);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(r){let i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return s.value!=null&&this._compareWith(s.value,r)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(r){return r!==this._value||this._multiple&&Array.isArray(r)?(this.options&&this._setSelectionByValue(r),this._value=r,!0):!1}_getOverlayWidth(r){return this.panelWidth==="auto"?(r instanceof Cf?r.elementRef:r||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let r of this.options)r._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new mg(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let r=la(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Hn(r)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),la(...this.options.map(i=>i._stateChanges)).pipe(Hn(r)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(r,i){let s=this._selectionModel.isSelected(r);r.value==null&&!this._multiple?(r.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(r.value)):(s!==r.selected&&(r.selected?this._selectionModel.select(r):this._selectionModel.deselect(r)),i&&this._keyManager.setActiveItem(r),this.multiple&&(this._sortValues(),i&&this.focus())),s!==this._selectionModel.isSelected(r)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let r=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,r):r.indexOf(i)-r.indexOf(s)),this.stateChanges.next()}}_propagateChanges(r){let i;this.multiple?i=this.selected.map(s=>s.value):i=this.selected?this.selected.value:r,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let r=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){r=i;break}this._keyManager.setActiveItem(r)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(r){this._elementRef.nativeElement.focus(r)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let r=this._parentFormField?.getLabelId(),i=r?r+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let r=this._parentFormField?.getLabelId(),i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(r){this.openedChange.emit(r)}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(i){return new(i||e)(de(xf),de(Bi),de(st),de(YR),de(tn),de(Jc,8),de(w1,8),de(hs,8),de(Ab,8),de(Oo,10),Bd("tabindex"),de(dD),de(WR),de(SW,8))},e.\u0275cmp=tt({type:e,selectors:[["mat-select"]],contentQueries:function(i,s,o){if(i&1&&(as(o,AW,5),as(o,Bu,5),as(o,Eb,5)),i&2){let a;yn(a=wn())&&(s.customTrigger=a.first),yn(a=wn())&&(s.options=a),yn(a=wn())&&(s.optionGroups=a)}},viewQuery:function(i,s){if(i&1&&(Gr(mW,5),Gr(gW,5),Gr(db,5)),i&2){let o;yn(o=wn())&&(s.trigger=o.first),yn(o=wn())&&(s.panel=o.first),yn(o=wn())&&(s._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,s){i&1&&ge("keydown",function(a){return s._handleKeydown(a)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),i&2&&(xi("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),xr("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Cn],disableRipple:[2,"disableRipple","disableRipple",Cn],tabIndex:[2,"tabIndex","tabIndex",r=>r==null?0:sv(r)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Cn],placeholder:"placeholder",required:[2,"required","required",Cn],multiple:[2,"multiple","multiple",Cn],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Cn],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",sv],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Kr([{provide:Ib,useExisting:e},{provide:bb,useExisting:e}]),os,wi,nt],ngContentSelectors:vW,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,s){if(i&1){let o=Fe();fa(_W),y(0,"div",2,0),ge("click",function(){return le(o),ue(s.open())}),y(3,"div",3),se(4,yW,2,1,"span",4)(5,bW,3,1,"span",5),v(),y(6,"div",6)(7,"div",7),uT(),y(8,"svg",8),pe(9,"path",9),v()()()(),se(10,EW,3,9,"ng-template",10),ge("backdropClick",function(){return le(o),ue(s.close())})("attach",function(){return le(o),ue(s._onAttached())})("detach",function(){return le(o),ue(s.close())})}if(i&2){let o=zd(1);S(3),xi("id",s._valueId),S(),Vn(s.empty?4:5),S(6),W("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[Cf,db,pa],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[CW.transformPanel]},changeDetection:0});let n=e;return n})();var Tg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=zt({providers:[IW],imports:[_t,RR,Cb,Qs,dg,Uu,Cb,Qs]});let n=e;return n})();var zu=zN(fD());var Sg=class{id;email;lunInicio;lunFin;marInicio;marFin;mierInicio;mierFin;jueInicio;jueFin;vierInicio;vierFin;sabInicio;sabFin;estados;especialidadesPorDia;constructor(e,t){this.id=e,this.email=t,this.lunInicio="8:00",this.lunFin="19:00",this.marInicio="8:00",this.marFin="19:00",this.mierInicio="8:00",this.mierFin="19:00",this.jueInicio="8:00",this.jueFin="19:00",this.vierInicio="8:00",this.vierFin="19:00",this.sabInicio="8:00",this.sabFin="14:00",this.estados=["Habilitado","Habilitado","Habilitado","Habilitado","Habilitado","Habilitado"],this.especialidadesPorDia=["","","","","",""]}};var ju=(()=>{class n{firestore;constructor(t){this.firestore=t,this.firestore=Ma()}getEspecialidades(){let t=Xt(this.firestore,"especialidades");return $i(t)}setEspecialidad(t){let r=Xt(this.firestore,"especialidades");t&&t!=""&&Qr(r,{especialidad:t}).catch(i=>{throw i})}static \u0275fac=function(r){return new(r||n)(be(Sn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wu=(()=>{class n{firestore;constructor(t){this.firestore=t}getHorarioEspecialistas(){let t=Xt(this.firestore,"horarioEspecialistas");return $i(t,{idField:"id"})}cargarHorarioEspecialistas(t){let r=Xt(this.firestore,"horarioEspecialistas");Qr(r,Object.assign({},t))}updateHorarioEspecialistas(t){let r=Xt(this.firestore,"horarioEspecialistas"),i=qc(r,t.id);Gc(i,{lunInicio:t.lunInicio,lunFin:t.lunFin,marInicio:t.marInicio,marFin:t.marFin,mierInicio:t.mierInicio,mierFin:t.mierFin,jueInicio:t.jueInicio,jueFin:t.jueFin,vierInicio:t.vierInicio,vierFin:t.vierFin,sabInicio:t.sabInicio,sabFin:t.sabFin,estados:t.estados,especialidadesPorDia:t.especialidadesPorDia})}static \u0275fac=function(r){return new(r||n)(be(Sn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kW(n,e){n&1&&(y(0,"small"),O(1,"El nombre es requerido."),v())}function RW(n,e){n&1&&(y(0,"small"),O(1,"El nombre debe tener al menos 3 caracteres."),v())}function DW(n,e){if(n&1&&(y(0,"div",25),se(1,kW,2,0,"small",26)(2,RW,2,0,"small",26),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("nombre"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function PW(n,e){n&1&&(y(0,"small"),O(1,"El apellido es requerido."),v())}function OW(n,e){n&1&&(y(0,"small"),O(1,"El apellido debe tener al menos 2 caracteres."),v())}function MW(n,e){if(n&1&&(y(0,"div",25),se(1,PW,2,0,"small",26)(2,OW,2,0,"small",26),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("apellido"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("apellido"))==null||r.errors==null?null:r.errors.minlength)}}function FW(n,e){n&1&&(y(0,"small"),O(1,"La edad es requerida."),v())}function NW(n,e){n&1&&(y(0,"small"),O(1,"Ingrese una edad real."),v())}function LW(n,e){if(n&1&&(y(0,"div",25),se(1,FW,2,0,"small",26)(2,NW,2,0,"small",26),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("edad"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("edad"))==null||r.errors==null?null:r.errors.maxlength)}}function VW(n,e){n&1&&(y(0,"small"),O(1,"El dni es requerido."),v())}function BW(n,e){n&1&&(y(0,"small"),O(1,"El dni debe tener al menos 6 caracteres."),v())}function UW(n,e){n&1&&(y(0,"small"),O(1,"El dni no debe tener m\xE1s de 9 caracteres."),v())}function jW(n,e){if(n&1&&(y(0,"div",25),se(1,VW,2,0,"small",26)(2,BW,2,0,"small",26)(3,UW,2,0,"small",26),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("dni"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("dni"))==null||r.errors==null?null:r.errors.min),S(),W("ngIf",(i=s.formRegistro.get("dni"))==null||i.errors==null?null:i.errors.max)}}function WW(n,e){if(n&1&&(y(0,"mat-option",27),O(1),v()),n&2){let t=e.$implicit;W("value",t),S(),Ke(t.especialidad)}}function zW(n,e){n&1&&(y(0,"small"),O(1,"El email es requerido."),v())}function HW(n,e){n&1&&(y(0,"small"),O(1,"Respetar formato de correo."),v())}function $W(n,e){if(n&1&&(y(0,"div",25),se(1,zW,2,0,"small",26)(2,HW,2,0,"small",26),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("email"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("email"))==null||r.errors==null?null:r.errors.email)}}function qW(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function GW(n,e){n&1&&(y(0,"small"),O(1,"Debe tener m\xE1s de 6 caracteres"),v())}function KW(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caracteres"),v())}function XW(n,e){if(n&1&&(y(0,"div",25),se(1,qW,2,0,"small",26)(2,GW,2,0,"small",26)(3,KW,2,0,"small",26),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("pass"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("pass"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("pass"))==null||i.errors==null?null:i.errors.maxlength)}}function YW(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function QW(n,e){n&1&&(y(0,"small"),O(1,"Debe tener m\xE1s de 6 caracteres"),v())}function JW(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caracteres"),v())}function ZW(n,e){if(n&1&&(y(0,"div",25),se(1,YW,2,0,"small",26)(2,QW,2,0,"small",26)(3,JW,2,0,"small",26),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("pass"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("pass"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("pass"))==null||i.errors==null?null:i.errors.maxlength)}}function ez(n,e){n&1&&(y(0,"small"),O(1,"La foto es requerida."),v())}function tz(n,e){if(n&1&&(y(0,"div",25),se(1,ez,2,0,"small",26),v()),n&2){let t,r=G(2);S(),W("ngIf",(t=r.formRegistro.get("foto1"))==null||t.errors==null?null:t.errors.required)}}function nz(n,e){n&1&&(y(0,"div",23)(1,"button",28),O(2,"Enviar"),v()())}function rz(n,e){if(n&1){let t=Fe();y(0,"div",23)(1,"button",29),ge("click",function(){le(t);let i=G(2);return ue(i.enviar())}),O(2,"Enviar"),v()()}}function iz(n,e){if(n&1){let t=Fe();y(0,"form",5)(1,"div",6)(2,"div",7)(3,"input",8),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.nombre,i)||(s.especialista.nombre=i),ue(i)}),v(),se(4,DW,3,2,"div",9),v(),y(5,"div",7)(6,"input",10),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.apellido,i)||(s.especialista.apellido=i),ue(i)}),v(),se(7,MW,3,2,"div",9),v(),y(8,"div",7)(9,"input",11),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.edad,i)||(s.especialista.edad=i),ue(i)}),v(),se(10,LW,3,2,"div",9),v(),y(11,"div",7)(12,"input",12),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.dni,i)||(s.especialista.dni=i),ue(i)}),v(),se(13,jW,4,3,"div",9),v(),y(14,"div",7)(15,"mat-form-field")(16,"mat-label"),O(17,"Especialidades"),v(),y(18,"mat-select",13),se(19,WW,2,2,"mat-option",14),v()(),y(20,"button",15),ge("click",function(){le(t);let i=G();return ue(i.agregarNuevaEspecialidad())}),O(21,"+"),v()(),y(22,"div",7)(23,"input",16),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.email,i)||(s.especialista.email=i),ue(i)}),v(),se(24,$W,3,2,"div",9),v(),y(25,"div",7)(26,"input",17),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.pass,i)||(s.especialista.pass=i),ue(i)}),v(),se(27,XW,4,3,"div",9),v(),y(28,"div",7)(29,"input",18),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.contrasena2,i)||(s.contrasena2=i),ue(i)}),v(),se(30,ZW,4,3,"div",9),v(),y(31,"div",7)(32,"input",19),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialista.img_1,i)||(s.especialista.img_1=i),ue(i)}),ge("change",function(i){le(t);let s=G();return ue(s.onFileSelected(i))}),v(),se(33,tz,2,1,"div",9),v()(),y(34,"div",20)(35,"app-captcha2",21),ge("resultadoFinal",function(i){le(t);let s=G();return ue(s.tomarResultado(i))}),v()(),se(36,nz,3,0,"div",22)(37,rz,3,0,"div",22),y(38,"div",23)(39,"div",24),O(40,"Loguearse"),v()()()}if(n&2){let t,r,i,s,o,a,c,l,d=G();W("formGroup",d.formRegistro),S(3),Xe("ngModel",d.especialista.nombre),S(),W("ngIf",(t=d.formRegistro.get("nombre"))==null?null:t.invalid),S(2),Xe("ngModel",d.especialista.apellido),S(),W("ngIf",(r=d.formRegistro.get("apellido"))==null?null:r.invalid),S(2),Xe("ngModel",d.especialista.edad),S(),W("ngIf",(i=d.formRegistro.get("edad"))==null?null:i.invalid),S(2),Xe("ngModel",d.especialista.dni),S(),W("ngIf",(s=d.formRegistro.get("dni"))==null?null:s.invalid),S(6),W("ngForOf",d.especialidades),S(4),Xe("ngModel",d.especialista.email),S(),W("ngIf",(o=d.formRegistro.get("email"))==null?null:o.invalid),S(2),Xe("ngModel",d.especialista.pass),S(),W("ngIf",(a=d.formRegistro.get("pass"))==null?null:a.invalid),S(2),Xe("ngModel",d.contrasena2),S(),W("ngIf",(c=d.formRegistro.get("pass"))==null?null:c.invalid),S(2),Xe("ngModel",d.especialista.img_1),S(),W("ngIf",(l=d.formRegistro.get("foto1"))==null?null:l.invalid),S(3),W("ngIf",d.resultado!=!0),S(),W("ngIf",d.resultado==!0)}}function sz(n,e){if(n&1&&(y(0,"div",30)(1,"div",31)(2,"div",32),O(3),v()()()),n&2){let t=G();S(2),ha(t.clase),vo("width",t.ProgresoDeAncho),S(),Mr(" ",t.progresoMensaje," - ",t.progreso,"% ")}}var pD=(()=>{class n{fb;authService;fire;router;serverEsp;horariosEsp;especialista;Mensaje;progreso;progresoMensaje="esperando...";logeando=!0;contrasena2;logueado;ProgresoDeAncho;subscription;foto1;storage=Mu();resultado;especialidades=[];formRegistro;clase="progress-bar progress-bar-info progress-bar-striped ";constructor(t,r,i,s,o,a){this.fb=t,this.authService=r,this.fire=i,this.router=s,this.serverEsp=o,this.horariosEsp=a,this.especialista=new _f,this.formRegistro=this.fb.group({nombre:["",[Ve.required,Ve.minLength(3)]],apellido:["",[Ve.required,Ve.minLength(2)]],edad:["",[Ve.required,Ve.min(0),Ve.max(150)]],dni:["",[Ve.required,Ve.min(1e6),Ve.max(1e8)]],especialidad:["",[]],email:["",[Ve.required,Ve.email]],contrasena:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],contrasena2:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],foto1:["",[Ve.required]]})}traerEspecialidades(){this.serverEsp.getEspecialidades().subscribe(t=>{this.especialidades=t,console.log(this.especialidades)})}get especialidad(){return this.formRegistro.get("especialidad")?.value}ngOnInit(){this.traerEspecialidades(),sessionStorage.clear()}onFileSelected(t){this.foto1=t.target.files[0]}enviar(){return q(this,null,function*(){if(this.formRegistro.valid)if(this.especialista.pass==this.contrasena2){let t=yield this.authService.register(this.especialista.email,this.especialista.pass);if(this.MoverBarraDeProgreso(),yield t){yield new Promise(a=>setTimeout(a,2500)),this.especialista.tipo="especialista";let r=Xt(this.fire,"Usuarios"),i=Xc(this.storage,`especialistas/${this.foto1.name}`),s=yield Yc(i,this.foto1),o=yield Kc(s.ref);console.log(this.especialista,o),Qr(r,{email:this.especialista.email,nombre:this.especialista.nombre,apellido:this.especialista.apellido,tipo:this.especialista.tipo,dni:this.especialista.dni,contrase\u00F1a:this.especialista.pass,edad:this.especialista.edad,especialidad:this.formRegistro.get("especialidad")?.value,foto1:o,aprobado:!1,id:t?.user.uid}),sessionStorage.setItem("user",this.especialista.email),sessionStorage.setItem("muestra","true"),this.cargarHorarioEspecialistas(this.especialista.email),this.router.navigateByUrl("/home",{replaceUrl:!0})}else this.MostarMensaje("Usuario ya registrado, por favor utilice otro correo",!0),this.especialista=new _f,this.contrasena2="",this.logeando=!0}else this.MostarMensaje("Las contrase\xF1as no coinciden, por favor revisarlas",!0),this.logeando=!0;else this.MostarMensaje("Hay datos invalidos en el formulario, por favor revisarlos",!0),this.logeando=!0})}MostarMensaje(t,r){this.Mensaje=t;var i=document.getElementById("snackbar");r&&(i.className="show Ganador");var s=this;setTimeout(function(){i.className=i.className.replace("show","")},3e3)}MoverBarraDeProgreso(){this.progreso=0,this.ProgresoDeAncho="0%",this.logeando=!1,this.clase="progress-bar progress-bar-danger progress-bar-striped active",this.progresoMensaje="Iniciando comprobacion";let t=ca(30);this.subscription=t.subscribe(r=>{switch(this.progreso=this.progreso+1,this.ProgresoDeAncho=this.progreso+15+"%",this.progreso){case 15:this.clase="progress-bar progress-bar-warning progress-bar-striped active",this.progresoMensaje="Verificando Usuario...";break;case 30:this.clase="progress-bar progress-bar-Info progress-bar-striped active",this.progresoMensaje="Verificando contrase\xF1a..";break;case 60:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando Info del dispositivo..";break;case 75:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Desencriptacion de clave ..";break;case 85:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Clave ok, ingresando..";break;case 100:console.log("final"),this.subscription.unsubscribe();break}})}tomarResultado(t){this.resultado=t}agregarNuevaEspecialidad(){zu.default.fire({title:"Ingrese una especialidad:",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showConfirmButton:!0,showLoaderOnConfirm:!0,preConfirm:t=>q(this,null,function*(){}),allowOutsideClick:()=>!zu.default.isLoading()}).then(t=>{if(t.isConfirmed)try{t.value!=""?(this.serverEsp.setEspecialidad(t.value),zu.default.fire({position:"center",icon:"success",title:"Especialidad generada",showConfirmButton:!1,timer:1500})):zu.default.fire({position:"center",icon:"error",title:"Ingreso inv\xE1lido",showConfirmButton:!1,timer:1500})}catch(r){console.log(r)}else zu.default.close()})}cargarHorarioEspecialistas(t){let r=new Sg("",t);this.horariosEsp.cargarHorarioEspecialistas(r)}static \u0275fac=function(r){return new(r||n)(de(Ta),de(Ws),de(Sn),de(Cr),de(ju),de(Wu))};static \u0275cmp=tt({type:n,selectors:[["app-form-especialista"]],standalone:!0,features:[nt],decls:8,vars:3,consts:[[1,"fondo"],[1,"container"],[3,"formGroup",4,"ngIf"],["style","margin-top: 90%;",4,"ngIf"],["id","snackbar"],[3,"formGroup"],[1,"form-grid"],[1,"form-group"],["type","text","name","fname","id","fname","formControlName","nombre","placeholder","Nombre",1,"form-control",3,"ngModelChange","ngModel"],["class","validacion",4,"ngIf"],["type","text","name","lname","id","lname","formControlName","apellido","placeholder","Apellido",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","edad","id","edad","formControlName","edad","placeholder","Edad",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","dni","id","dni","formControlName","dni","placeholder","DNI",1,"form-control",3,"ngModelChange","ngModel"],["formControlName","especialidad","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["type","email","name","email","id","email","formControlName","email","placeholder","Correo Electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","formControlName","contrasena","placeholder","Contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password2","id","password2","formControlName","contrasena2","placeholder","Reingresar contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","file","name","foto1","id","foto1","formControlName","foto1","placeholder","Foto 1",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-sm-12"],[3,"resultadoFinal"],["class","col-sm-12","style","margin-left: -34px;",4,"ngIf"],[1,"col-sm-12",2,"margin-left","-34px"],["routerLink","/login",1,"btn","btn-warning"],[1,"validacion"],[4,"ngIf"],[3,"value"],["disabled","",1,"btn","btn-warning"],[1,"btn","btn-warning",3,"click"],[2,"margin-top","90%"],[1,"progress"],["role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped","active"]],template:function(r,i){r&1&&(y(0,"body",0)(1,"div",1)(2,"header"),O(3,"Formulario de Registro de especialistas"),v(),se(4,iz,41,20,"form",2)(5,sz,4,6,"div",3),y(6,"div",4),O(7),v()()()),r&2&&(S(4),W("ngIf",i.logeando),S(),W("ngIf",!i.logeando),S(2),Ke(i.Mensaje))},dependencies:[_t,Fr,ln,Dt,Ca,li,Pc,ui,Ea,zi,hs,Mo,Fu,Tg,Eg,bg,Cg,Bu,Uu],styles:["input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc}.fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);width:100vw}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:2px;z-index:1;left:50%;bottom:30px;font-size:20px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#df1818;color:#fff}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%}header[_ngcontent-%COMP%]{background-color:#2f5330;color:#fff;text-align:center;padding:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;opacity:.8;border-style:1px solid grey;margin-top:85px}.form-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;max-width:800px}.form-group[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);min-width:300px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:10px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;cursor:pointer;background-color:#007bff;color:#fff;border:none;border-radius:5px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.validacion[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#fff;background-color:#f50000;font-family:Arial bold,Helvetica,sans-serif,;font-size:15px}.col-sm-12[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:10px}"]})}return n})();function oz(n,e){if(n&1){let t=Fe();y(0,"main")(1,"div",3),pe(2,"img",4),y(3,"h2"),O(4,"\xA1Soy Paciente!"),v(),y(5,"p"),O(6,"Te podr\xE1s registrar como paciente de nuestra clinica"),v(),y(7,"p")(8,"a",5),ge("click",function(){le(t);let i=G();return ue(i.cambiarSeccion("paciente"))}),O(9,"Registrarse como Paciente"),v()()(),y(10,"div",3),pe(11,"img",6),y(12,"h2"),O(13,"\xA1Soy Especialista!"),v(),y(14,"p"),O(15,"Te podr\xE1s registrar como integrante de nuestro staff"),v(),y(16,"p")(17,"a",5),ge("click",function(){le(t);let i=G();return ue(i.cambiarSeccion("especialista"))}),O(18,"Registrarse como Especialista"),v()()()()}}function az(n,e){n&1&&(y(0,"div",11),pe(1,"app-form-paciente"),v())}function cz(n,e){n&1&&(y(0,"div",11),pe(1,"app-form-especialista"),v())}function lz(n,e){if(n&1){let t=Fe();y(0,"div",7),se(1,az,2,0,"div",8)(2,cz,2,0,"div",8),y(3,"div",9)(4,"button",10),ge("click",function(){le(t);let i=G();return ue(i.volverMenuSeleccion())}),O(5,"Volver"),v()()()}if(n&2){let t=G();S(),W("ngIf",t.tipoUsuarioARegistrar=="paciente"),S(),W("ngIf",t.tipoUsuarioARegistrar=="especialista")}}var mD=(()=>{class n{seccion="menu";tipoUsuarioARegistrar="";cambiarSeccion(t){this.seccion="seleccion",this.tipoUsuarioARegistrar=t}volverMenuSeleccion(){this.seccion="menu"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-registro"]],standalone:!0,features:[nt],decls:4,vars:2,consts:[[1,"fondo"],[4,"ngIf"],["class","pantalla-2",4,"ngIf"],[1,"col-lg-6"],["_ngcontent-c3","","alt","Generic placeholder image","height","235","src","./assets/imagenes/paciente.png","width","243",1,"rounded-circle"],["role","button",1,"btn","btn-primary","btn-lg",3,"click"],["_ngcontent-c3","","alt","Generic placeholder image","height","235","src","./assets/imagenes/especialista.png","width","243",1,"rounded-circle"],[1,"pantalla-2"],["class","contenedor-registros",4,"ngIf"],[1,"boton-menu"],[1,"flecha",3,"click"],[1,"contenedor-registros"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0),se(2,oz,19,0,"main",1)(3,lz,6,2,"div",2),v()),r&2&&(S(2),W("ngIf",i.seccion=="menu"),S(),W("ngIf",i.seccion=="seleccion"))},dependencies:[dr,mR,pD,Dt,_t,ln],styles:['.fondo[_ngcontent-%COMP%]{background:url("./media/slider-bg-2-7UI2L5W4.jpg");background-size:cover;height:100%;display:flex;align-items:center;justify-content:center}.marketing[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400}.fondo[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10.75rem;margin-left:-7.25rem}p[_ngcontent-%COMP%]{text-align:center;color:#00096b;font-size:20px}h2[_ngcontent-%COMP%]{color:#27c82a;text-align:left}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}.flecha[_ngcontent-%COMP%]{position:absolute;top:110px;right:20px;background-color:#f44336;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:16px;cursor:pointer}main[_ngcontent-%COMP%]{margin-left:25%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}']})}return n})();var gD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-error"]],standalone:!0,features:[nt],decls:2,vars:0,template:function(r,i){r&1&&(y(0,"p"),O(1,"error works!"),v())}})}return n})();var _D=(()=>{class n{transform(t){return t?"Habilitado":"Deshabilitado"}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Rl({name:"misPipes",type:n,pure:!0,standalone:!0})}return n})();var Mf={};Mf.version="0.18.5";var il=1200,ed=1252,uz=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dz={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},iP=function(n){uz.indexOf(n)!=-1&&(ed=dz[0]=n)};function hz(){iP(1252)}var Ff=function(n){il=n,iP(n)};function fz(){Ff(1200),hz()}function pz(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var Ig=function(e){return String.fromCharCode(e)},vD=function(e){return String.fromCharCode(e)},an;var to=null,Sf=!0,Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Nf(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;l<n.length;)t=n.charCodeAt(l++),s=t>>2,r=n.charCodeAt(l++),o=(t&3)<<4|r>>4,i=n.charCodeAt(l++),a=(r&15)<<2|i>>6,c=i&63,isNaN(r)?a=c=64:isNaN(i)&&(c=64),e+=Ba.charAt(s)+Ba.charAt(o)+Ba.charAt(a)+Ba.charAt(c);return e}function Go(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<n.length;)s=Ba.indexOf(n.charAt(l++)),o=Ba.indexOf(n.charAt(l++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=Ba.indexOf(n.charAt(l++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),c=Ba.indexOf(n.charAt(l++)),i=(a&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Ut=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Xo=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ol(n){return Ut?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function yD(n){return Ut?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var vs=function(e){return Ut?Xo(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Xg(n){if(typeof ArrayBuffer>"u")return vs(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function jf(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function mz(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var kr=Ut?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Xo(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gz(n){for(var e=[],t=0,r=n.length+250,i=ol(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=ol(65535),r=65530)}return e.push(i.slice(0,t)),kr(e)}var Xu=/\u0000/g,Ag=/[\u0001-\u0006]/g;function Yu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ys(n,e){var t=""+n;return t.length>=e?t:Mn("0",e-t.length)+t}function $b(n,e){var t=""+n;return t.length>=e?t:Mn(" ",e-t.length)+t}function Ng(n,e){var t=""+n;return t.length>=e?t:t+Mn(" ",e-t.length)}function _z(n,e){var t=""+Math.round(n);return t.length>=e?t:Mn("0",e-t.length)+t}function vz(n,e){var t=""+n;return t.length>=e?t:Mn("0",e-t.length)+t}var wD=Math.pow(2,32);function Hu(n,e){if(n>wD||n<-wD)return _z(n,e);var t=Math.round(n);return vz(t,e)}function Lg(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var xD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ob=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yz(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',n}var Fn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},bD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wz={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vg(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,c=1,l=0,d=0,f=Math.floor(i);l<e&&(f=Math.floor(i),a=f*o+s,d=f*l+c,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,c=l,l=d;if(d>e&&(l>e?(d=c,a=s):(d=l,a=o)),!t)return[0,r*a,d];var p=Math.floor(r*a/d);return[p,r*a-p*d,d]}function kg(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),t&&(s=Iz(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var sP=new Date(1899,11,31,0,0,0),xz=sP.getTime(),bz=new Date(1900,2,1,0,0,0);function oP(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=bz&&(t+=24*60*60*1e3),(t-(xz+(n.getTimezoneOffset()-sP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function qb(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ez(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Cz(n){var e=n<0?12:11,t=qb(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function Tz(n){var e=qb(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function Sz(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=Cz(n):e===10?t=n.toFixed(10).substr(0,12):t=Tz(n),qb(Ez(t.toUpperCase()))}function jb(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Sz(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return ja(14,oP(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function Iz(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function Az(n,e,t,r){var i="",s=0,o=0,a=t.y,c,l=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:c=a%100,l=2;break;default:c=a%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,l=e.length;break;case 3:return Ob[t.m-1][1];case 5:return Ob[t.m-1][0];default:return Ob[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,l=e.length;break;case 3:return xD[t.q][0];default:return xD[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ys(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=ys(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:c=a,l=1;break}var d=l>0?ys(c,l):"";return d}function Ua(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var aP=/%/g;function kz(n,e,t){var r=e.replace(aP,""),i=e.length-r.length;return Ho(n,r,t*Math.pow(10,2*i))+Mn("%",i)}function Rz(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ho(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function cP(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cP(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,d){return c+l+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var lP=/# (\?+)( ?)\/( ?)(\d+)/;function Dz(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?Mn(" ",n[1].length+1+n[4].length):$b(o,n[1].length)+n[2]+"/"+n[3]+ys(a,n[4].length))}function Pz(n,e,t){return t+(e===0?"":""+e)+Mn(" ",n[1].length+2+n[4].length)}var uP=/^#*0*\.([0#]+)/,dP=/\).*[0#]/,hP=/\(###\) ###\\?-####/;function Jr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function ED(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function CD(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function Oz(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function Mz(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Gi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(dP)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Gi("n",r,t):"("+Gi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Rz(n,e,t);if(e.indexOf("%")!==-1)return kz(n,e,t);if(e.indexOf("E")!==-1)return cP(e,t);if(e.charCodeAt(0)===36)return"$"+Gi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+Hu(c,e.length);if(e.match(/^[#?]+$/))return i=Hu(t,0),i==="0"&&(i=""),i.length>e.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(lP))return Dz(s,c,l);if(e.match(/^#+0+$/))return l+Hu(c,e.length-e.indexOf("0"));if(s=e.match(uP))return i=ED(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Jr(s[1])).replace(/\.$/,"."+Jr(s[1])).replace(/\.(\d*)$/,function(C,w){return"."+w+Mn("0",Jr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+ED(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Ua(Hu(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Gi(n,e,-t):Ua(""+(Math.floor(t)+Oz(t,s[1].length)))+"."+ys(CD(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Gi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yu(Gi(n,e.replace(/[\\-]/g,""),t)),o=0,Yu(Yu(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(e.match(hP))return i=Gi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Vg(c,Math.pow(10,o)-1,!1),i=""+l,d=Ho("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Ng(a[2],o),d.length<s[4].length&&(d=Jr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Vg(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?$b(a[1],o)+s[2]+"/"+s[3]+Ng(a[2],o):Mn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Hu(t,0),e.length<=i.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,p=e.length-i.length-f;return Jr(e.substr(0,f)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=CD(t,s[1].length),t<0?"-"+Gi(n,e,-t):Ua(Mz(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?ys(0,3-C.length):"")+C})+"."+ys(o,s[1].length);switch(e){case"###,##0.00":return Gi(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var _=Ua(Hu(c,0));return _!=="0"?l+_:"";case"###,###.00":return Gi(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Gi(n,"#,##0.00",t).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function Fz(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ho(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Nz(n,e,t){var r=e.replace(aP,""),i=e.length-r.length;return Ho(n,r,t*Math.pow(10,2*i))+Mn("%",i)}function fP(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+fP(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,d){return c+l+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Zs(n,e,t){if(n.charCodeAt(0)===40&&!e.match(dP)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Zs("n",r,t):"("+Zs("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Fz(n,e,t);if(e.indexOf("%")!==-1)return Nz(n,e,t);if(e.indexOf("E")!==-1)return fP(e,t);if(e.charCodeAt(0)===36)return"$"+Zs(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+ys(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(lP))return Pz(s,c,l);if(e.match(/^#+0+$/))return l+ys(c,e.length-e.indexOf("0"));if(s=e.match(uP))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Jr(s[1])).replace(/\.$/,"."+Jr(s[1])),i=i.replace(/\.(\d*)$/,function(C,w){return"."+w+Mn("0",Jr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Ua(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Zs(n,e,-t):Ua(""+t)+"."+Mn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Zs(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yu(Zs(n,e.replace(/[\\-]/g,""),t)),o=0,Yu(Yu(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(e.match(hP))return i=Zs(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Vg(c,Math.pow(10,o)-1,!1),i=""+l,d=Ho("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Ng(a[2],o),d.length<s[4].length&&(d=Jr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Vg(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?$b(a[1],o)+s[2]+"/"+s[3]+Ng(a[2],o):Mn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,p=e.length-i.length-f;return Jr(e.substr(0,f)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Zs(n,e,-t):Ua(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?ys(0,3-C.length):"")+C})+"."+ys(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Ua(""+c);return _!=="0"?l+_:"";default:if(e.match(/\.[0#?]*$/))return Zs(n,e.slice(0,e.lastIndexOf(".")),t)+Jr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ho(n,e,t){return(t|0)===t?Zs(n,e,t):Gi(n,e,t)}function Lz(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var pP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mP(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Lg(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(pP))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Vz(n,e,t,r){for(var i=[],s="",o=0,a="",c="t",l,d,f,p="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!Lg(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var _=n.charAt(++o),C=_==="("||_===")"?_:"t";i[i.length]={t:C,v:_},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(l==null&&(l=kg(e,t,n.charAt(o+1)==="2"),l==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=kg(e,t),l==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&c.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4E0A":var w={t:a,v:a};if(l==null&&(l=kg(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(l!=null&&(w.v=l.H>=12?"P":"A"),w.t="T",p="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(l!=null&&(w.v=l.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):n.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(l!=null&&(w.v=l.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),w.t="T",o+=5,p="h"):(w.t="t",++o),l==null&&w.t==="T")return"";i[i.length]=w,c=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pP)){if(l==null&&(l=kg(e,t),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",mP(n)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var T=0,K=0,X;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,c="h",T<1&&(T=1);break;case"s":(X=i[o].v.match(/\.0+$/))&&(K=Math.max(K,X[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[o].v.match(/[Hh]/)&&(T=1),T<2&&i[o].v.match(/[Mm]/)&&(T=2),T<3&&i[o].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var Y="",ee;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Az(i[o].t.charCodeAt(0),i[o].v,l,K),i[o].t="t";break;case"n":case"?":for(ee=o+1;i[ee]!=null&&((a=i[ee].t)==="?"||a==="D"||(a===" "||a==="t")&&i[ee+1]!=null&&(i[ee+1].t==="?"||i[ee+1].t==="t"&&i[ee+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[ee].v==="/"||i[ee].v===" "&&i[ee+1]!=null&&i[ee+1].t=="?"));)i[o].v+=i[ee].v,i[ee]={v:"",t:";"},++ee;Y+=i[o].v,o=ee-1;break;case"G":i[o].t="t",i[o].v=jb(e,t);break}var me="",we,D;if(Y.length>0){Y.charCodeAt(0)==40?(we=e<0&&Y.charCodeAt(0)===45?-e:e,D=Ho("n",Y,we)):(we=e<0&&r>1?-e:e,D=Ho("n",Y,we),we<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),ee=D.length-1;var A=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){A=o;break}var k=i.length;if(A===i.length&&D.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(ee>=i[o].v.length-1?(ee-=i[o].v.length,i[o].v=D.substr(ee+1,i[o].v.length)):ee<0?i[o].v="":(i[o].v=D.substr(0,ee+1),ee=-1),i[o].t="t",k=o);ee>=0&&k<i.length&&(i[k].v=D.substr(0,ee+1)+i[k].v)}else if(A!==i.length&&D.indexOf("E")===-1){for(ee=D.indexOf(".")-1,o=A;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")-1:i[o].v.length-1,me=i[o].v.substr(d+1);d>=0;--d)ee>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(me=D.charAt(ee--)+me);i[o].v=me,i[o].t="t",k=o}for(ee>=0&&k<i.length&&(i[k].v=D.substr(0,ee+1)+i[k].v),ee=D.indexOf(".")+1,o=A;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==A)){for(d=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")+1:0,me=i[o].v.substr(0,d);d<i[o].v.length;++d)ee<D.length&&(me+=D.charAt(ee++));i[o].v=me,i[o].t="t",k=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(we=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Ho(i[o].t,i[o].v,we),i[o].t="t");var F="";for(o=0;o!==i.length;++o)i[o]!=null&&(F+=i[o].v);return F}var TD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function SD(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function Bz(n,e){var t=Lz(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break;case 4:break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(TD),a=t[1].match(TD);return SD(e,o)?[r,t[0]]:SD(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function ja(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Fn)[n],r==null&&(r=t.table&&t.table[bD[n]]||Fn[bD[n]]),r==null&&(r=wz[n]||"General");break}if(Lg(r,0))return jb(e,t);e instanceof Date&&(e=oP(e,t.date1904));var i=Bz(r,e);if(Lg(i[1]))return jb(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Vz(i[1],e,t,i[0])}function gP(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Fn[t]==null){e<0&&(e=t);continue}if(Fn[t]==n){e=t;break}}e<0&&(e=391)}return Fn[e]=n,e}function Yg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&gP(n[e],e)}function Qg(){Fn=yz()}var _P=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Uz(n){var e=typeof n=="number"?Fn[n]:n;return e=e.replace(_P,"(\\d+)"),new RegExp("^"+e+"$")}function jz(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(e.match(_P)||[]).forEach(function(f,p){var _=parseInt(t[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=_;break;case"d":s=_;break;case"h":o=_;break;case"s":c=_;break;case"m":o>=0?a=_:i=_;break}}),c>=0&&a==-1&&i>=0&&(a=i,i=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&a==-1&&c==-1?l:r==-1&&i==-1&&s==-1?d:l+"T"+d}var Wz=function(){var n={};n.version="1.2.0";function e(){for(var D=0,A=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,A[k]=D;return typeof Int32Array<"u"?new Int32Array(A):A}var t=e();function r(D){var A=0,k=0,F=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)V[F]=D[F];for(F=0;F!=256;++F)for(k=D[F],A=256+F;A<4096;A+=256)k=V[A]=k>>>8^D[k&255];var z=[];for(F=1;F!=16;++F)z[F-1]=typeof Int32Array<"u"?V.subarray(F*256,F*256+256):V.slice(F*256,F*256+256);return z}var i=r(t),s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],d=i[5],f=i[6],p=i[7],_=i[8],C=i[9],w=i[10],T=i[11],K=i[12],X=i[13],Y=i[14];function ee(D,A){for(var k=A^-1,F=0,V=D.length;F<V;)k=k>>>8^t[(k^D.charCodeAt(F++))&255];return~k}function me(D,A){for(var k=A^-1,F=D.length-15,V=0;V<F;)k=Y[D[V++]^k&255]^X[D[V++]^k>>8&255]^K[D[V++]^k>>16&255]^T[D[V++]^k>>>24]^w[D[V++]]^C[D[V++]]^_[D[V++]]^p[D[V++]]^f[D[V++]]^d[D[V++]]^l[D[V++]]^c[D[V++]]^a[D[V++]]^o[D[V++]]^s[D[V++]]^t[D[V++]];for(F+=15;V<F;)k=k>>>8^t[(k^D[V++])&255];return~k}function we(D,A){for(var k=A^-1,F=0,V=D.length,z=0,B=0;F<V;)z=D.charCodeAt(F++),z<128?k=k>>>8^t[(k^z)&255]:z<2048?(k=k>>>8^t[(k^(192|z>>6&31))&255],k=k>>>8^t[(k^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,B=D.charCodeAt(F++)&1023,k=k>>>8^t[(k^(240|z>>8&7))&255],k=k>>>8^t[(k^(128|z>>2&63))&255],k=k>>>8^t[(k^(128|B>>6&15|(z&3)<<4))&255],k=k>>>8^t[(k^(128|B&63))&255]):(k=k>>>8^t[(k^(224|z>>12&15))&255],k=k>>>8^t[(k^(128|z>>6&63))&255],k=k>>>8^t[(k^(128|z&63))&255]);return~k}return n.table=t,n.bstr=ee,n.buf=me,n.str=we,n}(),rn=function(){var e={};e.version="1.2.1";function t(I,L){for(var M=I.split("/"),N=L.split("/"),U=0,j=0,ne=Math.min(M.length,N.length);U<ne;++U){if(j=M[U].length-N[U].length)return j;if(M[U]!=N[U])return M[U]<N[U]?-1:1}return M.length-N.length}function r(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:r(I.slice(0,-1));var L=I.lastIndexOf("/");return L===-1?I:I.slice(0,L+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var L=I.lastIndexOf("/");return L===-1?I:I.slice(L+1)}function s(I,L){typeof L=="string"&&(L=new Date(L));var M=L.getHours();M=M<<6|L.getMinutes(),M=M<<5|L.getSeconds()>>>1,I.write_shift(2,M);var N=L.getFullYear()-1980;N=N<<4|L.getMonth()+1,N=N<<5|L.getDate(),I.write_shift(2,N)}function o(I){var L=I.read_shift(2)&65535,M=I.read_shift(2)&65535,N=new Date,U=M&31;M>>>=5;var j=M&15;M>>>=4,N.setMilliseconds(0),N.setFullYear(M+1980),N.setMonth(j-1),N.setDate(U);var ne=L&31;L>>>=5;var he=L&63;return L>>>=6,N.setHours(L),N.setMinutes(he),N.setSeconds(ne<<1),N}function a(I){Ii(I,0);for(var L={},M=0;I.l<=I.length-4;){var N=I.read_shift(2),U=I.read_shift(2),j=I.l+U,ne={};switch(N){case 21589:M=I.read_shift(1),M&1&&(ne.mtime=I.read_shift(4)),U>5&&(M&2&&(ne.atime=I.read_shift(4)),M&4&&(ne.ctime=I.read_shift(4))),ne.mtime&&(ne.mt=new Date(ne.mtime*1e3));break}I.l=j,L[N]=ne}return L}var c;function l(){return c||(c={})}function d(I,L){if(I[0]==80&&I[1]==75)return Ya(I,L);if((I[0]|32)==109&&(I[1]|32)==105)return or(I,L);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var M=3,N=512,U=0,j=0,ne=0,he=0,te=0,re=[],ie=I.slice(0,512);Ii(ie,0);var xe=f(ie);switch(M=xe[0],M){case 3:N=512;break;case 4:N=4096;break;case 0:if(xe[1]==0)return Ya(I,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+M)}N!==512&&(ie=I.slice(0,N),Ii(ie,28));var Ce=I.slice(0,N);p(ie,M);var Ue=ie.read_shift(4,"i");if(M===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);ie.l+=4,ne=ie.read_shift(4,"i"),ie.l+=4,ie.chk("00100000","Mini Stream Cutoff Size: "),he=ie.read_shift(4,"i"),U=ie.read_shift(4,"i"),te=ie.read_shift(4,"i"),j=ie.read_shift(4,"i");for(var Te=-1,Pe=0;Pe<109&&(Te=ie.read_shift(4,"i"),!(Te<0));++Pe)re[Pe]=Te;var Je=_(I,N);T(te,j,Je,N,re);var Wt=X(Je,ne,re,N);Wt[ne].name="!Directory",U>0&&he!==B&&(Wt[he].name="!MiniFAT"),Wt[re[0]].name="!FAT",Wt.fat_addrs=re,Wt.ssz=N;var jn={},kt=[],En=[],ns=[];Y(ne,Wt,Je,kt,U,jn,En,he),C(En,ns,kt),kt.shift();var ao={FileIndex:En,FullPaths:ns};return L&&L.raw&&(ao.raw={header:Ce,sectors:Je}),ao}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(Ge,"Header Signature: "),I.l+=16;var L=I.read_shift(2,"u");return[I.read_shift(2,"u"),L]}function p(I,L){var M=9;switch(I.l+=2,M=I.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+M);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+M);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+M)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function _(I,L){for(var M=Math.ceil(I.length/L)-1,N=[],U=1;U<M;++U)N[U-1]=I.slice(U*L,(U+1)*L);return N[M-1]=I.slice(M*L),N}function C(I,L,M){for(var N=0,U=0,j=0,ne=0,he=0,te=M.length,re=[],ie=[];N<te;++N)re[N]=ie[N]=N,L[N]=M[N];for(;he<ie.length;++he)N=ie[he],U=I[N].L,j=I[N].R,ne=I[N].C,re[N]===N&&(U!==-1&&re[U]!==U&&(re[N]=re[U]),j!==-1&&re[j]!==j&&(re[N]=re[j])),ne!==-1&&(re[ne]=N),U!==-1&&N!=re[N]&&(re[U]=re[N],ie.lastIndexOf(U)<he&&ie.push(U)),j!==-1&&N!=re[N]&&(re[j]=re[N],ie.lastIndexOf(j)<he&&ie.push(j));for(N=1;N<te;++N)re[N]===N&&(j!==-1&&re[j]!==j?re[N]=re[j]:U!==-1&&re[U]!==U&&(re[N]=re[U]));for(N=1;N<te;++N)if(I[N].type!==0){if(he=N,he!=re[he])do he=re[he],L[N]=L[he]+"/"+L[N];while(he!==0&&re[he]!==-1&&he!=re[he]);re[N]=-1}for(L[0]+="/",N=1;N<te;++N)I[N].type!==2&&(L[N]+="/")}function w(I,L,M){for(var N=I.start,U=I.size,j=[],ne=N;M&&U>0&&ne>=0;)j.push(L.slice(ne*z,ne*z+z)),U-=z,ne=rl(M,ne*4);return j.length===0?fe(0):kr(j).slice(0,I.size)}function T(I,L,M,N,U){var j=B;if(I===B){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var ne=M[I],he=(N>>>2)-1;if(!ne)return;for(var te=0;te<he&&(j=rl(ne,te*4))!==B;++te)U.push(j);T(rl(ne,N-4),L-1,M,N,U)}}function K(I,L,M,N,U){var j=[],ne=[];U||(U=[]);var he=N-1,te=0,re=0;for(te=L;te>=0;){U[te]=!0,j[j.length]=te,ne.push(I[te]);var ie=M[Math.floor(te*4/N)];if(re=te*4&he,N<4+re)throw new Error("FAT boundary crossed: "+te+" 4 "+N);if(!I[ie])break;te=rl(I[ie],re)}return{nodes:j,data:MD([ne])}}function X(I,L,M,N){var U=I.length,j=[],ne=[],he=[],te=[],re=N-1,ie=0,xe=0,Ce=0,Ue=0;for(ie=0;ie<U;++ie)if(he=[],Ce=ie+L,Ce>=U&&(Ce-=U),!ne[Ce]){te=[];var Te=[];for(xe=Ce;xe>=0;){Te[xe]=!0,ne[xe]=!0,he[he.length]=xe,te.push(I[xe]);var Pe=M[Math.floor(xe*4/N)];if(Ue=xe*4&re,N<4+Ue)throw new Error("FAT boundary crossed: "+xe+" 4 "+N);if(!I[Pe]||(xe=rl(I[Pe],Ue),Te[xe]))break}j[Ce]={nodes:he,data:MD([te])}}return j}function Y(I,L,M,N,U,j,ne,he){for(var te=0,re=N.length?2:0,ie=L[I].data,xe=0,Ce=0,Ue;xe<ie.length;xe+=128){var Te=ie.slice(xe,xe+128);Ii(Te,64),Ce=Te.read_shift(2),Ue=e_(Te,0,Ce-re),N.push(Ue);var Pe={name:Ue,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},Je=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Je!==0&&(Pe.ct=ee(Te,Te.l-8));var Wt=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Wt!==0&&(Pe.mt=ee(Te,Te.l-8)),Pe.start=Te.read_shift(4,"i"),Pe.size=Te.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=B,Pe.name=""),Pe.type===5?(te=Pe.start,U>0&&te!==B&&(L[te].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",L[Pe.start]===void 0&&(L[Pe.start]=K(M,Pe.start,L.fat_addrs,L.ssz)),L[Pe.start].name=Pe.name,Pe.content=L[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:te!==B&&Pe.start!==B&&L[te]&&(Pe.content=w(Pe,L[te].data,(L[he]||{}).data))),Pe.content&&Ii(Pe.content,0),j[Ue]=Pe,ne.push(Pe)}}function ee(I,L){return new Date((pr(I,L+4)/1e7*Math.pow(2,32)+pr(I,L)/1e7-11644473600)*1e3)}function me(I,L){return l(),d(c.readFileSync(I),L)}function we(I,L){var M=L&&L.type;switch(M||Ut&&Buffer.isBuffer(I)&&(M="buffer"),M||"base64"){case"file":return me(I,L);case"base64":return d(vs(Go(I)),L);case"binary":return d(vs(I),L)}return d(I,L)}function D(I,L){var M=L||{},N=M.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=N+"/",I.FileIndex[0]={name:N,type:5}),M.CLSID&&(I.FileIndex[0].clsid=M.CLSID),A(I)}function A(I){var L="Sh33tJ5";if(!rn.find(I,"/"+L)){var M=fe(4);M[0]=55,M[1]=M[3]=50,M[2]=54,I.FileIndex.push({name:L,type:2,content:M,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+L),k(I)}}function k(I,L){D(I);for(var M=!1,N=!1,U=I.FullPaths.length-1;U>=0;--U){var j=I.FileIndex[U];switch(j.type){case 0:N?M=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:N=!0,isNaN(j.R*j.L*j.C)&&(M=!0),j.R>-1&&j.L>-1&&j.R==j.L&&(M=!0);break;default:M=!0;break}}if(!(!M&&!L)){var ne=new Date(1987,1,19),he=0,te=Object.create?Object.create(null):{},re=[];for(U=0;U<I.FullPaths.length;++U)te[I.FullPaths[U]]=!0,I.FileIndex[U].type!==0&&re.push([I.FullPaths[U],I.FileIndex[U]]);for(U=0;U<re.length;++U){var ie=r(re[U][0]);N=te[ie],N||(re.push([ie,{name:i(ie).replace("/",""),type:1,clsid:An,ct:ne,mt:ne,content:null}]),te[ie]=!0)}for(re.sort(function(Ue,Te){return t(Ue[0],Te[0])}),I.FullPaths=[],I.FileIndex=[],U=0;U<re.length;++U)I.FullPaths[U]=re[U][0],I.FileIndex[U]=re[U][1];for(U=0;U<re.length;++U){var xe=I.FileIndex[U],Ce=I.FullPaths[U];if(xe.name=i(Ce).replace("/",""),xe.L=xe.R=xe.C=-(xe.color=1),xe.size=xe.content?xe.content.length:0,xe.start=0,xe.clsid=xe.clsid||An,U===0)xe.C=re.length>1?1:-1,xe.size=0,xe.type=5;else if(Ce.slice(-1)=="/"){for(he=U+1;he<re.length&&r(I.FullPaths[he])!=Ce;++he);for(xe.C=he>=re.length?-1:he,he=U+1;he<re.length&&r(I.FullPaths[he])!=r(Ce);++he);xe.R=he>=re.length?-1:he,xe.type=1}else r(I.FullPaths[U+1]||"")==r(Ce)&&(xe.R=U+1),xe.type=2}}}function F(I,L){var M=L||{};if(M.fileType=="mad")return gi(I,M);switch(k(I),M.fileType){case"zip":return wr(I,M)}var N=function(Ue){for(var Te=0,Pe=0,Je=0;Je<Ue.FileIndex.length;++Je){var Wt=Ue.FileIndex[Je];if(Wt.content){var jn=Wt.content.length;jn>0&&(jn<4096?Te+=jn+63>>6:Pe+=jn+511>>9)}}for(var kt=Ue.FullPaths.length+3>>2,En=Te+7>>3,ns=Te+127>>7,ao=En+Pe+kt+ns,ri=ao+127>>7,ea=ri<=109?0:Math.ceil((ri-109)/127);ao+ri+ea+127>>7>ri;)ea=++ri<=109?0:Math.ceil((ri-109)/127);var ii=[1,ea,ri,ns,kt,Pe,Te,0];return Ue.FileIndex[0].size=Te<<6,ii[7]=(Ue.FileIndex[0].start=ii[0]+ii[1]+ii[2]+ii[3]+ii[4]+ii[5])+(ii[6]+7>>3),ii}(I),U=fe(N[7]<<9),j=0,ne=0;{for(j=0;j<8;++j)U.write_shift(1,ze[j]);for(j=0;j<8;++j)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),j=0;j<3;++j)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,N[2]),U.write_shift(4,N[0]+N[1]+N[2]+N[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,N[3]?N[0]+N[1]+N[2]-1:B),U.write_shift(4,N[3]),U.write_shift(-4,N[1]?N[0]-1:B),U.write_shift(4,N[1]),j=0;j<109;++j)U.write_shift(-4,j<N[2]?N[1]+j:-1)}if(N[1])for(ne=0;ne<N[1];++ne){for(;j<236+ne*127;++j)U.write_shift(-4,j<N[2]?N[1]+j:-1);U.write_shift(-4,ne===N[1]-1?B:ne+1)}var he=function(Ue){for(ne+=Ue;j<ne-1;++j)U.write_shift(-4,j+1);Ue&&(++j,U.write_shift(-4,B))};for(ne=j=0,ne+=N[1];j<ne;++j)U.write_shift(-4,We.DIFSECT);for(ne+=N[2];j<ne;++j)U.write_shift(-4,We.FATSECT);he(N[3]),he(N[4]);for(var te=0,re=0,ie=I.FileIndex[0];te<I.FileIndex.length;++te)ie=I.FileIndex[te],ie.content&&(re=ie.content.length,!(re<4096)&&(ie.start=ne,he(re+511>>9)));for(he(N[6]+7>>3);U.l&511;)U.write_shift(-4,We.ENDOFCHAIN);for(ne=j=0,te=0;te<I.FileIndex.length;++te)ie=I.FileIndex[te],ie.content&&(re=ie.content.length,!(!re||re>=4096)&&(ie.start=ne,he(re+63>>6)));for(;U.l&511;)U.write_shift(-4,We.ENDOFCHAIN);for(j=0;j<N[4]<<2;++j){var xe=I.FullPaths[j];if(!xe||xe.length===0){for(te=0;te<17;++te)U.write_shift(4,0);for(te=0;te<3;++te)U.write_shift(4,-1);for(te=0;te<12;++te)U.write_shift(4,0);continue}ie=I.FileIndex[j],j===0&&(ie.start=ie.size?ie.start-1:B);var Ce=j===0&&M.root||ie.name;if(re=2*(Ce.length+1),U.write_shift(64,Ce,"utf16le"),U.write_shift(2,re),U.write_shift(1,ie.type),U.write_shift(1,ie.color),U.write_shift(-4,ie.L),U.write_shift(-4,ie.R),U.write_shift(-4,ie.C),ie.clsid)U.write_shift(16,ie.clsid,"hex");else for(te=0;te<4;++te)U.write_shift(4,0);U.write_shift(4,ie.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,ie.start),U.write_shift(4,ie.size),U.write_shift(4,0)}for(j=1;j<I.FileIndex.length;++j)if(ie=I.FileIndex[j],ie.size>=4096)if(U.l=ie.start+1<<9,Ut&&Buffer.isBuffer(ie.content))ie.content.copy(U,U.l,0,ie.size),U.l+=ie.size+511&-512;else{for(te=0;te<ie.size;++te)U.write_shift(1,ie.content[te]);for(;te&511;++te)U.write_shift(1,0)}for(j=1;j<I.FileIndex.length;++j)if(ie=I.FileIndex[j],ie.size>0&&ie.size<4096)if(Ut&&Buffer.isBuffer(ie.content))ie.content.copy(U,U.l,0,ie.size),U.l+=ie.size+63&-64;else{for(te=0;te<ie.size;++te)U.write_shift(1,ie.content[te]);for(;te&63;++te)U.write_shift(1,0)}if(Ut)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function V(I,L){var M=I.FullPaths.map(function(te){return te.toUpperCase()}),N=M.map(function(te){var re=te.split("/");return re[re.length-(te.slice(-1)=="/"?2:1)]}),U=!1;L.charCodeAt(0)===47?(U=!0,L=M[0].slice(0,-1)+L):U=L.indexOf("/")!==-1;var j=L.toUpperCase(),ne=U===!0?M.indexOf(j):N.indexOf(j);if(ne!==-1)return I.FileIndex[ne];var he=!j.match(Ag);for(j=j.replace(Xu,""),he&&(j=j.replace(Ag,"!")),ne=0;ne<M.length;++ne)if((he?M[ne].replace(Ag,"!"):M[ne]).replace(Xu,"")==j||(he?N[ne].replace(Ag,"!"):N[ne]).replace(Xu,"")==j)return I.FileIndex[ne];return null}var z=64,B=-2,Ge="d0cf11e0a1b11ae1",ze=[208,207,17,224,161,177,26,225],An="00000000000000000000000000000000",We={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:Ge,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:An,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function kn(I,L,M){l();var N=F(I,M);c.writeFileSync(L,N)}function Nn(I){for(var L=new Array(I.length),M=0;M<I.length;++M)L[M]=String.fromCharCode(I[M]);return L.join("")}function bn(I,L){var M=F(I,L);switch(L&&L.type||"buffer"){case"file":return l(),c.writeFileSync(L.filename,M),M;case"binary":return typeof M=="string"?M:Nn(M);case"base64":return Nf(typeof M=="string"?M:Nn(M));case"buffer":if(Ut)return Buffer.isBuffer(M)?M:Xo(M);case"array":return typeof M=="string"?vs(M):M}return M}var ir;function R(I){try{var L=I.InflateRaw,M=new L;if(M._processChunk(new Uint8Array([3,0]),M._finishFlushFlag),M.bytesRead)ir=I;else throw new Error("zlib does not expose bytesRead")}catch(N){console.error("cannot use native zlib: "+(N.message||N))}}function ce(I,L){if(!ir)return Zo(I,L);var M=ir.InflateRaw,N=new M,U=N._processChunk(I.slice(I.l),N._finishFlushFlag);return I.l+=N.bytesRead,U}function J(I){return ir?ir.deflateRawSync(I):Ga(I)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function $e(I){var L=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(L>>16|L>>8|L)&255}for(var Be=typeof Uint8Array<"u",Ee=Be?new Uint8Array(256):[],Tt=0;Tt<256;++Tt)Ee[Tt]=$e(Tt);function lt(I,L){var M=Ee[I&255];return L<=8?M>>>8-L:(M=M<<8|Ee[I>>8&255],L<=16?M>>>16-L:(M=M<<8|Ee[I>>16&255],M>>>24-L))}function dn(I,L){var M=L&7,N=L>>>3;return(I[N]|(M<=6?0:I[N+1]<<8))>>>M&3}function ft(I,L){var M=L&7,N=L>>>3;return(I[N]|(M<=5?0:I[N+1]<<8))>>>M&7}function Jn(I,L){var M=L&7,N=L>>>3;return(I[N]|(M<=4?0:I[N+1]<<8))>>>M&15}function yt(I,L){var M=L&7,N=L>>>3;return(I[N]|(M<=3?0:I[N+1]<<8))>>>M&31}function Ne(I,L){var M=L&7,N=L>>>3;return(I[N]|(M<=1?0:I[N+1]<<8))>>>M&127}function en(I,L,M){var N=L&7,U=L>>>3,j=(1<<M)-1,ne=I[U]>>>N;return M<8-N||(ne|=I[U+1]<<8-N,M<16-N)||(ne|=I[U+2]<<16-N,M<24-N)||(ne|=I[U+3]<<24-N),ne&j}function pt(I,L,M){var N=L&7,U=L>>>3;return N<=5?I[U]|=(M&7)<<N:(I[U]|=M<<N&255,I[U+1]=(M&7)>>8-N),L+3}function Or(I,L,M){var N=L&7,U=L>>>3;return M=(M&1)<<N,I[U]|=M,L+1}function Di(I,L,M){var N=L&7,U=L>>>3;return M<<=N,I[U]|=M&255,M>>>=8,I[U+1]=M,L+8}function Jo(I,L,M){var N=L&7,U=L>>>3;return M<<=N,I[U]|=M&255,M>>>=8,I[U+1]=M&255,I[U+2]=M>>>8,L+16}function io(I,L){var M=I.length,N=2*M>L?2*M:L+5,U=0;if(M>=L)return I;if(Ut){var j=yD(N);if(I.copy)I.copy(j);else for(;U<I.length;++U)j[U]=I[U];return j}else if(Be){var ne=new Uint8Array(N);if(ne.set)ne.set(I);else for(;U<M;++U)ne[U]=I[U];return ne}return I.length=N,I}function yr(I){for(var L=new Array(I),M=0;M<I;++M)L[M]=0;return L}function Pi(I,L,M){var N=1,U=0,j=0,ne=0,he=0,te=I.length,re=Be?new Uint16Array(32):yr(32);for(j=0;j<32;++j)re[j]=0;for(j=te;j<M;++j)I[j]=0;te=I.length;var ie=Be?new Uint16Array(te):yr(te);for(j=0;j<te;++j)re[U=I[j]]++,N<U&&(N=U),ie[j]=0;for(re[0]=0,j=1;j<=N;++j)re[j+16]=he=he+re[j-1]<<1;for(j=0;j<te;++j)he=I[j],he!=0&&(ie[j]=re[he+16]++);var xe=0;for(j=0;j<te;++j)if(xe=I[j],xe!=0)for(he=lt(ie[j],N)>>N-xe,ne=(1<<N+4-xe)-1;ne>=0;--ne)L[he|ne<<xe]=xe&15|j<<4;return N}var Oi=Be?new Uint16Array(512):yr(512),Lt=Be?new Uint16Array(32):yr(32);if(!Be){for(var jt=0;jt<512;++jt)Oi[jt]=0;for(jt=0;jt<32;++jt)Lt[jt]=0}(function(){for(var I=[],L=0;L<32;L++)I.push(5);Pi(I,Lt,32);var M=[];for(L=0;L<=143;L++)M.push(8);for(;L<=255;L++)M.push(9);for(;L<=279;L++)M.push(7);for(;L<=287;L++)M.push(8);Pi(M,Oi,288)})();var ti=function(){for(var L=Be?new Uint8Array(32768):[],M=0,N=0;M<Re.length-1;++M)for(;N<Re[M+1];++N)L[N]=M;for(;N<32768;++N)L[N]=29;var U=Be?new Uint8Array(259):[];for(M=0,N=0;M<_e.length-1;++M)for(;N<_e[M+1];++N)U[N]=M;function j(he,te){for(var re=0;re<he.length;){var ie=Math.min(65535,he.length-re),xe=re+ie==he.length;for(te.write_shift(1,+xe),te.write_shift(2,ie),te.write_shift(2,~ie&65535);ie-- >0;)te[te.l++]=he[re++]}return te.l}function ne(he,te){for(var re=0,ie=0,xe=Be?new Uint16Array(32768):[];ie<he.length;){var Ce=Math.min(65535,he.length-ie);if(Ce<10){for(re=pt(te,re,+(ie+Ce==he.length)),re&7&&(re+=8-(re&7)),te.l=re/8|0,te.write_shift(2,Ce),te.write_shift(2,~Ce&65535);Ce-- >0;)te[te.l++]=he[ie++];re=te.l*8;continue}re=pt(te,re,+(ie+Ce==he.length)+2);for(var Ue=0;Ce-- >0;){var Te=he[ie];Ue=(Ue<<5^Te)&32767;var Pe=-1,Je=0;if((Pe=xe[Ue])&&(Pe|=ie&-32768,Pe>ie&&(Pe-=32768),Pe<ie))for(;he[Pe+Je]==he[ie+Je]&&Je<250;)++Je;if(Je>2){Te=U[Je],Te<=22?re=Di(te,re,Ee[Te+1]>>1)-1:(Di(te,re,3),re+=5,Di(te,re,Ee[Te-23]>>5),re+=3);var Wt=Te<8?0:Te-4>>2;Wt>0&&(Jo(te,re,Je-_e[Te]),re+=Wt),Te=L[ie-Pe],re=Di(te,re,Ee[Te]>>3),re-=3;var jn=Te<4?0:Te-2>>1;jn>0&&(Jo(te,re,ie-Pe-Re[Te]),re+=jn);for(var kt=0;kt<Je;++kt)xe[Ue]=ie&32767,Ue=(Ue<<5^he[ie])&32767,++ie;Ce-=Je-1}else Te<=143?Te=Te+48:re=Or(te,re,1),re=Di(te,re,Ee[Te]),xe[Ue]=ie&32767,++ie}re=Di(te,re,0)-1}return te.l=(re+7)/8|0,te.l}return function(te,re){return te.length<8?j(te,re):ne(te,re)}}();function Ga(I){var L=fe(50+Math.floor(I.length*1.1)),M=ti(I,L);return L.slice(0,M)}var Mi=Be?new Uint16Array(32768):yr(32768),Cs=Be?new Uint16Array(32768):yr(32768),Zi=Be?new Uint16Array(128):yr(128),Ts=1,so=1;function Ka(I,L){var M=yt(I,L)+257;L+=5;var N=yt(I,L)+1;L+=5;var U=Jn(I,L)+4;L+=4;for(var j=0,ne=Be?new Uint8Array(19):yr(19),he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,re=Be?new Uint8Array(8):yr(8),ie=Be?new Uint8Array(8):yr(8),xe=ne.length,Ce=0;Ce<U;++Ce)ne[Q[Ce]]=j=ft(I,L),te<j&&(te=j),re[j]++,L+=3;var Ue=0;for(re[0]=0,Ce=1;Ce<=te;++Ce)ie[Ce]=Ue=Ue+re[Ce-1]<<1;for(Ce=0;Ce<xe;++Ce)(Ue=ne[Ce])!=0&&(he[Ce]=ie[Ue]++);var Te=0;for(Ce=0;Ce<xe;++Ce)if(Te=ne[Ce],Te!=0){Ue=Ee[he[Ce]]>>8-Te;for(var Pe=(1<<7-Te)-1;Pe>=0;--Pe)Zi[Ue|Pe<<Te]=Te&7|Ce<<3}var Je=[];for(te=1;Je.length<M+N;)switch(Ue=Zi[Ne(I,L)],L+=Ue&7,Ue>>>=3){case 16:for(j=3+dn(I,L),L+=2,Ue=Je[Je.length-1];j-- >0;)Je.push(Ue);break;case 17:for(j=3+ft(I,L),L+=3;j-- >0;)Je.push(0);break;case 18:for(j=11+Ne(I,L),L+=7;j-- >0;)Je.push(0);break;default:Je.push(Ue),te<Ue&&(te=Ue);break}var Wt=Je.slice(0,M),jn=Je.slice(M);for(Ce=M;Ce<286;++Ce)Wt[Ce]=0;for(Ce=N;Ce<30;++Ce)jn[Ce]=0;return Ts=Pi(Wt,Mi,286),so=Pi(jn,Cs,30),L}function Xa(I,L){if(I[0]==3&&!(I[1]&3))return[ol(L),2];for(var M=0,N=0,U=yD(L||1<<18),j=0,ne=U.length>>>0,he=0,te=0;!(N&1);){if(N=ft(I,M),M+=3,N>>>1)N>>1==1?(he=9,te=5):(M=Ka(I,M),he=Ts,te=so);else{M&7&&(M+=8-(M&7));var re=I[M>>>3]|I[(M>>>3)+1]<<8;if(M+=32,re>0)for(!L&&ne<j+re&&(U=io(U,j+re),ne=U.length);re-- >0;)U[j++]=I[M>>>3],M+=8;continue}for(;;){!L&&ne<j+32767&&(U=io(U,j+32767),ne=U.length);var ie=en(I,M,he),xe=N>>>1==1?Oi[ie]:Mi[ie];if(M+=xe&15,xe>>>=4,!(xe>>>8&255))U[j++]=xe;else{if(xe==256)break;xe-=257;var Ce=xe<8?0:xe-4>>2;Ce>5&&(Ce=0);var Ue=j+_e[xe];Ce>0&&(Ue+=en(I,M,Ce),M+=Ce),ie=en(I,M,te),xe=N>>>1==1?Lt[ie]:Cs[ie],M+=xe&15,xe>>>=4;var Te=xe<4?0:xe-2>>1,Pe=Re[xe];for(Te>0&&(Pe+=en(I,M,Te),M+=Te),!L&&ne<Ue&&(U=io(U,Ue+100),ne=U.length);j<Ue;)U[j]=U[j-Pe],++j}}}return L?[U,M+7>>>3]:[U.slice(0,j),M+7>>>3]}function Zo(I,L){var M=I.slice(I.l||0),N=Xa(M,L);return I.l+=N[1],N[0]}function es(I,L){if(I)typeof console<"u"&&console.error(L);else throw new Error(L)}function Ya(I,L){var M=I;Ii(M,0);var N=[],U=[],j={FileIndex:N,FullPaths:U};D(j,{root:L.root});for(var ne=M.length-4;(M[ne]!=80||M[ne+1]!=75||M[ne+2]!=5||M[ne+3]!=6)&&ne>=0;)--ne;M.l=ne+4,M.l+=4;var he=M.read_shift(2);M.l+=6;var te=M.read_shift(4);for(M.l=te,ne=0;ne<he;++ne){M.l+=20;var re=M.read_shift(4),ie=M.read_shift(4),xe=M.read_shift(2),Ce=M.read_shift(2),Ue=M.read_shift(2);M.l+=8;var Te=M.read_shift(4),Pe=a(M.slice(M.l+xe,M.l+xe+Ce));M.l+=xe+Ce+Ue;var Je=M.l;M.l=Te+4,sr(M,re,ie,j,Pe),M.l=Je}return j}function sr(I,L,M,N,U){I.l+=2;var j=I.read_shift(2),ne=I.read_shift(2),he=o(I);if(j&8257)throw new Error("Unsupported ZIP encryption");for(var te=I.read_shift(4),re=I.read_shift(4),ie=I.read_shift(4),xe=I.read_shift(2),Ce=I.read_shift(2),Ue="",Te=0;Te<xe;++Te)Ue+=String.fromCharCode(I[I.l++]);if(Ce){var Pe=a(I.slice(I.l,I.l+Ce));(Pe[21589]||{}).mt&&(he=Pe[21589].mt),((U||{})[21589]||{}).mt&&(he=U[21589].mt)}I.l+=Ce;var Je=I.slice(I.l,I.l+re);switch(ne){case 8:Je=ce(I,ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ne)}var Wt=!1;j&8&&(te=I.read_shift(4),te==134695760&&(te=I.read_shift(4),Wt=!0),re=I.read_shift(4),ie=I.read_shift(4)),re!=L&&es(Wt,"Bad compressed size: "+L+" != "+re),ie!=M&&es(Wt,"Bad uncompressed size: "+M+" != "+ie),fn(N,Ue,Je,{unsafe:!0,mt:he})}function wr(I,L){var M=L||{},N=[],U=[],j=fe(1),ne=M.compression?8:0,he=0,te=!1;te&&(he|=8);var re=0,ie=0,xe=0,Ce=0,Ue=I.FullPaths[0],Te=Ue,Pe=I.FileIndex[0],Je=[],Wt=0;for(re=1;re<I.FullPaths.length;++re)if(Te=I.FullPaths[re].slice(Ue.length),Pe=I.FileIndex[re],!(!Pe.size||!Pe.content||Te=="Sh33tJ5")){var jn=xe,kt=fe(Te.length);for(ie=0;ie<Te.length;++ie)kt.write_shift(1,Te.charCodeAt(ie)&127);kt=kt.slice(0,kt.l),Je[Ce]=Wz.buf(Pe.content,0);var En=Pe.content;ne==8&&(En=J(En)),j=fe(30),j.write_shift(4,67324752),j.write_shift(2,20),j.write_shift(2,he),j.write_shift(2,ne),Pe.mt?s(j,Pe.mt):j.write_shift(4,0),j.write_shift(-4,he&8?0:Je[Ce]),j.write_shift(4,he&8?0:En.length),j.write_shift(4,he&8?0:Pe.content.length),j.write_shift(2,kt.length),j.write_shift(2,0),xe+=j.length,N.push(j),xe+=kt.length,N.push(kt),xe+=En.length,N.push(En),he&8&&(j=fe(12),j.write_shift(-4,Je[Ce]),j.write_shift(4,En.length),j.write_shift(4,Pe.content.length),xe+=j.l,N.push(j)),j=fe(46),j.write_shift(4,33639248),j.write_shift(2,0),j.write_shift(2,20),j.write_shift(2,he),j.write_shift(2,ne),j.write_shift(4,0),j.write_shift(-4,Je[Ce]),j.write_shift(4,En.length),j.write_shift(4,Pe.content.length),j.write_shift(2,kt.length),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(4,0),j.write_shift(4,jn),Wt+=j.l,U.push(j),Wt+=kt.length,U.push(kt),++Ce}return j=fe(22),j.write_shift(4,101010256),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,Ce),j.write_shift(2,Ce),j.write_shift(4,Wt),j.write_shift(4,xe),j.write_shift(2,0),kr([kr(N),kr(U),j])}var Ss={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zn(I,L){if(I.ctype)return I.ctype;var M=I.name||"",N=M.match(/\.([^\.]+)$/);return N&&Ss[N[1]]||L&&(N=(M=L).match(/[\.\\]([^\.\\])+$/),N&&Ss[N[1]])?Ss[N[1]]:"application/octet-stream"}function ni(I){for(var L=Nf(I),M=[],N=0;N<L.length;N+=76)M.push(L.slice(N,N+76));return M.join(`\r
`)+`\r
`}function Qa(I){var L=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var ie=re.charCodeAt(0).toString(16).toUpperCase();return"="+(ie.length==1?"0"+ie:ie)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var M=[],N=L.split(`\r
`),U=0;U<N.length;++U){var j=N[U];if(j.length==0){M.push("");continue}for(var ne=0;ne<j.length;){var he=76,te=j.slice(ne,ne+he);te.charAt(he-1)=="="?he--:te.charAt(he-2)=="="?he-=2:te.charAt(he-3)=="="&&(he-=3),te=j.slice(ne,ne+he),ne+=he,ne<j.length&&(te+="="),M.push(te)}}return M.join(`\r
`)}function oo(I){for(var L=[],M=0;M<I.length;++M){for(var N=I[M];M<=I.length&&N.charAt(N.length-1)=="=";)N=N.slice(0,N.length-1)+I[++M];L.push(N)}for(var U=0;U<L.length;++U)L[U]=L[U].replace(/[=][0-9A-Fa-f]{2}/g,function(j){return String.fromCharCode(parseInt(j.slice(1),16))});return vs(L.join(`\r
`))}function Ct(I,L,M){for(var N="",U="",j="",ne,he=0;he<10;++he){var te=L[he];if(!te||te.match(/^\s*$/))break;var re=te.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":N=re[2].trim();break;case"content-type":j=re[2].trim();break;case"content-transfer-encoding":U=re[2].trim();break}}switch(++he,U.toLowerCase()){case"base64":ne=vs(Go(L.slice(he).join("")));break;case"quoted-printable":ne=oo(L.slice(he));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var ie=fn(I,N.slice(M.length),ne,{unsafe:!0});j&&(ie.ctype=j)}function or(I,L){if(Nn(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var M=L&&L.root||"",N=(Ut&&Buffer.isBuffer(I)?I.toString("binary"):Nn(I)).split(`\r
`),U=0,j="";for(U=0;U<N.length;++U)if(j=N[U],!!/^Content-Location:/i.test(j)&&(j=j.slice(j.indexOf("file")),M||(M=j.slice(0,j.lastIndexOf("/")+1)),j.slice(0,M.length)!=M))for(;M.length>0&&(M=M.slice(0,M.length-1),M=M.slice(0,M.lastIndexOf("/")+1),j.slice(0,M.length)!=M););var ne=(N[1]||"").match(/boundary="(.*?)"/);if(!ne)throw new Error("MAD cannot find boundary");var he="--"+(ne[1]||""),te=[],re=[],ie={FileIndex:te,FullPaths:re};D(ie);var xe,Ce=0;for(U=0;U<N.length;++U){var Ue=N[U];Ue!==he&&Ue!==he+"--"||(Ce++&&Ct(ie,N.slice(xe,U),M),xe=U)}return ie}function gi(I,L){var M=L||{},N=M.boundary||"SheetJS";N="------="+N;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+N.slice(2)+'"',"","",""],j=I.FullPaths[0],ne=j,he=I.FileIndex[0],te=1;te<I.FullPaths.length;++te)if(ne=I.FullPaths[te].slice(j.length),he=I.FileIndex[te],!(!he.size||!he.content||ne=="Sh33tJ5")){ne=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Je){return"_x"+Je.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Je){return"_u"+Je.charCodeAt(0).toString(16)+"_"});for(var re=he.content,ie=Ut&&Buffer.isBuffer(re)?re.toString("binary"):Nn(re),xe=0,Ce=Math.min(1024,ie.length),Ue=0,Te=0;Te<=Ce;++Te)(Ue=ie.charCodeAt(Te))>=32&&Ue<128&&++xe;var Pe=xe>=Ce*4/5;U.push(N),U.push("Content-Location: "+(M.root||"file:///C:/SheetJS/")+ne),U.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),U.push("Content-Type: "+Zn(he,ne)),U.push(""),U.push(Pe?Qa(ie):ni(ie))}return U.push(N+`--\r
`),U.join(`\r
`)}function hn(I){var L={};return D(L,I),L}function fn(I,L,M,N){var U=N&&N.unsafe;U||D(I);var j=!U&&rn.find(I,L);if(!j){var ne=I.FullPaths[0];L.slice(0,ne.length)==ne?ne=L:(ne.slice(-1)!="/"&&(ne+="/"),ne=(ne+L).replace("//","/")),j={name:i(L),type:2},I.FileIndex.push(j),I.FullPaths.push(ne),U||rn.utils.cfb_gc(I)}return j.content=M,j.size=M?M.length:0,N&&(N.CLSID&&(j.clsid=N.CLSID),N.mt&&(j.mt=N.mt),N.ct&&(j.ct=N.ct)),j}function gn(I,L){D(I);var M=rn.find(I,L);if(M){for(var N=0;N<I.FileIndex.length;++N)if(I.FileIndex[N]==M)return I.FileIndex.splice(N,1),I.FullPaths.splice(N,1),!0}return!1}function ts(I,L,M){D(I);var N=rn.find(I,L);if(N){for(var U=0;U<I.FileIndex.length;++U)if(I.FileIndex[U]==N)return I.FileIndex[U].name=i(M),I.FullPaths[U]=M,!0}return!1}function xl(I){k(I,!0)}return e.find=V,e.read=we,e.parse=d,e.write=bn,e.writeFile=kn,e.utils={cfb_new:hn,cfb_add:fn,cfb_del:gn,cfb_mov:ts,cfb_gc:xl,ReadShift:Rf,CheckField:RP,prep_blob:Ii,bconcat:kr,use_zlib:R,_deflateRaw:Ga,_inflateRaw:Zo,consts:We},e}(),Rg;function zz(n){return typeof n=="string"?Xg(n):Array.isArray(n)?mz(n):n}function Wf(n,e,t){if(typeof Rg<"u"&&Rg.writeFileSync)return t?Rg.writeFileSync(n,e,t):Rg.writeFileSync(n,e);if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Xg(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?zo(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([zz(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(n);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=jf(e)),a.write(e),a.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function Pr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function ID(n,e){for(var t=[],r=Pr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function Gb(n){for(var e=[],t=Pr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Jg(n){for(var e=[],t=Pr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function Hz(n){for(var e=[],t=Pr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Bg=new Date(1899,11,30,0,0,0);function fi(n,e){var t=n.getTime();e&&(t-=1462*24*60*60*1e3);var r=Bg.getTime()+(n.getTimezoneOffset()-Bg.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var vP=new Date,$z=Bg.getTime()+(vP.getTimezoneOffset()-Bg.getTimezoneOffset())*6e4,AD=vP.getTimezoneOffset();function yP(n){var e=new Date;return e.setTime(n*24*60*60*1e3+$z),e.getTimezoneOffset()!==AD&&e.setTime(e.getTime()+(e.getTimezoneOffset()-AD)*6e4),e}var kD=new Date("2017-02-19T19:06:09.000Z"),wP=isNaN(kD.getFullYear())?new Date("2/19/17"):kD,qz=wP.getFullYear()==2017;function ei(n,e){var t=new Date(n);if(qz)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(wP.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Zg(n,e){if(Ut&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return zo(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return zo(pz(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return zo(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return zo(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function pi(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=pi(n[t]));return e}function Mn(n,e){for(var t="";t.length<e;)t+=n;return t}function $o(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var Gz=["january","february","march","april","may","june","july","august","september","october","november","december"];function Lf(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Gz.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function wt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Ut?r=Xo(t):r=gz(t),rn.utils.cfb_add(n,e,r)}rn.utils.cfb_add(n,e,t)}else n.file(e,t)}function Kb(){return rn.utils.cfb_new()}var Qn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var Kz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xb=Gb(Kz);var Yb=/[&<>'"]/g,Xz=/[\u0000-\u0008\u000b-\u001f]/g;function Jt(n){var e=n+"";return e.replace(Yb,function(t){return Xb[t]}).replace(Xz,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function RD(n){return Jt(n).replace(/ /g,"_x0020_")}var xP=/[\u0000-\u001f]/g;function Yz(n){var e=n+"";return e.replace(Yb,function(t){return Xb[t]}).replace(/\n/g,"<br/>").replace(xP,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Qz(n){var e=n+"";return e.replace(Yb,function(t){return Xb[t]}).replace(xP,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Jz(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Zz(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Mb(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function DD(n){var e=ol(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function PD(n){return Xo(n,"binary").toString("utf8")}var Dg="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",kf=Ut&&(PD(Dg)==Mb(Dg)&&PD||DD(Dg)==Mb(Dg)&&DD)||Mb,zo=Ut?function(n){return Xo(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")};var eH=function(){var n=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}();var bP=/(^\s|\s$|\n)/;function Rr(n,e){return"<"+n+(e.match(bP)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Vf(n){return Pr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Ie(n,e,t){return"<"+n+(t!=null?Vf(t):"")+(e!=null?(e.match(bP)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function Wb(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function tH(n,e){switch(typeof n){case"string":var t=Ie("vt:lpwstr",Jt(n));return e&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return Ie((n|0)==n?"vt:i4":"vt:r8",Jt(String(n)));case"boolean":return Ie("vt:bool",n?"true":"false")}if(n instanceof Date)return Ie("vt:filetime",Wb(n));throw new Error("Unable to serialize "+n)}var mr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},nd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ai={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nH(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function rH(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var OD=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},MD=Ut?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Xo(e)})):OD(n)}:OD,FD=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Af(n,i)));return r.join("").replace(Xu,"")},e_=Ut?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Xu,""):FD(n,e,t)}:FD,ND=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},EP=Ut?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):ND(n,e,t)}:ND,LD=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Gu(n,i)));return r.join("")},rd=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):LD(e,t,r)}:LD,CP=function(n,e){var t=pr(n,e);return t>0?rd(n,e+4,e+4+t-1):""},Qb=CP,TP=function(n,e){var t=pr(n,e);return t>0?rd(n,e+4,e+4+t-1):""},Jb=TP,SP=function(n,e){var t=2*pr(n,e);return t>0?rd(n,e+4,e+4+t-1):""},Zb=SP,IP=function(e,t){var r=pr(e,t);return r>0?e_(e,t+4,t+4+r):""},eE=IP,AP=function(n,e){var t=pr(n,e);return t>0?rd(n,e+4,e+4+t):""},tE=AP,kP=function(n,e){return nH(n,e)},Ug=kP,nE=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ut&&(Qb=function(e,t){if(!Buffer.isBuffer(e))return CP(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Jb=function(e,t){if(!Buffer.isBuffer(e))return TP(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Zb=function(e,t){if(!Buffer.isBuffer(e))return SP(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},eE=function(e,t){if(!Buffer.isBuffer(e))return IP(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},tE=function(e,t){if(!Buffer.isBuffer(e))return AP(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Ug=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):kP(e,t)},nE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function iH(){e_=function(n,e,t){return an.utils.decode(1200,n.slice(e,t)).replace(Xu,"")},rd=function(n,e,t){return an.utils.decode(65001,n.slice(e,t))},Qb=function(n,e){var t=pr(n,e);return t>0?an.utils.decode(ed,n.slice(e+4,e+4+t-1)):""},Jb=function(n,e){var t=pr(n,e);return t>0?an.utils.decode(il,n.slice(e+4,e+4+t-1)):""},Zb=function(n,e){var t=2*pr(n,e);return t>0?an.utils.decode(1200,n.slice(e+4,e+4+t-1)):""},eE=function(n,e){var t=pr(n,e);return t>0?an.utils.decode(1200,n.slice(e+4,e+4+t)):""},tE=function(n,e){var t=pr(n,e);return t>0?an.utils.decode(65001,n.slice(e+4,e+4+t)):""}}typeof an<"u"&&iH();var Gu=function(n,e){return n[e]},Af=function(n,e){return n[e+1]*256+n[e]},sH=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},pr=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},rl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},oH=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Rf(n,e){var t="",r,i,s=[],o,a,c,l;switch(e){case"dbcs":if(l=this.l,Ut&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(Af(this,l)),l+=2;n*=2;break;case"utf8":t=rd(this,this.l,this.l+n);break;case"utf16le":n*=2,t=e_(this,this.l,this.l+n);break;case"wstr":if(typeof an<"u")t=an.utils.decode(il,this.slice(this.l,this.l+2*n));else return Rf.call(this,n,"dbcs");n=2*n;break;case"lpstr-ansi":t=Qb(this,this.l),n=4+pr(this,this.l);break;case"lpstr-cp":t=Jb(this,this.l),n=4+pr(this,this.l);break;case"lpwstr":t=Zb(this,this.l),n=4+2*pr(this,this.l);break;case"lpp4":n=4+pr(this,this.l),t=eE(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+pr(this,this.l),t=tE(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Gu(this,this.l+n++))!==0;)s.push(Ig(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=Af(this,this.l+n))!==0;)s.push(Ig(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",l=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=Gu(this,l),this.l=l+1,a=Rf.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Ig(Af(this,l))),l+=2}t=s.join(""),n*=2;break;case"cpstr":if(typeof an<"u"){t=an.utils.decode(il,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(t="",l=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=Gu(this,l),this.l=l+1,a=Rf.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Ig(Gu(this,l))),l+=1}t=s.join("");break;default:switch(n){case 1:return r=Gu(this,this.l),this.l++,r;case 2:return r=(e==="i"?sH:Af)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(n>0?rl:oH)(this,this.l),this.l+=4,r):(i=pr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=Ug(this,this.l):i=Ug([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=EP(this,this.l,n);break}}return this.l+=n,t}var aH=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},cH=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},lH=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function uH(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)lH(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){if(typeof an<"u"&&ed==874)for(i=0;i!=e.length;++i){var s=an.utils.encode(ed,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,aH(this,e,this.l);break;case 8:if(r=8,t==="f"){rH(this,e,this.l);break}case 16:break;case-4:r=4,cH(this,e,this.l);break}return this.l+=r,this}function RP(n,e){var t=EP(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Ii(n,e){n.l=e,n.read_shift=Rf,n.chk=RP,n.write_shift=uH}function no(n,e){n.l+=e}function fe(n){var e=ol(n);return Ii(e,0),e}function hi(){var n=[],e=Ut?256:2048,t=function(l){var d=fe(l);return Ii(d,0),d},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(l){return r&&l<r.length-r.l?r:(i(),r=t(Math.max(l+1,e)))},o=function(){return i(),kr(n)},a=function(l){i(),r=l,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function ve(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=rY[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&nE(t)&&n.push(t)}}function Df(n,e,t){var r=pi(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function VD(n,e,t){var r=pi(n);return r.s=Df(r.s,e.s,t),r.e=Df(r.e,e.s,t),r}function Pf(n,e){if(n.cRel&&n.c<0)for(n=pi(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=pi(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Zt(n);return!n.cRel&&n.cRel!=null&&(t=fH(t)),!n.rRel&&n.rRel!=null&&(t=dH(t)),t}function Fb(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ur(n.s.c)+":"+(n.e.cRel?"":"$")+Ur(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Dr(n.s.r)+":"+(n.e.rRel?"":"$")+Dr(n.e.r):Pf(n.s,e.biff)+":"+Pf(n.e,e.biff)}function rE(n){return parseInt(hH(n),10)-1}function Dr(n){return""+(n+1)}function dH(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function hH(n){return n.replace(/\$(\d+)$/,"$1")}function iE(n){for(var e=pH(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ur(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function fH(n){return n.replace(/^([A-Z])/,"$$$1")}function pH(n){return n.replace(/^\$([A-Z])/,"$1")}function mH(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function gr(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Zt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ki(n){var e=n.indexOf(":");return e==-1?{s:gr(n),e:gr(n)}:{s:gr(n.slice(0,e)),e:gr(n.slice(e+1))}}function Yn(n,e){return typeof e>"u"||typeof e=="number"?Yn(n.s,n.e):(typeof n!="string"&&(n=Zt(n)),typeof e!="string"&&(e=Zt(e)),n==e?n:n+":"+e)}function pn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function BD(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=ja(n.z,t?fi(e):e)}catch{}try{return n.w=ja((n.XF||{}).numFmtId||(t?14:0),t?fi(e):e)}catch{return""+e}}function Ko(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?zf[n.v]||n.v:e==null?BD(n,n.v):BD(n,e))}function ll(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function DP(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense;to!=null&&i==null&&(i=to);var s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?gr(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=pn(s["!ref"]);l.s.c=d.s.c,l.s.r=d.s.r,l.e.c=Math.max(l.e.c,d.e.c),l.e.r=Math.max(l.e.r,d.e.r),o==-1&&(l.e.r=o=d.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[f].length;++p)if(!(typeof e[f][p]>"u")){var _={v:e[f][p]},C=o+f,w=a+p;if(l.s.r>C&&(l.s.r=C),l.s.c>w&&(l.s.c=w),l.e.r<C&&(l.e.r=C),l.e.c<w&&(l.e.c=w),e[f][p]&&typeof e[f][p]=="object"&&!Array.isArray(e[f][p])&&!(e[f][p]instanceof Date))_=e[f][p];else if(Array.isArray(_.v)&&(_.f=e[f][p][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(r.nullError)_.t="e",_.v=0;else if(r.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=r.dateNF||Fn[14],r.cellDates?(_.t="d",_.w=ja(_.z,fi(_.v))):(_.t="n",_.v=fi(_.v),_.w=ja(_.z,_.v))):_.t="s";if(i)s[C]||(s[C]=[]),s[C][w]&&s[C][w].z&&(_.z=s[C][w].z),s[C][w]=_;else{var T=Zt({c:w,r:C});s[T]&&s[T].z&&(_.z=s[T].z),s[T]=_}}}return l.s.c<1e7&&(s["!ref"]=Yn(l)),s}function id(n,e){return DP(null,n,e)}function gH(n){return n.read_shift(4,"i")}function ws(n,e){return e||(e=fe(4)),e.write_shift(4,n),e}function jr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function _r(n,e){var t=!1;return e==null&&(t=!0,e=fe(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function _H(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function vH(n,e){return e||(e=fe(4)),e.write_shift(2,n.ich||0),e.write_shift(2,n.ifnt||0),e}function sE(n,e){var t=n.l,r=n.read_shift(1),i=jr(n),s=[],o={t:i,h:i};if(r&1){for(var a=n.read_shift(4),c=0;c!=a;++c)s.push(_H(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function yH(n,e){var t=!1;return e==null&&(t=!0,e=fe(15+4*n.t.length)),e.write_shift(1,0),_r(n.t,e),t?e.slice(0,e.l):e}var wH=sE;function xH(n,e){var t=!1;return e==null&&(t=!0,e=fe(23+4*n.t.length)),e.write_shift(1,1),_r(n.t,e),e.write_shift(4,1),vH({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}function Xi(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function ul(n,e){return e==null&&(e=fe(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function dl(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function hl(n,e){return e==null&&(e=fe(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var bH=jr,PP=_r;function oE(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function jg(n,e){var t=!1;return e==null&&(t=!0,e=fe(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var EH=jr,zb=oE,aE=jg;function OP(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?Ug([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):rl(e,0)>>2;return t?i/100:i}function MP(n,e){e==null&&(e=fe(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function FP(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function CH(n,e){return e||(e=fe(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var fl=FP,sd=CH;function od(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function al(n,e){return(e||fe(8)).write_shift(8,n,"f")}function TH(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var l=MH[i];l&&(e.rgb=YD(l));break;case 2:e.rgb=YD([o,a,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Wg(n,e){if(e||(e=fe(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function SH(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function IH(n,e){e||(e=fe(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var NP=2,Si=3,Pg=11;var zg=19;var Og=64,AH=65,kH=71;var RH=4108,DH=4126,Ar=80;var UD={1:{n:"CodePage",t:NP},2:{n:"Category",t:Ar},3:{n:"PresentationFormat",t:Ar},4:{n:"ByteCount",t:Si},5:{n:"LineCount",t:Si},6:{n:"ParagraphCount",t:Si},7:{n:"SlideCount",t:Si},8:{n:"NoteCount",t:Si},9:{n:"HiddenCount",t:Si},10:{n:"MultimediaClipCount",t:Si},11:{n:"ScaleCrop",t:Pg},12:{n:"HeadingPairs",t:RH},13:{n:"TitlesOfParts",t:DH},14:{n:"Manager",t:Ar},15:{n:"Company",t:Ar},16:{n:"LinksUpToDate",t:Pg},17:{n:"CharacterCount",t:Si},19:{n:"SharedDoc",t:Pg},22:{n:"HyperlinksChanged",t:Pg},23:{n:"AppVersion",t:Si,p:"version"},24:{n:"DigSig",t:AH},26:{n:"ContentType",t:Ar},27:{n:"ContentStatus",t:Ar},28:{n:"Language",t:Ar},29:{n:"Version",t:Ar},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}},jD={1:{n:"CodePage",t:NP},2:{n:"Title",t:Ar},3:{n:"Subject",t:Ar},4:{n:"Author",t:Ar},5:{n:"Keywords",t:Ar},6:{n:"Comments",t:Ar},7:{n:"Template",t:Ar},8:{n:"LastAuthor",t:Ar},9:{n:"RevNumber",t:Ar},10:{n:"EditTime",t:Og},11:{n:"LastPrinted",t:Og},12:{n:"CreatedDate",t:Og},13:{n:"ModifiedDate",t:Og},14:{n:"PageCount",t:Si},15:{n:"WordCount",t:Si},16:{n:"CharCount",t:Si},17:{n:"Thumbnail",t:kH},18:{n:"Application",t:Ar},19:{n:"DocSecurity",t:Si},255:{},2147483648:{n:"Locale",t:zg},2147483651:{n:"Behavior",t:zg},1919054434:{}};function PH(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var OH=PH([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),MH=pi(OH),zf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var FH={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function LP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VP(n,e){var t=Hz(FH),r=[],i;r[r.length]=Qn,r[r.length]=Ie("Types",null,{xmlns:mr.CT,"xmlns:xsd":mr.xsd,"xmlns:xsi":mr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ie("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){n[c]&&n[c].length>0&&(i=n[c][0],r[r.length]=Ie("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mg[c][e.bookType]||Mg[c].xlsx}))},o=function(c){(n[c]||[]).forEach(function(l){r[r.length]=Ie("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:Mg[c][e.bookType]||Mg[c].xlsx})})},a=function(c){(n[c]||[]).forEach(function(l){r[r.length]=Ie("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:t[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Nt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BP(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Qu(n){var e=[Qn,Ie("Relationships",null,{xmlns:mr.RELS})];return Pr(n["!id"]).forEach(function(t){e[e.length]=Ie("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Qt(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,s?i.TargetMode=s:[Nt.HLINK,Nt.XPATH,Nt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function NH(n){var e=[Qn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function WD(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function LH(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function VH(n){var e=[Qn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(WD(n[t][0],n[t][1])),e.push(LH("",n[t][0]));return e.push(WD("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function UP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mf.version+"</meta:generator></office:meta></office:document-meta>"}var sl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Nb(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Jt(e),r[r.length]=t?Ie(n,e,t):Rr(n,e))}function jP(n,e){var t=e||{},r=[Qn,Ie("cp:coreProperties",null,{"xmlns:cp":mr.CORE_PROPS,"xmlns:dc":mr.dc,"xmlns:dcterms":mr.dcterms,"xmlns:dcmitype":mr.dcmitype,"xmlns:xsi":mr.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Nb("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Wb(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&Nb("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Wb(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=sl.length;++s){var o=sl[s],a=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&Nb(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ju=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],WP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function zP(n){var e=[],t=Ie;return n||(n={}),n.Application="SheetJS",e[e.length]=Qn,e[e.length]=Ie("Properties",null,{xmlns:mr.EXT_PROPS,"xmlns:vt":mr.vt}),Ju.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Jt(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Jt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function HP(n){var e=[Qn,Ie("Properties",null,{xmlns:mr.CUST_PROPS,"xmlns:vt":mr.vt})];if(!n)return e.join("");var t=1;return Pr(n).forEach(function(i){++t,e[e.length]=Ie("property",tH(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Jt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var zD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BH(n,e){var t=[];return Pr(zD).map(function(r){for(var i=0;i<sl.length;++i)if(sl[i][1]==r)return sl[i];for(i=0;i<Ju.length;++i)if(Ju[i][1]==r)return Ju[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Rr(zD[r[1]]||r[1],i))}}),Ie("DocumentProperties",t.join(""),{xmlns:Ai.o})}function UH(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Pr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<sl.length;++o)if(s==sl[o][1])return;for(o=0;o<Ju.length;++o)if(s==Ju[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var a=n[s],c="string";typeof a=="number"?(c="float",a=String(a)):a===!0||a===!1?(c="boolean",a=a?"1":"0"):a=String(a),i.push(Ie(RD(s),a,{"dt:dt":c}))}}),e&&Pr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Ie(RD(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+Ai.o+'">'+i.join("")+"</"+r+">"}function jH(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=fe(8);return o.write_shift(4,r),o.write_shift(4,i),o}function HD(n,e){var t=fe(4),r=fe(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=fe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=jH(e);break;case 31:case 80:for(r=fe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return kr([t,r])}var $P=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function WH(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function $D(n,e,t){var r=fe(8),i=[],s=[],o=8,a=0,c=fe(8),l=fe(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),s.push(c),i.push(l),o+=8+c.length,!e){l=fe(8),l.write_shift(4,0),i.unshift(l);var d=[fe(4)];for(d[0].write_shift(4,n.length),a=0;a<n.length;++a){var f=n[a][0];for(c=fe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,a+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=kr(d),s.unshift(c),o+=8+c.length}for(a=0;a<n.length;++a)if(!(e&&!e[n[a][0]])&&!($P.indexOf(n[a][0])>-1||WP.indexOf(n[a][0])>-1)&&n[a][1]!=null){var p=n[a][1],_=0;if(e){_=+e[n[a][0]];var C=t[_];if(C.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}c=HD(C.t,p)}else{var T=WH(p);T==-1&&(T=31,p=String(p)),c=HD(T,p)}s.push(c),l=fe(8),l.write_shift(4,e?_:2+a),i.push(l),o+=8+c.length}var K=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,K),K+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),kr([r].concat(i).concat(s))}function qD(n,e,t,r,i,s){var o=fe(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,rn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var c=$D(n,t,r);if(a.push(c),i){var l=$D(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),a.push(l)}return kr(a)}function zH(n,e){e||(e=fe(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function HH(n,e){return n.read_shift(e)===1}function Zr(n,e){return e||(e=fe(2)),e.write_shift(2,+!!n),e}function qP(n){return n.read_shift(2,"u")}function Ki(n,e){return e||(e=fe(2)),e.write_shift(2,n),e}function GP(n,e,t){return t||(t=fe(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function KP(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont",s=il;if(t&&t.biff>=8&&(il=1200),!t||t.biff==8){var o=n.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return il=s,a}function $H(n){var e=n.t||"",t=1,r=fe(3+(t>1?2:0));r.write_shift(2,e.length),r.write_shift(1,(t>1?8:0)|1),t>1&&r.write_shift(2,t);var i=fe(2*e.length);i.write_shift(2*e.length,e,"utf16le");var s=[r,i];return kr(s)}function qH(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function GH(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):qH(n,r,t)}function KH(n,e,t){if(t.biff>5)return GH(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function XP(n,e,t){return t||(t=fe(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function GD(n,e){e||(e=fe(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function XH(n){var e=fe(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),GD(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),t=0;t<a.length;++t)e.write_shift(2,a.charCodeAt(t));e.write_shift(2,0),s&8&&GD(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),t=0;t<r.length-3*c;++t)e.write_shift(1,r.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function cl(n,e,t,r){return r||(r=fe(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function YH(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function QH(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function YP(n,e){return e||(e=fe(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function cE(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=fe(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function JH(n,e){var t=!e||e.biff==8,r=fe(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function ZH(n,e){var t=!e||e.biff>=8?2:1,r=fe(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function e$(n,e){var t=fe(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=$H(n[i],e);var s=kr([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function t$(){var n=fe(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function n$(n){var e=fe(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function r$(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=fe(i);return s.write_shift(2,(n.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function i$(n,e,t,r){var i=fe(10);return cl(n,e,r,i),i.write_shift(4,t),i}function s$(n,e,t,r,i){var s=!i||i.biff==8,o=fe(8+ +s+(1+s)*t.length);return cl(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function o$(n,e,t,r){var i=t&&t.biff==5;r||(r=fe(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function a$(n,e){var t=e.biff==8||!e.biff?4:2,r=fe(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function KD(n,e,t,r){var i=t&&t.biff==5;r||(r=fe(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function c$(n){var e=fe(8);return e.write_shift(4,0),e.write_shift(2,n[0]?n[0]+1:0),e.write_shift(2,n[1]?n[1]+1:0),e}function l$(n,e,t,r,i,s){var o=fe(8);return cl(n,e,r,o),GP(t,s,o),o}function u$(n,e,t,r){var i=fe(14);return cl(n,e,r,i),al(t,i),i}function d$(n,e,t){if(t.biff<8)return h$(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(YH(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function h$(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=KP(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function f$(n){var e=fe(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)YP(n[t],e);return e}function p$(n){var e=fe(24),t=gr(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return kr([e,XH(n[1])])}function m$(n){var e=n[1].Tooltip,t=fe(10+2*(e.length+1));t.write_shift(2,2048);var r=gr(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function g$(n){return n||(n=fe(4)),n.write_shift(2,1),n.write_shift(2,1),n}function _$(n,e,t){if(!t.cellStyles)return no(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var l={s:i,e:s,w:o,ixfe:a,flags:c};return(t.biff>=5||!t.biff)&&(l.level=c>>8&7),l}function v$(n,e){var t=fe(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function y$(n){for(var e=fe(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function w$(n,e,t){var r=fe(15);return $f(r,n,e),r.write_shift(8,t,"f"),r}function x$(n,e,t){var r=fe(9);return $f(r,n,e),r.write_shift(2,t),r}var b$=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Gb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,c){var l=[],d=ol(1);switch(c.type){case"base64":d=vs(Go(a));break;case"binary":d=vs(a);break;case"buffer":case"array":d=a;break}Ii(d,0);var f=d.read_shift(1),p=!!(f&136),_=!1,C=!1;switch(f){case 2:break;case 3:break;case 48:_=!0,p=!0;break;case 49:_=!0,p=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var w=0,T=521;f==2&&(w=d.read_shift(2)),d.l+=3,f!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),f!=2&&(T=d.read_shift(2));var K=d.read_shift(2),X=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(X=n[d[d.l]]),d.l+=1,d.l+=2),C&&(d.l+=36);for(var Y=[],ee={},me=Math.min(d.length,f==2?521:T-10-(_?264:0)),we=C?32:11;d.l<me&&d[d.l]!=13;)switch(ee={},ee.name=an.utils.decode(X,d.slice(d.l,d.l+we)).replace(/[\u0000\r\n].*$/g,""),d.l+=we,ee.type=String.fromCharCode(d.read_shift(1)),f!=2&&!C&&(ee.offset=d.read_shift(4)),ee.len=d.read_shift(1),f==2&&(ee.offset=d.read_shift(2)),ee.dec=d.read_shift(1),ee.name.length&&Y.push(ee),f!=2&&(d.l+=C?13:14),ee.type){case"B":(!_||ee.len!=8)&&c.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ee.type)}if(d[d.l]!==13&&(d.l=T-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=T;var D=0,A=0;for(l[0]=[],A=0;A!=Y.length;++A)l[0][A]=Y[A].name;for(;w-- >0;){if(d[d.l]===42){d.l+=K;continue}for(++d.l,l[++D]=[],A=0,A=0;A!=Y.length;++A){var k=d.slice(d.l,d.l+Y[A].len);d.l+=Y[A].len,Ii(k,0);var F=an.utils.decode(X,k);switch(Y[A].type){case"C":F.trim().length&&(l[D][A]=F.replace(/\s+$/,""));break;case"D":F.length===8?l[D][A]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):l[D][A]=F;break;case"F":l[D][A]=parseFloat(F.trim());break;case"+":case"I":l[D][A]=C?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":l[D][A]=!0;break;case"N":case"F":l[D][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));l[D][A]="##MEMO##"+(C?parseInt(F.trim(),10):k.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(l[D][A]=+F||0);break;case"@":l[D][A]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":l[D][A]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":l[D][A]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[D][A]=-k.read_shift(-8,"f");break;case"B":if(_&&Y[A].len==8){l[D][A]=k.read_shift(8,"f");break}case"G":case"P":k.l+=Y[A].len;break;case"0":if(Y[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Y[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=Y,l}function r(a,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var d=id(t(a,l),l);return d["!cols"]=l.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete l.DBF,d}function i(a,c){try{return ll(r(a,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,c){var l=c||{};if(+l.codepage>=0&&Ff(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var d=hi(),f=Kg(a,{header:1,raw:!0,cellDates:!0}),p=f[0],_=f.slice(1),C=a["!cols"]||[],w=0,T=0,K=0,X=1;for(w=0;w<p.length;++w){if(((C[w]||{}).DBF||{}).name){p[w]=C[w].DBF.name,++K;continue}if(p[w]!=null){if(++K,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(T=0;T<1024;++T)if(p.indexOf(p[w]+"_"+T)==-1){p[w]+="_"+T;break}}}}var Y=pn(a["!ref"]),ee=[],me=[],we=[];for(w=0;w<=Y.e.c-Y.s.c;++w){var D="",A="",k=0,F=[];for(T=0;T<_.length;++T)_[T][w]!=null&&F.push(_[T][w]);if(F.length==0||p[w]==null){ee[w]="?";continue}for(T=0;T<F.length;++T){switch(typeof F[T]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=F[T]instanceof Date?"D":"C";break;default:A="C"}k=Math.max(k,String(F[T]).length),D=D&&D!=A?"C":A}k>250&&(k=250),A=((C[w]||{}).DBF||{}).type,A=="C"&&C[w].DBF.len>k&&(k=C[w].DBF.len),D=="B"&&A=="N"&&(D="N",we[w]=C[w].DBF.dec,k=C[w].DBF.len),me[w]=D=="C"||A=="N"?k:s[D]||0,X+=me[w],ee[w]=D}var V=d.next(32);for(V.write_shift(4,318902576),V.write_shift(4,_.length),V.write_shift(2,296+32*K),V.write_shift(2,X),w=0;w<4;++w)V.write_shift(4,0);for(V.write_shift(4,0|(+e[ed]||3)<<8),w=0,T=0;w<p.length;++w)if(p[w]!=null){var z=d.next(32),B=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,B,"sbcs"),z.write_shift(1,ee[w]=="?"?"C":ee[w],"sbcs"),z.write_shift(4,T),z.write_shift(1,me[w]||s[ee[w]]||0),z.write_shift(1,we[w]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),T+=me[w]||s[ee[w]]||0}var Ge=d.next(264);for(Ge.write_shift(4,13),w=0;w<65;++w)Ge.write_shift(4,0);for(w=0;w<_.length;++w){var ze=d.next(X);for(ze.write_shift(1,0),T=0;T<p.length;++T)if(p[T]!=null)switch(ee[T]){case"L":ze.write_shift(1,_[w][T]==null?63:_[w][T]?84:70);break;case"B":ze.write_shift(8,_[w][T]||0,"f");break;case"N":var An="0";for(typeof _[w][T]=="number"&&(An=_[w][T].toFixed(we[T]||0)),K=0;K<me[T]-An.length;++K)ze.write_shift(1,32);ze.write_shift(1,An,"sbcs");break;case"D":_[w][T]?(ze.write_shift(4,("0000"+_[w][T].getFullYear()).slice(-4),"sbcs"),ze.write_shift(2,("00"+(_[w][T].getMonth()+1)).slice(-2),"sbcs"),ze.write_shift(2,("00"+_[w][T].getDate()).slice(-2),"sbcs")):ze.write_shift(8,"00000000","sbcs");break;case"C":var We=String(_[w][T]!=null?_[w][T]:"").slice(0,me[T]);for(ze.write_shift(1,We,"sbcs"),K=0;K<me[T]-We.length;++K)ze.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),E$=function(){var n={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Pr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,_){var C=n[_];return typeof C=="number"?vD(C):C},r=function(p,_,C){var w=_.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return w==59?p:vD(w)};n["|"]=254;function i(p,_){switch(_.type){case"base64":return s(Go(p),_);case"binary":return s(p,_);case"buffer":return s(Ut&&Buffer.isBuffer(p)?p.toString("binary"):jf(p),_);case"array":return s(Zg(p),_)}throw new Error("Unrecognized type "+_.type)}function s(p,_){var C=p.split(/[\n\r]+/),w=-1,T=-1,K=0,X=0,Y=[],ee=[],me=null,we={},D=[],A=[],k=[],F=0,V;for(+_.codepage>=0&&Ff(+_.codepage);K!==C.length;++K){F=0;var z=C[K].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),B=z.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Ge=B[0],ze;if(z.length>0)switch(Ge){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&ee.push(z.slice(3).replace(/;;/g,";"));break;case"C":var An=!1,We=!1,kn=!1,Nn=!1,bn=-1,ir=-1;for(X=1;X<B.length;++X)switch(B[X].charAt(0)){case"A":break;case"X":T=parseInt(B[X].slice(1))-1,We=!0;break;case"Y":for(w=parseInt(B[X].slice(1))-1,We||(T=0),V=Y.length;V<=w;++V)Y[V]=[];break;case"K":ze=B[X].slice(1),ze.charAt(0)==='"'?ze=ze.slice(1,ze.length-1):ze==="TRUE"?ze=!0:ze==="FALSE"?ze=!1:isNaN($o(ze))?isNaN(Lf(ze).getDate())||(ze=ei(ze)):(ze=$o(ze),me!==null&&mP(me)&&(ze=yP(ze))),typeof an<"u"&&typeof ze=="string"&&(_||{}).type!="string"&&(_||{}).codepage&&(ze=an.utils.decode(_.codepage,ze)),An=!0;break;case"E":Nn=!0;var R=xq(B[X].slice(1),{r:w,c:T});Y[w][T]=[Y[w][T],R];break;case"S":kn=!0,Y[w][T]=[Y[w][T],"S5S"];break;case"G":break;case"R":bn=parseInt(B[X].slice(1))-1;break;case"C":ir=parseInt(B[X].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+z)}if(An&&(Y[w][T]&&Y[w][T].length==2?Y[w][T][0]=ze:Y[w][T]=ze,me=null),kn){if(Nn)throw new Error("SYLK shared formula cannot have own formula");var ce=bn>-1&&Y[bn][ir];if(!ce||!ce[1])throw new Error("SYLK shared formula cannot find base");Y[w][T][1]=bq(ce[1],{r:w-bn,c:T-ir})}break;case"F":var J=0;for(X=1;X<B.length;++X)switch(B[X].charAt(0)){case"X":T=parseInt(B[X].slice(1))-1,++J;break;case"Y":for(w=parseInt(B[X].slice(1))-1,V=Y.length;V<=w;++V)Y[V]=[];break;case"M":F=parseInt(B[X].slice(1))/20;break;case"F":break;case"G":break;case"P":me=ee[parseInt(B[X].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=B[X].slice(1).split(" "),V=parseInt(k[0],10);V<=parseInt(k[1],10);++V)F=parseInt(k[2],10),A[V-1]=F===0?{hidden:!0}:{wch:F},lE(A[V-1]);break;case"C":T=parseInt(B[X].slice(1))-1,A[T]||(A[T]={});break;case"R":w=parseInt(B[X].slice(1))-1,D[w]||(D[w]={}),F>0?(D[w].hpt=F,D[w].hpx=tO(F)):F===0&&(D[w].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+z)}J<1&&(me=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+z)}}return D.length>0&&(we["!rows"]=D),A.length>0&&(we["!cols"]=A),_&&_.sheetRows&&(Y=Y.slice(0,_.sheetRows)),[Y,we]}function o(p,_){var C=i(p,_),w=C[0],T=C[1],K=id(w,_);return Pr(T).forEach(function(X){K[X]=T[X]}),K}function a(p,_){return ll(o(p,_),_)}function c(p,_,C,w){var T="C;Y"+(C+1)+";X"+(w+1)+";K";switch(p.t){case"n":T+=p.v||0,p.f&&!p.F&&(T+=";E"+dE(p.f,{r:C,c:w}));break;case"b":T+=p.v?"TRUE":"FALSE";break;case"e":T+=p.w||p.v;break;case"d":T+='"'+(p.w||p.v)+'"';break;case"s":T+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function l(p,_){_.forEach(function(C,w){var T="F;W"+(w+1)+" "+(w+1)+" ";C.hidden?T+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=Hg(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=$g(C.wpx)),typeof C.wch=="number"&&(T+=Math.round(C.wch))),T.charAt(T.length-1)!=" "&&p.push(T)})}function d(p,_){_.forEach(function(C,w){var T="F;";C.hidden?T+="M0;":C.hpt?T+="M"+20*C.hpt+";":C.hpx&&(T+="M"+20*qg(C.hpx)+";"),T.length>2&&p.push(T+"R"+(w+1))})}function f(p,_){var C=["ID;PWXL;N;E"],w=[],T=pn(p["!ref"]),K,X=Array.isArray(p),Y=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),p["!cols"]&&l(C,p["!cols"]),p["!rows"]&&d(C,p["!rows"]),C.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var ee=T.s.r;ee<=T.e.r;++ee)for(var me=T.s.c;me<=T.e.c;++me){var we=Zt({r:ee,c:me});K=X?(p[ee]||[])[me]:p[we],!(!K||K.v==null&&(!K.f||K.F))&&w.push(c(K,p,ee,me,_))}return C.join(Y)+Y+w.join(Y)+Y+"E"+Y}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),C$=function(){function n(s,o){switch(o.type){case"base64":return e(Go(s),o);case"binary":return e(s,o);case"buffer":return e(Ut&&Buffer.isBuffer(s)?s.toString("binary"):jf(s),o);case"array":return e(Zg(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),c=-1,l=-1,d=0,f=[];d!==a.length;++d){if(a[d].trim()==="BOT"){f[++c]=[],l=0;continue}if(!(c<0)){var p=a[d].trim().split(","),_=p[0],C=p[1];++d;for(var w=a[d]||"";(w.match(/["]/g)||[]).length&1&&d<a.length-1;)w+=`
`+a[++d];switch(w=w.trim(),+_){case-1:if(w==="BOT"){f[++c]=[],l=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?f[c][l]=!0:w==="FALSE"?f[c][l]=!1:isNaN($o(C))?isNaN(Lf(C).getDate())?f[c][l]=C:f[c][l]=ei(C):f[c][l]=$o(C),++l;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),Sf&&w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),f[c][l++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function t(s,o){return id(n(s,o),o)}function r(s,o){return ll(t(s,o),o)}var i=function(){var s=function(c,l,d,f,p){c.push(l),c.push(d+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},o=function(c,l,d,f){c.push(l+","+d),c.push(l==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var l=[],d=pn(c["!ref"]),f,p=Array.isArray(c);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,d.e.r-d.s.r+1,""),s(l,"TUPLES",0,d.e.c-d.s.c+1,""),s(l,"DATA",0,0,"");for(var _=d.s.r;_<=d.e.r;++_){o(l,-1,0,"BOT");for(var C=d.s.c;C<=d.e.c;++C){var w=Zt({r:_,c:C});if(f=p?(c[_]||[])[C]:c[w],!f){o(l,1,0,"");continue}switch(f.t){case"n":var T=Sf?f.w:f.v;!T&&f.v!=null&&(T=f.v),T==null?Sf&&f.f&&!f.F?o(l,1,0,"="+f.f):o(l,1,0,""):o(l,0,T,"V");break;case"b":o(l,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(l,1,0,!Sf||isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ja(f.z||Fn[14],fi(ei(f.v)))),Sf?o(l,0,f.w,"V"):o(l,1,0,f.w);break;default:o(l,1,0,"")}}}o(l,-1,0,"EOD");var K=`\r
`,X=l.join(K);return X}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),QP=function(){function n(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,p){for(var _=f.split(`
`),C=-1,w=-1,T=0,K=[];T!==_.length;++T){var X=_[T].trim().split(":");if(X[0]==="cell"){var Y=gr(X[1]);if(K.length<=Y.r)for(C=K.length;C<=Y.r;++C)K[C]||(K[C]=[]);switch(C=Y.r,w=Y.c,X[2]){case"t":K[C][w]=n(X[3]);break;case"v":K[C][w]=+X[3];break;case"vtf":var ee=X[X.length-1];case"vtc":switch(X[3]){case"nl":K[C][w]=!!+X[4];break;default:K[C][w]=+X[4];break}X[2]=="vtf"&&(K[C][w]=[K[C][w],ee])}}}return p&&p.sheetRows&&(K=K.slice(0,p.sheetRows)),K}function r(f,p){return id(t(f,p),p)}function i(f,p){return ll(r(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(f){if(!f||!f["!ref"])return"";for(var p=[],_=[],C,w="",T=ki(f["!ref"]),K=Array.isArray(f),X=T.s.r;X<=T.e.r;++X)for(var Y=T.s.c;Y<=T.e.c;++Y)if(w=Zt({r:X,c:Y}),C=K?(f[X]||[])[Y]:f[w],!(!C||C.v==null||C.t==="z")){switch(_=["cell",w,"t"],C.t){case"s":case"str":_.push(e(C.v));break;case"n":C.f?(_[2]="vtf",_[3]="n",_[4]=C.v,_[5]=e(C.f)):(_[2]="v",_[3]=C.v);break;case"b":_[2]="vt"+(C.f?"f":"c"),_[3]="nl",_[4]=C.v?"1":"0",_[5]=e(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var ee=fi(ei(C.v));_[2]="vtc",_[3]="nd",_[4]=""+ee,_[5]=C.w||ja(C.z||Fn[14],ee);break;case"e":continue}p.push(_.join(":"))}return p.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,o,a,o,l(f),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),T$=function(){function n(d,f,p,_,C){C.raw?f[p][_]=d:d===""||(d==="TRUE"?f[p][_]=!0:d==="FALSE"?f[p][_]=!1:isNaN($o(d))?isNaN(Lf(d).getDate())?f[p][_]=d:f[p][_]=ei(d):f[p][_]=$o(d))}function e(d,f){var p=f||{},_=[];if(!d||d.length===0)return _;for(var C=d.split(/[\r\n]/),w=C.length-1;w>=0&&C[w].length===0;)--w;for(var T=10,K=0,X=0;X<=w;++X)K=C[X].indexOf(" "),K==-1?K=C[X].length:K++,T=Math.max(T,K);for(X=0;X<=w;++X){_[X]=[];var Y=0;for(n(C[X].slice(0,T).trim(),_,X,Y,p),Y=1;Y<=(C[X].length-T)/10+1;++Y)n(C[X].slice(T+(Y-1)*10,T+Y*10).trim(),_,X,Y,p)}return p.sheetRows&&(_=_.slice(0,p.sheetRows)),_}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},p=!1,_=0,C=0;_<d.length;++_)(C=d.charCodeAt(_))==34?p=!p:!p&&C in t&&(f[C]=(f[C]||0)+1);C=[];for(_ in f)Object.prototype.hasOwnProperty.call(f,_)&&C.push([f[_],_]);if(!C.length){f=r;for(_ in f)Object.prototype.hasOwnProperty.call(f,_)&&C.push([f[_],_])}return C.sort(function(w,T){return w[0]-T[0]||r[w[1]]-r[T[1]]}),t[C.pop()[1]]||44}function s(d,f){var p=f||{},_="";to!=null&&p.dense==null&&(p.dense=to);var C=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(_=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(_=d.charAt(4),d=d.slice(6)):_=i(d.slice(0,1024)):p&&p.FS?_=p.FS:_=i(d.slice(0,1024));var T=0,K=0,X=0,Y=0,ee=0,me=_.charCodeAt(0),we=!1,D=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?Uz(p.dateNF):null;function F(){var V=d.slice(Y,ee),z={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)z.t="z";else if(p.raw)z.t="s",z.v=V;else if(V.trim().length===0)z.t="s",z.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(z.t="s",z.v=V.slice(2,-1).replace(/""/g,'"')):Eq(V)?(z.t="n",z.f=V.slice(1)):(z.t="s",z.v=V);else if(V=="TRUE")z.t="b",z.v=!0;else if(V=="FALSE")z.t="b",z.v=!1;else if(!isNaN(X=$o(V)))z.t="n",p.cellText!==!1&&(z.w=V),z.v=X;else if(!isNaN(Lf(V).getDate())||k&&V.match(k)){z.z=p.dateNF||Fn[14];var B=0;k&&V.match(k)&&(V=jz(V,p.dateNF,V.match(k)||[]),B=1),p.cellDates?(z.t="d",z.v=ei(V,B)):(z.t="n",z.v=fi(ei(V,B))),p.cellText!==!1&&(z.w=ja(z.z,z.v instanceof Date?fi(z.v):z.v)),p.cellNF||delete z.z}else z.t="s",z.v=V;if(z.t=="z"||(p.dense?(C[T]||(C[T]=[]),C[T][K]=z):C[Zt({c:K,r:T})]=z),Y=ee+1,A=d.charCodeAt(Y),w.e.c<K&&(w.e.c=K),w.e.r<T&&(w.e.r=T),D==me)++K;else if(K=0,++T,p.sheetRows&&p.sheetRows<=T)return!0}e:for(;ee<d.length;++ee)switch(D=d.charCodeAt(ee)){case 34:A===34&&(we=!we);break;case me:case 10:case 13:if(!we&&F())break e;break;default:break}return ee-Y>0&&F(),C["!ref"]=Yn(w),C}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):id(e(d,f),f)}function a(d,f){var p="",_=f.type=="string"?[0,0,0,0]:LY(d,f);switch(f.type){case"base64":p=Go(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof an<"u"?p=an.utils.decode(f.codepage,d):p=Ut&&Buffer.isBuffer(d)?d.toString("binary"):jf(d);break;case"array":p=Zg(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return _[0]==239&&_[1]==187&&_[2]==191?p=kf(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=kf(p):f.type=="binary"&&typeof an<"u"&&f.codepage&&(p=an.utils.decode(f.codepage,an.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?QP.to_sheet(f.type=="string"?p:kf(p),f):o(p,f)}function c(d,f){return ll(a(d,f),f)}function l(d){for(var f=[],p=pn(d["!ref"]),_,C=Array.isArray(d),w=p.s.r;w<=p.e.r;++w){for(var T=[],K=p.s.c;K<=p.e.c;++K){var X=Zt({r:w,c:K});if(_=C?(d[w]||[])[K]:d[X],!_||_.v==null){T.push("          ");continue}for(var Y=(_.w||(Ko(_),_.w)||"").slice(0,10);Y.length<10;)Y+=" ";T.push(Y+(K===0?" ":""))}f.push(T.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:a,from_sheet:l}}();var XD=function(){function n(R,ce,J){if(R){Ii(R,R.l||0);for(var Q=J.Enum||bn;R.l<R.length;){var _e=R.read_shift(2),Re=Q[_e]||Q[65535],$e=R.read_shift(2),Be=R.l+$e,Ee=Re.f&&Re.f(R,$e,J);if(R.l=Be,ce(Ee,Re,_e))return}}}function e(R,ce){switch(ce.type){case"base64":return t(vs(Go(R)),ce);case"binary":return t(vs(R),ce);case"buffer":case"array":return t(R,ce)}throw"Unsupported type "+ce.type}function t(R,ce){if(!R)return R;var J=ce||{};to!=null&&J.dense==null&&(J.dense=to);var Q=J.dense?[]:{},_e="Sheet1",Re="",$e=0,Be={},Ee=[],Tt=[],lt={s:{r:0,c:0},e:{r:0,c:0}},dn=J.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)J.Enum=bn,n(R,function(Ne,en,pt){switch(pt){case 0:J.vers=Ne,Ne>=4096&&(J.qpro=!0);break;case 6:lt=Ne;break;case 204:Ne&&(Re=Ne);break;case 222:Re=Ne;break;case 15:case 51:J.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:pt==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=J.dateNF||Fn[14],J.cellDates&&(Ne[1].t="d",Ne[1].v=yP(Ne[1].v))),J.qpro&&Ne[3]>$e&&(Q["!ref"]=Yn(lt),Be[_e]=Q,Ee.push(_e),Q=J.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},$e=Ne[3],_e=Re||"Sheet"+($e+1),Re="");var Or=J.dense?(Q[Ne[0].r]||[])[Ne[0].c]:Q[Zt(Ne[0])];if(Or){Or.t=Ne[1].t,Or.v=Ne[1].v,Ne[1].z!=null&&(Or.z=Ne[1].z),Ne[1].f!=null&&(Or.f=Ne[1].f);break}J.dense?(Q[Ne[0].r]||(Q[Ne[0].r]=[]),Q[Ne[0].r][Ne[0].c]=Ne[1]):Q[Zt(Ne[0])]=Ne[1];break;default:}},J);else if(R[2]==26||R[2]==14)J.Enum=ir,R[2]==14&&(J.qpro=!0,R.l=0),n(R,function(Ne,en,pt){switch(pt){case 204:_e=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>$e&&(Q["!ref"]=Yn(lt),Be[_e]=Q,Ee.push(_e),Q=J.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},$e=Ne[3],_e="Sheet"+($e+1)),dn>0&&Ne[0].r>=dn)break;J.dense?(Q[Ne[0].r]||(Q[Ne[0].r]=[]),Q[Ne[0].r][Ne[0].c]=Ne[1]):Q[Zt(Ne[0])]=Ne[1],lt.e.c<Ne[0].c&&(lt.e.c=Ne[0].c),lt.e.r<Ne[0].r&&(lt.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(Tt[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:Tt[Ne[0]]=Ne[1],Ne[0]==$e&&(_e=Ne[1]);break;default:break}},J);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(Q["!ref"]=Yn(lt),Be[Re||_e]=Q,Ee.push(Re||_e),!Tt.length)return{SheetNames:Ee,Sheets:Be};for(var ft={},Jn=[],yt=0;yt<Tt.length;++yt)Be[Ee[yt]]?(Jn.push(Tt[yt]||Ee[yt]),ft[Tt[yt]]=Be[Tt[yt]]||Be[Ee[yt]]):(Jn.push(Tt[yt]),ft[Tt[yt]]={"!ref":"A1"});return{SheetNames:Jn,Sheets:ft}}function r(R,ce){var J=ce||{};if(+J.codepage>=0&&Ff(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=hi(),_e=pn(R["!ref"]),Re=Array.isArray(R),$e=[];ke(Q,0,s(1030)),ke(Q,6,c(_e));for(var Be=Math.min(_e.e.r,8191),Ee=_e.s.r;Ee<=Be;++Ee)for(var Tt=Dr(Ee),lt=_e.s.c;lt<=_e.e.c;++lt){Ee===_e.s.r&&($e[lt]=Ur(lt));var dn=$e[lt]+Tt,ft=Re?(R[Ee]||[])[lt]:R[dn];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?ke(Q,13,_(Ee,lt,ft.v)):ke(Q,14,w(Ee,lt,ft.v));else{var Jn=Ko(ft);ke(Q,15,f(Ee,lt,Jn.slice(0,239)))}}return ke(Q,1),Q.end()}function i(R,ce){var J=ce||{};if(+J.codepage>=0&&Ff(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=hi();ke(Q,0,o(R));for(var _e=0,Re=0;_e<R.SheetNames.length;++_e)(R.Sheets[R.SheetNames[_e]]||{})["!ref"]&&ke(Q,27,Nn(R.SheetNames[_e],Re++));var $e=0;for(_e=0;_e<R.SheetNames.length;++_e){var Be=R.Sheets[R.SheetNames[_e]];if(!(!Be||!Be["!ref"])){for(var Ee=pn(Be["!ref"]),Tt=Array.isArray(Be),lt=[],dn=Math.min(Ee.e.r,8191),ft=Ee.s.r;ft<=dn;++ft)for(var Jn=Dr(ft),yt=Ee.s.c;yt<=Ee.e.c;++yt){ft===Ee.s.r&&(lt[yt]=Ur(yt));var Ne=lt[yt]+Jn,en=Tt?(Be[ft]||[])[yt]:Be[Ne];if(!(!en||en.t=="z"))if(en.t=="n")ke(Q,23,F(ft,yt,$e,en.v));else{var pt=Ko(en);ke(Q,22,D(ft,yt,$e,pt.slice(0,239)))}}++$e}}return ke(Q,1),Q.end()}function s(R){var ce=fe(2);return ce.write_shift(2,R),ce}function o(R){var ce=fe(26);ce.write_shift(2,4096),ce.write_shift(2,4),ce.write_shift(4,0);for(var J=0,Q=0,_e=0,Re=0;Re<R.SheetNames.length;++Re){var $e=R.SheetNames[Re],Be=R.Sheets[$e];if(!(!Be||!Be["!ref"])){++_e;var Ee=ki(Be["!ref"]);J<Ee.e.r&&(J=Ee.e.r),Q<Ee.e.c&&(Q=Ee.e.c)}}return J>8191&&(J=8191),ce.write_shift(2,J),ce.write_shift(1,_e),ce.write_shift(1,Q),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(1,1),ce.write_shift(1,2),ce.write_shift(4,0),ce.write_shift(4,0),ce}function a(R,ce,J){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ce==8&&J.qpro?(Q.s.c=R.read_shift(1),R.l++,Q.s.r=R.read_shift(2),Q.e.c=R.read_shift(1),R.l++,Q.e.r=R.read_shift(2),Q):(Q.s.c=R.read_shift(2),Q.s.r=R.read_shift(2),ce==12&&J.qpro&&(R.l+=2),Q.e.c=R.read_shift(2),Q.e.r=R.read_shift(2),ce==12&&J.qpro&&(R.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(R){var ce=fe(8);return ce.write_shift(2,R.s.c),ce.write_shift(2,R.s.r),ce.write_shift(2,R.e.c),ce.write_shift(2,R.e.r),ce}function l(R,ce,J){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(Q[0].c=R.read_shift(1),Q[3]=R.read_shift(1),Q[0].r=R.read_shift(2),R.l+=2):(Q[2]=R.read_shift(1),Q[0].c=R.read_shift(2),Q[0].r=R.read_shift(2)),Q}function d(R,ce,J){var Q=R.l+ce,_e=l(R,ce,J);if(_e[1].t="s",J.vers==20768){R.l++;var Re=R.read_shift(1);return _e[1].v=R.read_shift(Re,"utf8"),_e}return J.qpro&&R.l++,_e[1].v=R.read_shift(Q-R.l,"cstr"),_e}function f(R,ce,J){var Q=fe(7+J.length);Q.write_shift(1,255),Q.write_shift(2,ce),Q.write_shift(2,R),Q.write_shift(1,39);for(var _e=0;_e<Q.length;++_e){var Re=J.charCodeAt(_e);Q.write_shift(1,Re>=128?95:Re)}return Q.write_shift(1,0),Q}function p(R,ce,J){var Q=l(R,ce,J);return Q[1].v=R.read_shift(2,"i"),Q}function _(R,ce,J){var Q=fe(7);return Q.write_shift(1,255),Q.write_shift(2,ce),Q.write_shift(2,R),Q.write_shift(2,J,"i"),Q}function C(R,ce,J){var Q=l(R,ce,J);return Q[1].v=R.read_shift(8,"f"),Q}function w(R,ce,J){var Q=fe(13);return Q.write_shift(1,255),Q.write_shift(2,ce),Q.write_shift(2,R),Q.write_shift(8,J,"f"),Q}function T(R,ce,J){var Q=R.l+ce,_e=l(R,ce,J);if(_e[1].v=R.read_shift(8,"f"),J.qpro)R.l=Q;else{var Re=R.read_shift(2);ee(R.slice(R.l,R.l+Re),_e),R.l+=Re}return _e}function K(R,ce,J){var Q=ce&32768;return ce&=-32769,ce=(Q?R:0)+(ce>=8192?ce-16384:ce),(Q?"":"$")+(J?Ur(ce):Dr(ce))}var X={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ee(R,ce){Ii(R,0);for(var J=[],Q=0,_e="",Re="",$e="",Be="";R.l<R.length;){var Ee=R[R.l++];switch(Ee){case 0:J.push(R.read_shift(8,"f"));break;case 1:Re=K(ce[0].c,R.read_shift(2),!0),_e=K(ce[0].r,R.read_shift(2),!1),J.push(Re+_e);break;case 2:{var Tt=K(ce[0].c,R.read_shift(2),!0),lt=K(ce[0].r,R.read_shift(2),!1);Re=K(ce[0].c,R.read_shift(2),!0),_e=K(ce[0].r,R.read_shift(2),!1),J.push(Tt+lt+":"+Re+_e)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(R.read_shift(2));break;case 6:{for(var dn="";Ee=R[R.l++];)dn+=String.fromCharCode(Ee);J.push('"'+dn.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:Be=J.pop(),$e=J.pop(),J.push(["AND","OR"][Ee-20]+"("+$e+","+Be+")");break;default:if(Ee<32&&Y[Ee])Be=J.pop(),$e=J.pop(),J.push($e+Y[Ee]+Be);else if(X[Ee]){if(Q=X[Ee][1],Q==69&&(Q=R[R.l++]),Q>J.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+J.join("|")+"|");return}var ft=J.slice(-Q);J.length-=Q,J.push(X[Ee][0]+"("+ft.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}J.length==1?ce[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function me(R){var ce=[{c:0,r:0},{t:"n",v:0},0];return ce[0].r=R.read_shift(2),ce[3]=R[R.l++],ce[0].c=R[R.l++],ce}function we(R,ce){var J=me(R,ce);return J[1].t="s",J[1].v=R.read_shift(ce-4,"cstr"),J}function D(R,ce,J,Q){var _e=fe(6+Q.length);_e.write_shift(2,R),_e.write_shift(1,J),_e.write_shift(1,ce),_e.write_shift(1,39);for(var Re=0;Re<Q.length;++Re){var $e=Q.charCodeAt(Re);_e.write_shift(1,$e>=128?95:$e)}return _e.write_shift(1,0),_e}function A(R,ce){var J=me(R,ce);J[1].v=R.read_shift(2);var Q=J[1].v>>1;if(J[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return J[1].v=Q,J}function k(R,ce){var J=me(R,ce),Q=R.read_shift(4),_e=R.read_shift(4),Re=R.read_shift(2);if(Re==65535)return Q===0&&_e===3221225472?(J[1].t="e",J[1].v=15):Q===0&&_e===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var $e=Re&32768;return Re=(Re&32767)-16446,J[1].v=(1-$e*2)*(_e*Math.pow(2,Re+32)+Q*Math.pow(2,Re)),J}function F(R,ce,J,Q){var _e=fe(14);if(_e.write_shift(2,R),_e.write_shift(1,J),_e.write_shift(1,ce),Q==0)return _e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(2,65535),_e;var Re=0,$e=0,Be=0,Ee=0;return Q<0&&(Re=1,Q=-Q),$e=Math.log2(Q)|0,Q/=Math.pow(2,$e-31),Ee=Q>>>0,Ee&2147483648||(Q/=2,++$e,Ee=Q>>>0),Q-=Ee,Ee|=2147483648,Ee>>>=0,Q*=Math.pow(2,32),Be=Q>>>0,_e.write_shift(4,Be),_e.write_shift(4,Ee),$e+=16383+(Re?32768:0),_e.write_shift(2,$e),_e}function V(R,ce){var J=k(R,14);return R.l+=ce-14,J}function z(R,ce){var J=me(R,ce),Q=R.read_shift(4);return J[1].v=Q>>6,J}function B(R,ce){var J=me(R,ce),Q=R.read_shift(8,"f");return J[1].v=Q,J}function Ge(R,ce){var J=B(R,14);return R.l+=ce-10,J}function ze(R,ce){return R[R.l+ce-1]==0?R.read_shift(ce,"cstr"):""}function An(R,ce){var J=R[R.l++];J>ce-1&&(J=ce-1);for(var Q="";Q.length<J;)Q+=String.fromCharCode(R[R.l++]);return Q}function We(R,ce,J){if(!(!J.qpro||ce<21)){var Q=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var _e=R.read_shift(ce-21,"cstr");return[Q,_e]}}function kn(R,ce){for(var J={},Q=R.l+ce;R.l<Q;){var _e=R.read_shift(2);if(_e==14e3){for(J[_e]=[0,""],J[_e][0]=R.read_shift(2);R[R.l];)J[_e][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return J}function Nn(R,ce){var J=fe(5+R.length);J.write_shift(2,14e3),J.write_shift(2,ce);for(var Q=0;Q<R.length;++Q){var _e=R.charCodeAt(Q);J[J.l++]=_e>127?95:_e}return J[J.l++]=0,J}var bn={0:{n:"BOF",f:qP},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ze},222:{n:"SHEETNAMELP",f:An},65535:{n:""}},ir={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:we},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:kn},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:Ge},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ze},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:We},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();var S$=/^\s|\s$|[\t\n\r]/;function JP(n,e){if(!e.bookSST)return"";var t=[Qn];t[t.length]=Ie("sst",null,{xmlns:nd[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(S$)&&(s+=' xml:space="preserve"'),s+=">"+Jt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function I$(n){return[n.read_shift(4),n.read_shift(4)]}function A$(n,e){return e||(e=fe(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var k$=yH;function R$(n){var e=hi();ve(e,159,A$(n));for(var t=0;t<n.length;++t)ve(e,19,k$(n[t]));return ve(e,160),e.end()}function D$(n){if(typeof an<"u")return an.utils.encode(ed,n);for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function ZP(n){var e=0,t,r=D$(n),i=r.length+1,s,o,a,c,l;for(t=ol(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=e&16384?1:0,c=e<<1&32767,l=a|c,e=l^o;return e^52811}var P$=function(){function n(i,s){switch(s.type){case"base64":return e(Go(i),s);case"binary":return e(i,s);case"buffer":return e(Ut&&Buffer.isBuffer(i)?i.toString("binary"):jf(i),s);case"array":return e(Zg(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(a)&&(a[f]=[]);for(var p=/\\\w+\b/g,_=0,C,w=-1;C=p.exec(d);){switch(C[0]){case"\\cell":var T=d.slice(_,p.lastIndex-C[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var K={v:T,t:"s"};Array.isArray(a)?a[f][w]=K:a[Zt({r:f,c:w})]=K}break}_=p.lastIndex}w>l.e.c&&(l.e.c=w)}),a["!ref"]=Yn(l),a}function t(i,s){return ll(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=pn(i["!ref"]),a,c=Array.isArray(i),l=o.s.r;l<=o.e.r;++l){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Zt({r:l,c:d});a=c?(i[l]||[])[d]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Ko(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function YD(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var O$=6;var qo=O$;function Hg(n){return Math.floor((n+Math.round(128/qo)/256)*qo)}function $g(n){return Math.floor((n-5)/qo*100+.5)/100}function Hb(n){return Math.round((n*qo+5)/qo*256)/256}function lE(n){n.width?(n.wpx=Hg(n.width),n.wch=$g(n.wpx),n.MDW=qo):n.wpx?(n.wch=$g(n.wpx),n.width=Hb(n.wch),n.MDW=qo):typeof n.wch=="number"&&(n.width=Hb(n.wch),n.wpx=Hg(n.width),n.MDW=qo),n.customWidth&&delete n.customWidth}var M$=96,eO=M$;function qg(n){return n*96/eO}function tO(n){return n*eO/96}function F$(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Ie("numFmt",null,{numFmtId:r,formatCode:Jt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ie("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function N$(n){var e=[];return e[e.length]=Ie("cellXfs",null),n.forEach(function(t){e[e.length]=Ie("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ie("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function nO(n,e){var t=[Qn,Ie("styleSheet",null,{xmlns:nd[0],"xmlns:vt":mr.vt})],r;return n.SSF&&(r=F$(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=N$(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function L$(n,e){var t=n.read_shift(2),r=jr(n,e-2);return[t,r]}function V$(n,e,t){t||(t=fe(6+4*e.length)),t.write_shift(2,n),_r(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function B$(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=SH(n,2,t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=TH(n,8),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=jr(n,e-21),r}function U$(n,e){e||(e=fe(25+4*32)),e.write_shift(2,n.sz*20),IH(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Wg(n.color,e);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),e.write_shift(1,r),_r(n.name,e),e.length>e.l?e.slice(0,e.l):e}var j$=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Lb,W$=no;function QD(n,e){e||(e=fe(4*3+8*7+16*1)),Lb||(Lb=Gb(j$));var t=Lb[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Wg({auto:1},e),Wg({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function z$(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function rO(n,e,t){t||(t=fe(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function If(n,e){return e||(e=fe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var H$=no;function $$(n,e){return e||(e=fe(51)),e.write_shift(1,0),If(null,e),If(null,e),If(null,e),If(null,e),If(null,e),e.length>e.l?e.slice(0,e.l):e}function q$(n,e){return e||(e=fe(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),jg(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function G$(n,e,t){var r=fe(2052);return r.write_shift(4,n),jg(e,r),jg(t,r),r.length>r.l?r.slice(0,r.l):r}function K$(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(ve(n,615,ws(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ve(n,44,V$(i,e[i]))}),ve(n,616))}}function X$(n){var e=1;e!=0&&(ve(n,611,ws(e)),ve(n,43,U$({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ve(n,612))}function Y$(n){var e=2;e!=0&&(ve(n,603,ws(e)),ve(n,45,QD({patternType:"none"})),ve(n,45,QD({patternType:"gray125"})),ve(n,604))}function Q$(n){var e=1;e!=0&&(ve(n,613,ws(e)),ve(n,46,$$({})),ve(n,614))}function J$(n){var e=1;ve(n,626,ws(e)),ve(n,47,rO({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ve(n,627)}function Z$(n,e){ve(n,617,ws(e.length)),e.forEach(function(t){ve(n,47,rO(t,0))}),ve(n,618)}function eq(n){var e=1;ve(n,619,ws(e)),ve(n,48,q$({xfId:0,builtinId:0,name:"Normal"})),ve(n,620)}function tq(n){var e=0;ve(n,505,ws(e)),ve(n,506)}function nq(n){var e=0;ve(n,508,G$(e,"TableStyleMedium9","PivotStyleMedium4")),ve(n,509)}function rq(n,e){var t=hi();return ve(t,278),K$(t,n.SSF),X$(t,n),Y$(t,n),Q$(t,n),J$(t,n),Z$(t,e.cellXfs),eq(t,n),tq(t,n),nq(t,n),ve(t,279),t.end()}function iO(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Qn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function iq(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:jr(n,e-8)}}function sq(n){var e=fe(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),_r(n.name,e),e.slice(0,e.l)}function oq(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function aq(n){var e=fe(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function cq(n,e){var t=fe(8+2*e.length);return t.write_shift(4,n),_r(e,t),t.slice(0,t.l)}function lq(n){return n.l+=4,n.read_shift(4)!=0}function uq(n,e){var t=fe(8);return t.write_shift(4,n),t.write_shift(4,e?1:0),t}function dq(){var n=hi();return ve(n,332),ve(n,334,ws(1)),ve(n,335,sq({name:"XLDAPR",version:12e4,flags:3496657072})),ve(n,336),ve(n,339,cq(1,"XLDAPR")),ve(n,52),ve(n,35,ws(514)),ve(n,4096,ws(0)),ve(n,4097,Ki(1)),ve(n,36),ve(n,53),ve(n,340),ve(n,337,uq(1,!0)),ve(n,51,aq([[1,0]])),ve(n,338),ve(n,333),n.end()}function sO(){var n=[Qn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function hq(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Zt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Ku=1024;function oO(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Ie("xml",null,{"xmlns:v":Ai.v,"xmlns:o":Ai.o,"xmlns:x":Ai.x,"xmlns:mv":Ai.mv}).replace(/\/>/,">"),Ie("o:shapelayout",Ie("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Ie("v:shapetype",[Ie("v:stroke",null,{joinstyle:"miter"}),Ie("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Ku<n*1e3;)Ku+=1e3;return e.forEach(function(s){var o=gr(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var c=a.type=="gradient"?Ie("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,l=Ie("v:fill",c,a),d={on:"t",obscured:"t"};++Ku,i=i.concat(["<v:shape"+Vf({id:"_x0000_s"+Ku,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",l,Ie("v:shadow",null,d),Ie("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Rr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Rr("x:AutoFill","False"),Rr("x:Row",String(o.r)),Rr("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function aO(n){var e=[Qn,Ie("comments",null,{xmlns:nd[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Jt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=t.indexOf(Jt(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Rr("t",Jt(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(Rr("t",Jt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function fq(n,e,t){var r=[Qn,Ie("ThreadedComments",null,{xmlns:mr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};a==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Ie("threadedComment",Rr("text",o.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function pq(n){var e=[Qn,Ie("personList",null,{xmlns:mr.TCMNT,"xmlns:x":nd[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Ie("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function mq(n){var e={};e.iauthor=n.read_shift(4);var t=fl(n,16);return e.rfx=t.s,e.ref=Zt(t.s),n.l+=16,e}function gq(n,e){return e==null&&(e=fe(36)),e.write_shift(4,n[1].iauthor),sd(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var _q=jr;function vq(n){return _r(n.slice(0,54))}function yq(n){var e=hi(),t=[];return ve(e,628),ve(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),ve(e,632,vq(i.a)))})}),ve(e,631),ve(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:gr(r[0]),e:gr(r[0])};ve(e,635,gq([s,i])),i.t&&i.t.length>0&&ve(e,637,xH(i)),ve(e,636),delete i.iauthor})}),ve(e,634),ve(e,629),e.end()}function wq(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&rn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var cO=["xlsb","xlsm","xlam","biff8","xla"];var xq=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return a?d+=e.c:--d,c?l+=e.r:--l,i+(a?"":"$")+Ur(d)+(c?"":"$")+Dr(l)}return function(i,s){return e=s,i.replace(n,t)}}(),uE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dE=function(){return function(e,t){return e.replace(uE,function(r,i,s,o,a,c){var l=iE(o)-(s?0:t.c),d=rE(c)-(a?0:t.r),f=d==0?"":a?d+1:"["+d+"]",p=l==0?"":s?l+1:"["+l+"]";return i+"R"+f+"C"+p})}}();function bq(n,e){return n.replace(uE,function(t,r,i,s,o,a){return r+(i=="$"?i+s:Ur(iE(s)+e.c))+(o=="$"?o+a:Dr(rE(a)+e.r))})}function Eq(n){return n.length!=1}function Xn(n){n.l+=1}function Wa(n,e){var t=n.read_shift(e==1?1:2);return[t&16383,t>>14&1,t>>15&1]}function lO(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return uO(n,e,t);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=Wa(n,2),a=Wa(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function uO(n){var e=Wa(n,2),t=Wa(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Cq(n,e,t){if(t.biff<8)return uO(n,e,t);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Wa(n,2),o=Wa(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function dO(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Tq(n,e,t);var r=n.read_shift(t&&t.biff==12?4:2),i=Wa(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Tq(n){var e=Wa(n,2),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Sq(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Iq(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Aq(n,e,t);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Aq(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function kq(n,e,t){var r=(n[n.l++]&96)>>5,i=lO(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Rq(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=lO(n,s,t);return[r,i,o]}function Dq(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Pq(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Oq(n,e,t){var r=(n[n.l++]&96)>>5,i=Cq(n,e-1,t);return[r,i]}function Mq(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function JD(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Fq(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function Nq(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Lq(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Vq(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Bq(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function hO(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Uq(n){return n.read_shift(2),hO(n,2)}function jq(n){return n.read_shift(2),hO(n,2)}function Wq(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=dO(n,0,t);return[r,i]}function zq(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Iq(n,0,t);return[r,i]}function Hq(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=dO(n,0,t);return[r,i,s]}function $q(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[$G[i],mO[i],r]}function qq(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Gq(n);return[i,(s[0]===0?mO:HG)[s[1]]]}function Gq(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Kq(n,e,t){n.l+=t&&t.biff==2?3:4}function Xq(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Yq(n){return n.l++,zf[n.read_shift(1)]}function Qq(n){return n.l++,n.read_shift(2)}function Jq(n){return n.l++,n.read_shift(1)!==0}function Zq(n){return n.l++,od(n,8)}function eG(n,e,t){return n.l++,KP(n,e-1,t)}function tG(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=HH(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=zf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=od(n,8);break;case 2:t[1]=KH(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function nG(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?fl:QH)(n,8));return i}function rG(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=tG(n,t.biff);return o}function iG(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function sG(n,e,t){if(t.biff==5)return oG(n,e,t);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function oG(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function aG(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function cG(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function lG(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function uG(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var dG=no,hG=no,fG=no;function Hf(n,e,t){return n.l+=2,[Sq(n,4,t)]}function hE(n){return n.l+=6,[]}var pG=Hf,mG=hE,gG=hE,_G=Hf;function fO(n){return n.l+=2,[qP(n),n.read_shift(2)&1]}var vG=Hf,yG=fO,wG=hE,xG=Hf,bG=Hf,EG=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function CG(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=EG[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function TG(n){return n.l+=2,[n.read_shift(4)]}function SG(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function IG(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function AG(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function kG(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function RG(n){return n.l+=4,[0,0]}var ZD={1:{n:"PtgExp",f:Xq},2:{n:"PtgTbl",f:fG},3:{n:"PtgAdd",f:Xn},4:{n:"PtgSub",f:Xn},5:{n:"PtgMul",f:Xn},6:{n:"PtgDiv",f:Xn},7:{n:"PtgPower",f:Xn},8:{n:"PtgConcat",f:Xn},9:{n:"PtgLt",f:Xn},10:{n:"PtgLe",f:Xn},11:{n:"PtgEq",f:Xn},12:{n:"PtgGe",f:Xn},13:{n:"PtgGt",f:Xn},14:{n:"PtgNe",f:Xn},15:{n:"PtgIsect",f:Xn},16:{n:"PtgUnion",f:Xn},17:{n:"PtgRange",f:Xn},18:{n:"PtgUplus",f:Xn},19:{n:"PtgUminus",f:Xn},20:{n:"PtgPercent",f:Xn},21:{n:"PtgParen",f:Xn},22:{n:"PtgMissArg",f:Xn},23:{n:"PtgStr",f:eG},26:{n:"PtgSheet",f:SG},27:{n:"PtgEndSheet",f:IG},28:{n:"PtgErr",f:Yq},29:{n:"PtgBool",f:Jq},30:{n:"PtgInt",f:Qq},31:{n:"PtgNum",f:Zq},32:{n:"PtgArray",f:Mq},33:{n:"PtgFunc",f:$q},34:{n:"PtgFuncVar",f:qq},35:{n:"PtgName",f:iG},36:{n:"PtgRef",f:Wq},37:{n:"PtgArea",f:kq},38:{n:"PtgMemArea",f:aG},39:{n:"PtgMemErr",f:dG},40:{n:"PtgMemNoMem",f:hG},41:{n:"PtgMemFunc",f:cG},42:{n:"PtgRefErr",f:lG},43:{n:"PtgAreaErr",f:Dq},44:{n:"PtgRefN",f:zq},45:{n:"PtgAreaN",f:Oq},46:{n:"PtgMemAreaN",f:AG},47:{n:"PtgMemNoMemN",f:kG},57:{n:"PtgNameX",f:sG},58:{n:"PtgRef3d",f:Hq},59:{n:"PtgArea3d",f:Rq},60:{n:"PtgRefErr3d",f:uG},61:{n:"PtgAreaErr3d",f:Pq},255:{}},DG={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},PG={1:{n:"PtgElfLel",f:fO},2:{n:"PtgElfRw",f:xG},3:{n:"PtgElfCol",f:pG},6:{n:"PtgElfRwV",f:bG},7:{n:"PtgElfColV",f:_G},10:{n:"PtgElfRadical",f:vG},11:{n:"PtgElfRadicalS",f:wG},13:{n:"PtgElfColS",f:mG},15:{n:"PtgElfColSV",f:gG},16:{n:"PtgElfRadicalLel",f:yG},25:{n:"PtgList",f:CG},29:{n:"PtgSxName",f:TG},255:{}},OG={0:{n:"PtgAttrNoop",f:RG},1:{n:"PtgAttrSemi",f:Bq},2:{n:"PtgAttrIf",f:Lq},4:{n:"PtgAttrChoose",f:Fq},8:{n:"PtgAttrGoto",f:Nq},16:{n:"PtgAttrSum",f:Kq},32:{n:"PtgAttrBaxcel",f:JD},33:{n:"PtgAttrBaxcel",f:JD},64:{n:"PtgAttrSpace",f:Uq},65:{n:"PtgAttrSpaceSemi",f:jq},128:{n:"PtgAttrIfError",f:Vq},255:{}};function MG(n,e,t,r){if(r.biff<8)return no(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=rG(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=nG(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0];default:break}return e=i-n.l,e!==0&&s.push(no(n,e)),s}function FG(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=ZD[s]||ZD[DG[s]],(s===24||s===25)&&(i=(s===24?PG:OG)[n[n.l+1]]),!i||!i.f?no(n,e):o.push([i.n,i.f(n,e,t)]);return o}function NG(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var LG={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function VG(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function pO(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function eP(n,e,t){var r=pO(n,e,t);return r=="#REF"?r:VG(r,t)}function td(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],c,l,d,f=0,p=0,_,C="";if(!n[0]||!n[0][0])return"";for(var w=-1,T="",K=0,X=n[0].length;K<X;++K){var Y=n[0][K];switch(Y[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),l=a.pop(),w>=0){switch(n[0][w][1][0]){case 0:T=Mn(" ",n[0][w][1][1]);break;case 1:T=Mn("\r",n[0][w][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}l=l+T,w=-1}a.push(l+LG[Y[0]]+c);break;case"PtgIsect":c=a.pop(),l=a.pop(),a.push(l+" "+c);break;case"PtgUnion":c=a.pop(),l=a.pop(),a.push(l+","+c);break;case"PtgRange":c=a.pop(),l=a.pop(),a.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Df(Y[1][1],o,i),a.push(Pf(d,s));break;case"PtgRefN":d=t?Df(Y[1][1],t,i):Y[1][1],a.push(Pf(d,s));break;case"PtgRef3d":f=Y[1][1],d=Df(Y[1][2],o,i),C=eP(r,f,i);var ee=C;a.push(C+"!"+Pf(d,s));break;case"PtgFunc":case"PtgFuncVar":var me=Y[1][0],we=Y[1][1];me||(me=0),me&=127;var D=me==0?[]:a.slice(-me);a.length-=me,we==="User"&&(we=D.shift()),a.push(we+"("+D.join(",")+")");break;case"PtgBool":a.push(Y[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(Y[1]);break;case"PtgNum":a.push(String(Y[1]));break;case"PtgStr":a.push('"'+Y[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(Y[1]);break;case"PtgAreaN":_=VD(Y[1][1],t?{s:t}:o,i),a.push(Fb(_,i));break;case"PtgArea":_=VD(Y[1][1],o,i),a.push(Fb(_,i));break;case"PtgArea3d":f=Y[1][1],_=Y[1][2],C=eP(r,f,i),a.push(C+"!"+Fb(_,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=Y[1][2];var A=(r.names||[])[p-1]||(r[0]||[])[p],k=A?A.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),a.push(k);break;case"PtgNameX":var F=Y[1][1];p=Y[1][2];var V;if(i.biff<=5)F<0&&(F=-F),r[F]&&(V=r[F][p]);else{var z="";if(((r[F]||[])[0]||[])[0]==14849||(((r[F]||[])[0]||[])[0]==1025?r[F][p]&&r[F][p].itab>0&&(z=r.SheetNames[r[F][p].itab-1]+"!"):z=r.SheetNames[p-1]+"!"),r[F]&&r[F][p])z+=r[F][p].Name;else if(r[0]&&r[0][p])z+=r[0][p].Name;else{var B=(pO(r,F,i)||"").split(";;");B[p-1]?z=B[p-1]:z+="SH33TJSERRX"}a.push(z);break}V||(V={Name:"SH33TJSERRY"}),a.push(V.Name);break;case"PtgParen":var Ge="(",ze=")";if(w>=0){switch(T="",n[0][w][1][0]){case 2:Ge=Mn(" ",n[0][w][1][1])+Ge;break;case 3:Ge=Mn("\r",n[0][w][1][1])+Ge;break;case 4:ze=Mn(" ",n[0][w][1][1])+ze;break;case 5:ze=Mn("\r",n[0][w][1][1])+ze;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}a.push(Ge+a.pop()+ze);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":d={c:Y[1][1],r:Y[1][0]};var An={c:t.c,r:t.r};if(r.sharedf[Zt(d)]){var We=r.sharedf[Zt(d)];a.push(td(We,o,An,r,i))}else{var kn=!1;for(c=0;c!=r.arrayf.length;++c)if(l=r.arrayf[c],!(d.c<l[0].s.c||d.c>l[0].e.c)&&!(d.r<l[0].s.r||d.r>l[0].e.r)){a.push(td(l[1],o,An,r,i)),kn=!0;break}kn||a.push(Y[1])}break;case"PtgArray":a.push("{"+NG(Y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=K;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+Y[1].idx+"[#"+Y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Y));default:throw new Error("Unrecognized Formula Token: "+String(Y))}var Nn=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Nn.indexOf(n[0][K][0])==-1){Y=n[0][w];var bn=!0;switch(Y[1][0]){case 4:bn=!1;case 0:T=Mn(" ",Y[1][1]);break;case 5:bn=!1;case 1:T=Mn("\r",Y[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Y[1][0])}a.push((bn?T:"")+a.pop()+(bn?"":T)),w=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function BG(n){if(n==null){var e=fe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return al(n);return al(0)}function UG(n,e,t,r,i){var s=cl(e,t,i),o=BG(n.v),a=fe(6),c=33;a.write_shift(2,c),a.write_shift(4,0);for(var l=fe(n.bf.length),d=0;d<n.bf.length;++d)l[d]=n.bf[d];var f=kr([s,o,a,l]);return f}function t_(n,e,t){var r=n.read_shift(4),i=FG(n,r,t),s=n.read_shift(4),o=s>0?MG(n,s,i,t):null;return[i,o]}var jG=t_,n_=t_,WG=t_,zG=t_,HG={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$G={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qG(n){var e="of:="+n.replace(uE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function GG(n){return n.replace(/\./,"!")}var Of=typeof Map<"u";function fE(n,e,t){var r=0,i=n.length;if(t){if(Of?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Of?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(Of?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function r_(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(qo=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=$g(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Hb(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function gO(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Ha(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){gP(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function KG(n,e,t){if(n&&n["!ref"]){var r=pn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function XG(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Yn(n[t])+'"/>';return e+"</mergeCells>"}function YG(n,e,t,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,o.codeName=zo(Jt(c))}if(n&&n["!outline"]){var l={summaryBelow:1,summaryRight:1};n["!outline"].above&&(l.summaryBelow=0),n["!outline"].left&&(l.summaryRight=0),a=(a||"")+Ie("outlinePr",null,l)}!s&&!a||(i[i.length]=Ie("sheetPr",a,o))}var QG=["objects","scenarios","selectLockedCells","selectUnlockedCells"],JG=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZG(n){var e={sheet:1};return QG.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),JG.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=ZP(n.password).toString(16).toUpperCase()),Ie("sheetProtection",null,e)}function eK(n){return gO(n),Ie("pageMargins",null,n)}function tK(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Ie("col",null,r_(i,r)));return t[t.length]="</cols>",t.join("")}function nK(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Yn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ki(i);o.s.r==o.e.r&&(o.e.r=ki(e["!ref"]).e.r,i=Yn(o));for(var a=0;a<s.length;++a){var c=s[a];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Ie("autoFilter",null,{ref:i})}function rK(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ie("sheetViews",Ie("sheetView",null,i),{})}function iK(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=zf[n.v];break;case"d":r&&r.cellDates?i=ei(n.v,-1).toISOString():(n=pi(n),n.t="n",i=""+(n.v=fi(ei(n.v)))),typeof n.z>"u"&&(n.z=Fn[14]);break;default:i=n.v;break}var a=Rr("v",Jt(i)),c={r:e},l=Ha(r.cellXfs,n,r);switch(l!==0&&(c.s=l),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Rr("v",""+fE(r.Strings,n.v,r.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var d=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;a=Ie("f",Jt(n.f),d)+(n.v!=null?a:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),Ie("c",a,c)}function sK(n,e,t,r){var i=[],s=[],o=pn(n["!ref"]),a="",c,l="",d=[],f=0,p=0,_=n["!rows"],C=Array.isArray(n),w={r:l},T,K=-1;for(p=o.s.c;p<=o.e.c;++p)d[p]=Ur(p);for(f=o.s.r;f<=o.e.r;++f){for(s=[],l=Dr(f),p=o.s.c;p<=o.e.c;++p){c=d[p]+l;var X=C?(n[f]||[])[p]:n[c];X!==void 0&&(a=iK(X,c,n,e,t,r))!=null&&s.push(a)}(s.length>0||_&&_[f])&&(w={r:l},_&&_[f]&&(T=_[f],T.hidden&&(w.hidden=1),K=-1,T.hpx?K=qg(T.hpx):T.hpt&&(K=T.hpt),K>-1&&(w.ht=K,w.customHeight=1),T.level&&(w.outlineLevel=T.level)),i[i.length]=Ie("row",s.join(""),w))}if(_)for(;f<_.length;++f)_&&_[f]&&(w={r:f+1},T=_[f],T.hidden&&(w.hidden=1),K=-1,T.hpx?K=qg(T.hpx):T.hpt&&(K=T.hpt),K>-1&&(w.ht=K,w.customHeight=1),T.level&&(w.outlineLevel=T.level),i[i.length]=Ie("row","",w));return i.join("")}function _O(n,e,t,r){var i=[Qn,Ie("worksheet",null,{xmlns:nd[0],"xmlns:r":mr.r})],s=t.SheetNames[n],o=0,a="",c=t.Sheets[s];c==null&&(c={});var l=c["!ref"]||"A1",d=pn(l);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),l=Yn(d)}r||(r={}),c["!comments"]=[];var f=[];YG(c,t,n,e,i),i[i.length]=Ie("dimension",null,{ref:l}),i[i.length]=rK(c,e,n,t),e.sheetFormat&&(i[i.length]=Ie("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=tK(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(a=sK(c,e,n,t,r),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=ZG(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=nK(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=XG(c["!merges"]));var p=-1,_,C=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(w){w[1].Target&&(_={ref:w[0]},w[1].Target.charAt(0)!="#"&&(C=Qt(r,-1,Jt(w[1].Target).replace(/#.*$/,""),Nt.HLINK),_["r:id"]="rId"+C),(p=w[1].Target.indexOf("#"))>-1&&(_.location=Jt(w[1].Target.slice(p+1))),w[1].Tooltip&&(_.tooltip=Jt(w[1].Tooltip)),i[i.length]=Ie("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=eK(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Rr("ignoredErrors",Ie("ignoredError",null,{numberStoredAsText:1,sqref:l}))),f.length>0&&(C=Qt(r,-1,"../drawings/drawing"+(n+1)+".xml",Nt.DRAW),i[i.length]=Ie("drawing",null,{"r:id":"rId"+C}),c["!drawing"]=f),c["!comments"].length>0&&(C=Qt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Nt.VML),i[i.length]=Ie("legacyDrawing",null,{"r:id":"rId"+C}),c["!legacy"]=C),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function oK(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function aK(n,e,t){var r=fe(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=qg(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,c=r.l;r.l+=4;for(var l={r:n,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var f=-1,p=-1,_=d<<10;_<d+1<<10;++_){l.c=_;var C=Array.isArray(t)?(t[l.r]||[])[l.c]:t[Zt(l)];C&&(f<0&&(f=_),p=_)}f<0||(++a,r.write_shift(4,f),r.write_shift(4,p))}var w=r.l;return r.l=c,r.write_shift(4,a),r.l=w,r.length>r.l?r.slice(0,r.l):r}function cK(n,e,t,r){var i=aK(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&ve(n,0,i)}var lK=fl,uK=sd;function dK(){}function hK(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=bH(n,e-19),t}function fK(n,e,t){t==null&&(t=fe(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return Wg({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),PP(n,t),t.slice(0,t.l)}function pK(n){var e=Xi(n);return[e]}function mK(n,e,t){return t==null&&(t=fe(8)),ul(e,t)}function gK(n){var e=dl(n);return[e]}function _K(n,e,t){return t==null&&(t=fe(4)),hl(e,t)}function vK(n){var e=Xi(n),t=n.read_shift(1);return[e,t,"b"]}function yK(n,e,t){return t==null&&(t=fe(9)),ul(e,t),t.write_shift(1,n.v?1:0),t}function wK(n){var e=dl(n),t=n.read_shift(1);return[e,t,"b"]}function xK(n,e,t){return t==null&&(t=fe(5)),hl(e,t),t.write_shift(1,n.v?1:0),t}function bK(n){var e=Xi(n),t=n.read_shift(1);return[e,t,"e"]}function EK(n,e,t){return t==null&&(t=fe(9)),ul(e,t),t.write_shift(1,n.v),t}function CK(n){var e=dl(n),t=n.read_shift(1);return[e,t,"e"]}function TK(n,e,t){return t==null&&(t=fe(8)),hl(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function SK(n){var e=Xi(n),t=n.read_shift(4);return[e,t,"s"]}function IK(n,e,t){return t==null&&(t=fe(12)),ul(e,t),t.write_shift(4,e.v),t}function AK(n){var e=dl(n),t=n.read_shift(4);return[e,t,"s"]}function kK(n,e,t){return t==null&&(t=fe(8)),hl(e,t),t.write_shift(4,e.v),t}function RK(n){var e=Xi(n),t=od(n);return[e,t,"n"]}function DK(n,e,t){return t==null&&(t=fe(16)),ul(e,t),al(n.v,t),t}function PK(n){var e=dl(n),t=od(n);return[e,t,"n"]}function OK(n,e,t){return t==null&&(t=fe(12)),hl(e,t),al(n.v,t),t}function MK(n){var e=Xi(n),t=OP(n);return[e,t,"n"]}function FK(n,e,t){return t==null&&(t=fe(12)),ul(e,t),MP(n.v,t),t}function NK(n){var e=dl(n),t=OP(n);return[e,t,"n"]}function LK(n,e,t){return t==null&&(t=fe(8)),hl(e,t),MP(n.v,t),t}function VK(n){var e=Xi(n),t=sE(n);return[e,t,"is"]}function BK(n){var e=Xi(n),t=jr(n);return[e,t,"str"]}function UK(n,e,t){return t==null&&(t=fe(12+4*n.v.length)),ul(e,t),_r(n.v,t),t.length>t.l?t.slice(0,t.l):t}function jK(n){var e=dl(n),t=jr(n);return[e,t,"str"]}function WK(n,e,t){return t==null&&(t=fe(8+4*n.v.length)),hl(e,t),_r(n.v,t),t.length>t.l?t.slice(0,t.l):t}function zK(n,e,t){var r=n.l+e,i=Xi(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=n_(n,r-n.l,t);o[3]=td(a,null,i,t.supbooks,t)}else n.l=r;return o}function HK(n,e,t){var r=n.l+e,i=Xi(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=n_(n,r-n.l,t);o[3]=td(a,null,i,t.supbooks,t)}else n.l=r;return o}function $K(n,e,t){var r=n.l+e,i=Xi(n);i.r=t["!row"];var s=od(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=n_(n,r-n.l,t);o[3]=td(a,null,i,t.supbooks,t)}else n.l=r;return o}function qK(n,e,t){var r=n.l+e,i=Xi(n);i.r=t["!row"];var s=jr(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=n_(n,r-n.l,t);o[3]=td(a,null,i,t.supbooks,t)}else n.l=r;return o}var GK=fl,KK=sd;function XK(n,e){return e==null&&(e=fe(4)),e.write_shift(4,n),e}function YK(n,e){var t=n.l+e,r=fl(n,16),i=oE(n),s=jr(n),o=jr(n),a=jr(n);n.l=t;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}function QK(n,e){var t=fe(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));sd({s:gr(n[0]),e:gr(n[0])},t),aE("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return _r(i||"",t),_r(n[1].Tooltip||"",t),_r("",t),t.slice(0,t.l)}function JK(){}function ZK(n,e,t){var r=n.l+e,i=FP(n,16),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=jG(n,r-n.l,t);o[1]=a}else n.l=r;return o}function eX(n,e,t){var r=n.l+e,i=fl(n,16),s=[i];if(t.cellFormula){var o=zG(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function tX(n,e,t){t==null&&(t=fe(18));var r=r_(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var vO=["left","right","top","bottom","header","footer"];function nX(n){var e={};return vO.forEach(function(t){e[t]=od(n,8)}),e}function rX(n,e){return e==null&&(e=fe(6*8)),gO(n),vO.forEach(function(t){al(n[t],e)}),e}function iX(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function sX(n,e,t){t==null&&(t=fe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function oX(n){var e=fe(24);return e.write_shift(4,4),e.write_shift(4,1),sd(n,e),e}function aX(n,e){return e==null&&(e=fe(16*4+2)),e.write_shift(2,n.password?ZP(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function cX(){}function lX(){}function uX(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=pi(e),e.z=e.z||Fn[14],e.v=fi(ei(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var c={r:t,c:r};switch(c.s=Ha(i.cellXfs,e,i),e.l&&s["!links"].push([Zt(c),e.l]),e.c&&s["!comments"].push([Zt(c),e.c]),e.t){case"s":case"str":return i.bookSST?(a=fE(i.Strings,e.v,i.revStrings),c.t="s",c.v=a,o?ve(n,18,kK(e,c)):ve(n,7,IK(e,c))):(c.t="str",o?ve(n,17,WK(e,c)):ve(n,6,UK(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ve(n,13,LK(e,c)):ve(n,2,FK(e,c)):o?ve(n,16,OK(e,c)):ve(n,5,DK(e,c)),!0;case"b":return c.t="b",o?ve(n,15,xK(e,c)):ve(n,4,yK(e,c)),!0;case"e":return c.t="e",o?ve(n,14,TK(e,c)):ve(n,3,EK(e,c)),!0}return o?ve(n,12,_K(e,c)):ve(n,1,mK(e,c)),!0}function dX(n,e,t,r){var i=pn(e["!ref"]||"A1"),s,o="",a=[];ve(n,145);var c=Array.isArray(e),l=i.e.r;e["!rows"]&&(l=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=l;++d){o=Dr(d),cK(n,e,i,d);var f=!1;if(d<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){d===i.s.r&&(a[p]=Ur(p)),s=a[p]+o;var _=c?(e[d]||[])[p]:e[s];if(!_){f=!1;continue}f=uX(n,_,d,p,r,e,f)}}ve(n,146)}function hX(n,e){!e||!e["!merges"]||(ve(n,177,XK(e["!merges"].length)),e["!merges"].forEach(function(t){ve(n,176,KK(t))}),ve(n,178))}function fX(n,e){!e||!e["!cols"]||(ve(n,390),e["!cols"].forEach(function(t,r){t&&ve(n,60,tX(r,t))}),ve(n,391))}function pX(n,e){!e||!e["!ref"]||(ve(n,648),ve(n,649,oX(pn(e["!ref"]))),ve(n,650))}function mX(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Qt(t,-1,r[1].Target.replace(/#.*$/,""),Nt.HLINK);ve(n,494,QK(r,i))}}),delete e["!links"]}function gX(n,e,t,r){if(e["!comments"].length>0){var i=Qt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Nt.VML);ve(n,551,aE("rId"+i)),e["!legacy"]=i}}function _X(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Yn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,a=ki(s);a.s.r==a.e.r&&(a.e.r=ki(e["!ref"]).e.r,s=Yn(a));for(var c=0;c<o.length;++c){var l=o[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+t.SheetNames[r]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),ve(n,161,sd(pn(s))),ve(n,162)}}function vX(n,e,t){ve(n,133),ve(n,137,sX(e,t)),ve(n,138),ve(n,134)}function yX(n,e){e["!protect"]&&ve(n,535,aX(e["!protect"]))}function wX(n,e,t,r){var i=hi(),s=t.SheetNames[n],o=t.Sheets[s]||{},a=s;try{t&&t.Workbook&&(a=t.Workbook.Sheets[n].CodeName||a)}catch{}var c=pn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ve(i,129),(t.vbaraw||o["!outline"])&&ve(i,147,fK(a,o["!outline"])),ve(i,148,uK(c)),vX(i,o,t.Workbook),fX(i,o,n,e,t),dX(i,o,n,e,t),yX(i,o),_X(i,o,t,n),hX(i,o),mX(i,o,r),o["!margins"]&&ve(i,476,rX(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&pX(i,o),gX(i,o,n,r),ve(i,130),i.end()}function xX(n,e){n.l+=10;var t=jr(n,e-10);return{name:t}}var bX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function EX(n){return!n.Workbook||!n.Workbook.WBProps?"false":Zz(n.Workbook.WBProps.date1904)?"true":"false"}var CX="][*?/\\".split("");function yO(n,e){if(n.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return CX.forEach(function(r){if(n.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}function TX(n,e,t){n.forEach(function(r,i){yO(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function SX(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];TX(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)KG(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function wO(n){var e=[Qn];e[e.length]=Ie("workbook",null,{xmlns:nd[0],"xmlns:r":mr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(bX.forEach(function(a){n.Workbook.WBProps[a[0]]!=null&&n.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=n.Workbook.WBProps[a[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ie("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Jt(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ie("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(a){var c={name:a.Name};a.Comment&&(c.comment=a.Comment),a.Sheet!=null&&(c.localSheetId=""+a.Sheet),a.Hidden&&(c.hidden="1"),a.Ref&&(e[e.length]=Ie("definedName",Jt(a.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function IX(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=zb(n,e-8),t.name=jr(n),t}function AX(n,e){return e||(e=fe(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),aE(n.strRelID,e),_r(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function kX(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?jr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function RX(n,e){e||(e=fe(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),PP(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function DX(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=EH(n),o=WG(n,0,t),a=oE(n);n.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}function PX(n,e){ve(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ve(n,156,AX(i))}ve(n,144)}function OX(n,e){e||(e=fe(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return _r("SheetJS",e),_r(Mf.version,e),_r(Mf.version,e),_r("7262",e),e.length>e.l?e.slice(0,e.l):e}function MX(n,e){e||(e=fe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function FX(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(ve(n,135),ve(n,158,MX(i)),ve(n,136))}}function NX(n,e){var t=hi();return ve(t,131),ve(t,128,OX()),ve(t,153,RX(n.Workbook&&n.Workbook.WBProps||null)),FX(t,n,e),PX(t,n,e),ve(t,132),t.end()}function LX(n,e,t){return(e.slice(-4)===".bin"?NX:wO)(n,t)}function VX(n,e,t,r,i){return(e.slice(-4)===".bin"?wX:_O)(n,t,r,i)}function BX(n,e,t){return(e.slice(-4)===".bin"?rq:nO)(n,t)}function UX(n,e,t){return(e.slice(-4)===".bin"?R$:JP)(n,t)}function jX(n,e,t){return(e.slice(-4)===".bin"?yq:aO)(n,t)}function WX(n){return(n.slice(-4)===".bin"?dq:sO)()}function zX(n,e){var t=[];return n.Props&&t.push(BH(n.Props,e)),n.Custprops&&t.push(UH(n.Props,n.Custprops,e)),t.join("")}function HX(){return""}function $X(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Ie("NumberFormat",null,{"ss:Format":Jt(Fn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(Ie("Style",s.join(""),o))}),Ie("Styles",t.join(""))}function xO(n){return Ie("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+dE(n.Ref,{r:0,c:0})})}function qX(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(xO(i)))}return Ie("Names",t.join(""))}function GX(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==t&&(a.Name.match(/^_xlfn\./)||s.push(xO(a)))}return s.join("")}function KX(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Ie("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Ie("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Ie("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Ie("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Rr("ProtectContents","True")),n["!protect"].objects&&i.push(Rr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Rr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Rr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Rr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Ie("WorksheetOptions",i.join(""),{xmlns:Ai.x})}function XX(n){return n.map(function(e){var t=Jz(e.t||""),r=Ie("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ie("Comment",r,{"ss:Author":e.a})}).join("")}function YX(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var a={};if(n.f&&(a["ss:Formula"]="="+Jt(dE(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var c=gr(n.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(n.l&&n.l.Target&&(a["ss:HRef"]=Jt(n.l.Target),n.l.Tooltip&&(a["x:HRefScreenTip"]=Jt(n.l.Tooltip))),t["!merges"])for(var l=t["!merges"],d=0;d!=l.length;++d)l[d].s.c!=o.c||l[d].s.r!=o.r||(l[d].e.c>l[d].s.c&&(a["ss:MergeAcross"]=l[d].e.c-l[d].s.c),l[d].e.r>l[d].s.r&&(a["ss:MergeDown"]=l[d].e.r-l[d].s.r));var f="",p="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",p=String(n.v);break;case"b":f="Boolean",p=n.v?"1":"0";break;case"e":f="Error",p=zf[n.v];break;case"d":f="DateTime",p=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Fn[14]);break;case"s":f="String",p=Qz(n.v||"");break}var _=Ha(r.cellXfs,n,r);a["ss:StyleID"]="s"+(21+_),a["ss:Index"]=o.c+1;var C=n.v!=null?p:"",w=n.t=="z"?"":'<Data ss:Type="'+f+'">'+C+"</Data>";return(n.c||[]).length>0&&(w+=XX(n.c)),Ie("Cell",w,a)}function QX(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=tO(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function JX(n,e,t,r){if(!n["!ref"])return"";var i=pn(n["!ref"]),s=n["!merges"]||[],o=0,a=[];n["!cols"]&&n["!cols"].forEach(function(T,K){lE(T);var X=!!T.width,Y=r_(K,T),ee={"ss:Index":K+1};X&&(ee["ss:Width"]=Hg(Y.width)),T.hidden&&(ee["ss:Hidden"]="1"),a.push(Ie("Column",null,ee))});for(var c=Array.isArray(n),l=i.s.r;l<=i.e.r;++l){for(var d=[QX(l,(n["!rows"]||[])[l])],f=i.s.c;f<=i.e.c;++f){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>l)&&!(s[o].e.c<f)&&!(s[o].e.r<l)){(s[o].s.c!=f||s[o].s.r!=l)&&(p=!0);break}if(!p){var _={r:l,c:f},C=Zt(_),w=c?(n[l]||[])[f]:n[C];d.push(YX(w,C,n,e,t,r,_))}}d.push("</Row>"),d.length>2&&a.push(d.join(""))}return a.join("")}function ZX(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?GX(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?JX(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(KX(s,e,n,t)),r.join("")}function eY(n,e){e||(e={}),n.SSF||(n.SSF=pi(Fn)),n.SSF&&(Qg(),Yg(n.SSF),e.revssf=Jg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Ha(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(zX(n,e)),t.push(HX(n,e)),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Ie("Worksheet",ZX(r,e,n),{"ss:Name":Jt(n.SheetNames[r])}));return t[2]=$X(n,e),t[3]=qX(n,e),Qn+Ie("Workbook",t.join(""),{xmlns:Ai.ss,"xmlns:o":Ai.o,"xmlns:x":Ai.x,"xmlns:ss":Ai.ss,"xmlns:dt":Ai.dt,"xmlns:html":Ai.html})}var Vb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tY(n,e){var t=[],r=[],i=[],s=0,o,a=ID(UD,"n"),c=ID(jD,"n");if(n.Props)for(o=Pr(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Pr(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var l=[];for(s=0;s<i.length;++s)$P.indexOf(i[s][0])>-1||WP.indexOf(i[s][0])>-1||i[s][1]!=null&&l.push(i[s]);r.length&&rn.utils.cfb_add(e,"/SummaryInformation",qD(r,Vb.SI,c,jD)),(t.length||l.length)&&rn.utils.cfb_add(e,"/DocumentSummaryInformation",qD(t,Vb.DSI,a,UD,l.length?l:null,Vb.UDI))}function nY(n,e){var t=e||{},r=rn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return rn.utils.cfb_add(r,i,bO(n,t)),t.biff==8&&(n.Props||n.Custprops)&&tY(n,r),t.biff==8&&n.vbaraw&&wq(r,rn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var rY={0:{f:oK},1:{f:pK},2:{f:MK},3:{f:bK},4:{f:vK},5:{f:RK},6:{f:BK},7:{f:SK},8:{f:qK},9:{f:$K},10:{f:zK},11:{f:HK},12:{f:gK},13:{f:NK},14:{f:CK},15:{f:wK},16:{f:PK},17:{f:jK},18:{f:AK},19:{f:sE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DX},40:{},42:{},43:{f:B$},44:{f:L$},45:{f:W$},46:{f:H$},47:{f:z$},48:{},49:{f:gH},50:{},51:{f:oq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_$},62:{f:VK},63:{f:hq},64:{f:cX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:no,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:iX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hK},148:{f:lK,p:16},151:{f:JK},152:{},153:{f:kX},154:{},155:{},156:{f:IX},157:{},158:{},159:{T:1,f:I$},160:{T:-1},161:{T:1,f:fl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iq},336:{T:-1},337:{f:lq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:d$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ZK},427:{f:eX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:dK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:YK},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_q},633:{T:1},634:{T:-1},635:{T:1,f:mq},636:{T:-1},637:{f:wH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ke(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&nE(t)&&n.push(t)}}function iY(n,e,t,r){var i=r||(t||[]).length||0;if(i<=8224)return ke(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],a=0,c=0,l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;var d=n.next(4);for(d.write_shift(2,s),d.write_shift(2,l),n.push(t.slice(c,c+l)),c+=l;c<i;){for(d=n.next(4),d.write_shift(2,60),l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;d.write_shift(2,l),n.push(t.slice(c,c+l)),c+=l}}}function $f(n,e,t){return n||(n=fe(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function sY(n,e,t,r){var i=fe(9);return $f(i,n,e),GP(t,r||"b",i),i}function oY(n,e,t){var r=fe(8+2*t.length);return $f(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function aY(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?fi(ei(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ke(n,2,x$(t,r,i)):ke(n,3,w$(t,r,i));return;case"b":case"e":ke(n,5,sY(t,r,e.v,e.t));return;case"s":case"str":ke(n,4,oY(t,r,(e.v||"").slice(0,255)));return}ke(n,1,$f(null,t,r))}function cY(n,e,t,r){var i=Array.isArray(e),s=pn(e["!ref"]||"A1"),o,a="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Yn(s)}for(var l=s.s.r;l<=s.e.r;++l){a=Dr(l);for(var d=s.s.c;d<=s.e.c;++d){l===s.s.r&&(c[d]=Ur(d)),o=c[d]+a;var f=i?(e[l]||[])[d]:e[o];f&&aY(n,f,l,d,r)}}}function lY(n,e){var t=e||{};to!=null&&t.dense==null&&(t.dense=to);for(var r=hi(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return ke(r,t.biff==4?1033:t.biff==3?521:9,cE(n,16,t)),cY(r,n.Sheets[n.SheetNames[i]],i,t,n),ke(r,10),r.end()}function uY(n,e,t){ke(n,49,r$({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function dY(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ke(n,1054,o$(i,e[i],t))})}function hY(n,e){var t=fe(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),ke(n,2151,t),t=fe(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),YP(pn(e["!ref"]||"A1"),t),t.write_shift(4,4),ke(n,2152,t)}function fY(n,e){for(var t=0;t<16;++t)ke(n,224,KD({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ke(n,224,KD(r,0,e))})}function pY(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];ke(n,440,p$(r)),r[1].Tooltip&&ke(n,2048,m$(r))}delete e["!links"]}function mY(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&ke(n,125,v$(r_(i,r),i))})}}function gY(n,e,t,r,i){var s=16+Ha(i.cellXfs,e,i);if(e.v==null&&!e.bf){ke(n,513,cl(t,r,s));return}if(e.bf)ke(n,6,UG(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?fi(ei(e.v)):e.v;ke(n,515,u$(t,r,o,s,i));break;case"b":case"e":ke(n,517,l$(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=fE(i.Strings,e.v,i.revStrings);ke(n,253,i$(t,r,a,s,i))}else ke(n,516,s$(t,r,(e.v||"").slice(0,255),s,i));break;default:ke(n,513,cl(t,r,s))}}function _Y(n,e,t){var r=hi(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},a=(o.Sheets||[])[n]||{},c=Array.isArray(s),l=e.biff==8,d,f="",p=[],_=pn(s["!ref"]||"A1"),C=l?65536:16384;if(_.e.c>255||_.e.r>=C){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,C-1)}ke(r,2057,cE(t,16,e)),ke(r,13,Ki(1)),ke(r,12,Ki(100)),ke(r,15,Zr(!0)),ke(r,17,Zr(!1)),ke(r,16,al(.001)),ke(r,95,Zr(!0)),ke(r,42,Zr(!1)),ke(r,43,Zr(!1)),ke(r,130,Ki(1)),ke(r,128,c$([0,0])),ke(r,131,Zr(!1)),ke(r,132,Zr(!1)),l&&mY(r,s["!cols"]),ke(r,512,a$(_,e)),l&&(s["!links"]=[]);for(var w=_.s.r;w<=_.e.r;++w){f=Dr(w);for(var T=_.s.c;T<=_.e.c;++T){w===_.s.r&&(p[T]=Ur(T)),d=p[T]+f;var K=c?(s[w]||[])[T]:s[d];K&&(gY(r,K,w,T,e),l&&K.l&&s["!links"].push([d,K.l]))}}var X=a.CodeName||a.name||i;return l&&ke(r,574,n$((o.Views||[])[0])),l&&(s["!merges"]||[]).length&&ke(r,229,f$(s["!merges"])),l&&pY(r,s),ke(r,442,XP(X,e)),l&&hY(r,s),ke(r,10),r.end()}function vY(n,e,t){var r=hi(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=t.biff==8,c=t.biff==5;if(ke(r,2057,cE(n,5,t)),t.bookType=="xla"&&ke(r,135),ke(r,225,a?Ki(1200):null),ke(r,193,zH(2)),c&&ke(r,191),c&&ke(r,192),ke(r,226),ke(r,92,JH("SheetJS",t)),ke(r,66,Ki(a?1200:1252)),a&&ke(r,353,Ki(0)),a&&ke(r,448),ke(r,317,y$(n.SheetNames.length)),a&&n.vbaraw&&ke(r,211),a&&n.vbaraw){var l=o.CodeName||"ThisWorkbook";ke(r,442,XP(l,t))}ke(r,156,Ki(17)),ke(r,25,Zr(!1)),ke(r,18,Zr(!1)),ke(r,19,Ki(0)),a&&ke(r,431,Zr(!1)),a&&ke(r,444,Ki(0)),ke(r,61,t$(t)),ke(r,64,Zr(!1)),ke(r,141,Ki(0)),ke(r,34,Zr(EX(n)=="true")),ke(r,14,Zr(!0)),a&&ke(r,439,Zr(!1)),ke(r,218,Ki(0)),uY(r,n,t),dY(r,n.SSF,t),fY(r,t),a&&ke(r,352,Zr(!1));var d=r.end(),f=hi();a&&ke(f,140,g$()),a&&t.Strings&&iY(f,252,e$(t.Strings,t)),ke(f,10);var p=f.end(),_=hi(),C=0,w=0;for(w=0;w<n.SheetNames.length;++w)C+=(a?12:11)+(a?2:1)*n.SheetNames[w].length;var T=d.length+C+p.length;for(w=0;w<n.SheetNames.length;++w){var K=s[w]||{};ke(_,133,ZH({pos:T,hs:K.Hidden||0,dt:0,name:n.SheetNames[w]},t)),T+=e[w].length}var X=_.end();if(C!=X.length)throw new Error("BS8 "+C+" != "+X.length);var Y=[];return d.length&&Y.push(d),X.length&&Y.push(X),p.length&&Y.push(p),kr(Y)}function yY(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=pi(Fn)),n&&n.SSF&&(Qg(),Yg(n.SSF),t.revssf=Jg(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,pE(t),t.cellXfs=[],Ha(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=_Y(i,t,n);return r.unshift(vY(n,r,t)),kr(r)}function bO(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ki(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return yY(n,e);case 4:case 3:case 2:return lY(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function wY(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>t||i[l].s.c>o)&&!(i[l].e.r<t||i[l].e.c<o)){if(i[l].s.r<t||i[l].s.c<o){a=-1;break}a=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(a<0)){var d=Zt({r:t,c:o}),f=r.dense?(n[t]||[])[o]:n[d],p=f&&f.v!=null&&(f.h||Yz(f.w||(Ko(f),f.w)||""))||"",_={};a>1&&(_.rowspan=a),c>1&&(_.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(_["data-t"]=f&&f.t||"z",f.v!=null&&(_["data-v"]=f.v),f.z!=null&&(_["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),_.id=(r.id||"sjs")+"-"+d,s.push(Ie("td",p,_))}}var C="<tr>";return C+s.join("")+"</tr>"}var xY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bY="</body></html>";function EY(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function EO(n,e){var t=e||{},r=t.header!=null?t.header:xY,i=t.footer!=null?t.footer:bY,s=[r],o=ki(n["!ref"]);t.dense=Array.isArray(n),s.push(EY(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(wY(n,o,a,t));return s.push("</table>"+i),s.join("")}function CO(n,e,t){var r=t||{};to!=null&&(r.dense=to);var i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?gr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var d=ki(n["!ref"]);l.s.r=Math.min(l.s.r,d.s.r),l.s.c=Math.min(l.s.c,d.s.c),l.e.r=Math.max(l.e.r,d.e.r),l.e.c=Math.max(l.e.c,d.e.c),i==-1&&(l.e.r=i=d.e.r+1)}var f=[],p=0,_=n["!rows"]||(n["!rows"]=[]),C=0,w=0,T=0,K=0,X=0,Y=0;for(n["!cols"]||(n["!cols"]=[]);C<a.length&&w<c;++C){var ee=a[C];if(tP(ee)){if(r.display)continue;_[w]={hidden:!0}}var me=ee.children;for(T=K=0;T<me.length;++T){var we=me[T];if(!(r.display&&tP(we))){var D=we.hasAttribute("data-v")?we.getAttribute("data-v"):we.hasAttribute("v")?we.getAttribute("v"):eH(we.innerHTML),A=we.getAttribute("data-z")||we.getAttribute("z");for(p=0;p<f.length;++p){var k=f[p];k.s.c==K+s&&k.s.r<w+i&&w+i<=k.e.r&&(K=k.e.c+1-s,p=-1)}Y=+we.getAttribute("colspan")||1,((X=+we.getAttribute("rowspan")||1)>1||Y>1)&&f.push({s:{r:w+i,c:K+s},e:{r:w+i+(X||1)-1,c:K+s+(Y||1)-1}});var F={t:"s",v:D},V=we.getAttribute("data-t")||we.getAttribute("t")||"";D!=null&&(D.length==0?F.t=V||"z":r.raw||D.trim().length==0||V=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN($o(D))?isNaN(Lf(D).getDate())||(F={t:"d",v:ei(D)},r.cellDates||(F={t:"n",v:fi(F.v)}),F.z=r.dateNF||Fn[14]):F={t:"n",v:$o(D)})),F.z===void 0&&A!=null&&(F.z=A);var z="",B=we.getElementsByTagName("A");if(B&&B.length)for(var Ge=0;Ge<B.length&&!(B[Ge].hasAttribute("href")&&(z=B[Ge].getAttribute("href"),z.charAt(0)!="#"));++Ge);z&&z.charAt(0)!="#"&&(F.l={Target:z}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][K+s]=F):n[Zt({c:K+s,r:w+i})]=F,l.e.c<K+s&&(l.e.c=K+s),K+=Y}}++w}return f.length&&(n["!merges"]=(n["!merges"]||[]).concat(f)),l.e.r=Math.max(l.e.r,w-1+i),n["!ref"]=Yn(l),w>=c&&(n["!fullref"]=Yn((l.e.r=a.length-C+w-1+i,l))),n}function TO(n,e){var t=e||{},r=t.dense?[]:{};return CO(r,n,e)}function CY(n,e){return ll(TO(n,e),e)}function tP(n){var e="",t=TY(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function TY(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var SY=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Vf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Qn+e}}(),nP=function(){var n=function(s){return Jt(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,a){var c=[];c.push('      <table:table table:name="'+Jt(o.SheetNames[a])+`" table:style-name="ta1">
`);var l=0,d=0,f=ki(s["!ref"]||"A1"),p=s["!merges"]||[],_=0,C=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var w="",T=s["!rows"]||[];for(l=0;l<f.s.r;++l)w=T[l]?' table:style-name="ro'+T[l].ods+'"':"",c.push("        <table:table-row"+w+`></table:table-row>
`);for(;l<=f.e.r;++l){for(w=T[l]?' table:style-name="ro'+T[l].ods+'"':"",c.push("        <table:table-row"+w+`>
`),d=0;d<f.s.c;++d)c.push(e);for(;d<=f.e.c;++d){var K=!1,X={},Y="";for(_=0;_!=p.length;++_)if(!(p[_].s.c>d)&&!(p[_].s.r>l)&&!(p[_].e.c<d)&&!(p[_].e.r<l)){(p[_].s.c!=d||p[_].s.r!=l)&&(K=!0),X["table:number-columns-spanned"]=p[_].e.c-p[_].s.c+1,X["table:number-rows-spanned"]=p[_].e.r-p[_].s.r+1;break}if(K){c.push(t);continue}var ee=Zt({r:l,c:d}),me=C?(s[l]||[])[d]:s[ee];if(me&&me.f&&(X["table:formula"]=Jt(qG(me.f)),me.F&&me.F.slice(0,ee.length)==ee)){var we=ki(me.F);X["table:number-matrix-columns-spanned"]=we.e.c-we.s.c+1,X["table:number-matrix-rows-spanned"]=we.e.r-we.s.r+1}if(!me){c.push(e);continue}switch(me.t){case"b":Y=me.v?"TRUE":"FALSE",X["office:value-type"]="boolean",X["office:boolean-value"]=me.v?"true":"false";break;case"n":Y=me.w||String(me.v||0),X["office:value-type"]="float",X["office:value"]=me.v||0;break;case"s":case"str":Y=me.v==null?"":me.v,X["office:value-type"]="string";break;case"d":Y=me.w||ei(me.v).toISOString(),X["office:value-type"]="date",X["office:date-value"]=ei(me.v).toISOString(),X["table:style-name"]="ce1";break;default:c.push(e);continue}var D=n(Y);if(me.l&&me.l.Target){var A=me.l.Target;A=A.charAt(0)=="#"?"#"+GG(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),D=Ie("text:a",D,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+Ie("table:table-cell",Ie("text:p",D,{}),X)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!cols"]){for(var d=0;d<l["!cols"].length;++d)if(l["!cols"][d]){var f=l["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;lE(f),f.ods=a;var p=l["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var c=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!rows"]){for(var d=0;d<l["!rows"].length;++d)if(l["!rows"][d]){l["!rows"][d].ods=c;var f=l["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var c=[Qn],l=Vf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Vf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(c.push("<office:document"+l+d+`>
`),c.push(UP().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+l+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(r(o.Sheets[o.SheetNames[f]],o,f,a));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),a.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function SO(n,e){if(e.bookType=="fods")return nP(n,e);var t=Kb(),r="",i=[],s=[];return r="mimetype",wt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",wt(t,r,nP(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",wt(t,r,SY(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",wt(t,r,Qn+UP()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",wt(t,r,VH(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",wt(t,r,NH(i)),t}function Gg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function IY(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):vs(zo(n))}function AY(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function za(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function kY(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Bf(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Yt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Zu(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function rr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Bf(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);a=n.slice(c,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Bf(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var l={data:a,type:s};e[i]==null?e[i]=[l]:e[i].push(l)}return e}function Ir(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Yt(r*8+i.type)),i.type==2&&e.push(Yt(i.data.length)),e.push(i.data))})}),za(e)}function gs(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Bf(n,r),s=rr(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:Zu(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=rr(a.data),l=Zu(c[3][0].data);o.messages.push({meta:c,data:n.slice(r[0],r[0]+l)}),r[0]+=l}),(e=s[3])!=null&&e[0]&&(o.merge=Zu(s[3][0].data)>>>0>0),t.push(o)}return t}function $u(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Yt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Yt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Yt(o.data.length)}],r[2].push({data:Ir(o.meta),type:2})});var s=Ir(r);e.push(Yt(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),za(e)}function RY(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Bf(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var c=0,l=0;if(s==1?(l=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(l=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[za(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}}var d=za(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function _s(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(RY(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return za(e)}function qu(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Yt(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return za(e)}function Bb(n,e){var t=new Uint8Array(32),r=Gg(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,kY(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function Ub(n,e){var t=new Uint8Array(32),r=Gg(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Va(n){var e=rr(n);return Bf(e[1][0].data)}function DY(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&Zu(n[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var c=0,l=Gg(n[7][0].data),d=0,f=[],p=Gg(n[4][0].data),_=0,C=[],w=0;w<e.length;++w){if(e[w]==null){l.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}l.setUint16(w*2,d,!0),p.setUint16(w*2,_,!0);var T,K;switch(typeof e[w]){case"string":T=Bb({t:"s",v:e[w]},t),K=Ub({t:"s",v:e[w]},t);break;case"number":T=Bb({t:"n",v:e[w]},t),K=Ub({t:"n",v:e[w]},t);break;case"boolean":T=Bb({t:"b",v:e[w]},t),K=Ub({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}f.push(T),d+=T.length,C.push(K),_+=K.length,++c}for(n[2][0].data=Yt(c);w<n[7][0].data.length/2;++w)l.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return n[6][0].data=za(f),n[3][0].data=za(C),c}function PY(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ki(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var s=Kg(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(J){return J.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var a={},c=[],l=rn.read(e.numbers,{type:"base64"});l.FileIndex.map(function(J,Q){return[J,l.FullPaths[Q]]}).forEach(function(J){var Q=J[0],_e=J[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var Re=Q.content,$e=_s(Re),Be=gs($e);Be.forEach(function(Ee){c.push(Ee.id),a[Ee.id]={deps:[],location:_e,type:Zu(Ee.messages[0].meta[1][0].data)}})}}),c.sort(function(J,Q){return J-Q});var d=c.filter(function(J){return J>1}).map(function(J){return[J,Yt(J)]});l.FileIndex.map(function(J,Q){return[J,l.FullPaths[Q]]}).forEach(function(J){var Q=J[0],_e=J[1];if(Q.name.match(/\.iwa/)){var Re=gs(_s(Q.content));Re.forEach(function($e){$e.messages.forEach(function(Be){d.forEach(function(Ee){$e.messages.some(function(Tt){return Zu(Tt.meta[1][0].data)!=11006&&AY(Tt.data,Ee[1])})&&a[Ee[0]].deps.push($e.id)})})})}});function f(){for(var J=927262;J<2e6;++J)if(!a[J])return J;throw new Error("Too many messages")}for(var p=rn.find(l,a[1].location),_=gs(_s(p.content)),C,w=0;w<_.length;++w){var T=_[w];T.id==1&&(C=T)}var K=Va(rr(C.messages[0].data)[1][0].data);for(p=rn.find(l,a[K].location),_=gs(_s(p.content)),w=0;w<_.length;++w)T=_[w],T.id==K&&(C=T);for(K=Va(rr(C.messages[0].data)[2][0].data),p=rn.find(l,a[K].location),_=gs(_s(p.content)),w=0;w<_.length;++w)T=_[w],T.id==K&&(C=T);for(K=Va(rr(C.messages[0].data)[2][0].data),p=rn.find(l,a[K].location),_=gs(_s(p.content)),w=0;w<_.length;++w)T=_[w],T.id==K&&(C=T);var X=rr(C.messages[0].data);{X[6][0].data=Yt(r.e.r+1),X[7][0].data=Yt(r.e.c+1);var Y=Va(X[46][0].data),ee=rn.find(l,a[Y].location),me=gs(_s(ee.content));{for(var we=0;we<me.length&&me[we].id!=Y;++we);if(me[we].id!=Y)throw"Bad ColumnRowUIDMapArchive";var D=rr(me[we].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var A=0;A<=r.e.c;++A){var k=[];k[1]=k[2]=[{type:0,data:Yt(A+420690)}],D[1].push({type:2,data:Ir(k)}),D[2].push({type:0,data:Yt(A)}),D[3].push({type:0,data:Yt(A)})}D[4]=[],D[5]=[],D[6]=[];for(var F=0;F<=r.e.r;++F)k=[],k[1]=k[2]=[{type:0,data:Yt(F+726270)}],D[4].push({type:2,data:Ir(k)}),D[5].push({type:0,data:Yt(F)}),D[6].push({type:0,data:Yt(F)});me[we].messages[0].data=Ir(D)}ee.content=qu($u(me)),ee.size=ee.content.length,delete X[46];var V=rr(X[4][0].data);{V[7][0].data=Yt(r.e.r+1);var z=rr(V[1][0].data),B=Va(z[2][0].data);ee=rn.find(l,a[B].location),me=gs(_s(ee.content));{if(me[0].id!=B)throw"Bad HeaderStorageBucket";var Ge=rr(me[0].messages[0].data);for(F=0;F<s.length;++F){var ze=rr(Ge[2][0].data);ze[1][0].data=Yt(F),ze[4][0].data=Yt(s[F].length),Ge[2][F]={type:Ge[2][0].type,data:Ir(ze)}}me[0].messages[0].data=Ir(Ge)}ee.content=qu($u(me)),ee.size=ee.content.length;var An=Va(V[2][0].data);ee=rn.find(l,a[An].location),me=gs(_s(ee.content));{if(me[0].id!=An)throw"Bad HeaderStorageBucket";for(Ge=rr(me[0].messages[0].data),A=0;A<=r.e.c;++A)ze=rr(Ge[2][0].data),ze[1][0].data=Yt(A),ze[4][0].data=Yt(r.e.r+1),Ge[2][A]={type:Ge[2][0].type,data:Ir(ze)};me[0].messages[0].data=Ir(Ge)}ee.content=qu($u(me)),ee.size=ee.content.length;var We=Va(V[4][0].data);(function(){for(var J=rn.find(l,a[We].location),Q=gs(_s(J.content)),_e,Re=0;Re<Q.length;++Re){var $e=Q[Re];$e.id==We&&(_e=$e)}var Be=rr(_e.messages[0].data);{Be[3]=[];var Ee=[];o.forEach(function(dn,ft){Ee[1]=[{type:0,data:Yt(ft)}],Ee[2]=[{type:0,data:Yt(1)}],Ee[3]=[{type:2,data:IY(dn)}],Be[3].push({type:2,data:Ir(Ee)})})}_e.messages[0].data=Ir(Be);var Tt=$u(Q),lt=qu(Tt);J.content=lt,J.size=J.content.length})();var kn=rr(V[3][0].data);{var Nn=kn[1][0];delete kn[2];var bn=rr(Nn.data);{var ir=Va(bn[2][0].data);(function(){for(var J=rn.find(l,a[ir].location),Q=gs(_s(J.content)),_e,Re=0;Re<Q.length;++Re){var $e=Q[Re];$e.id==ir&&(_e=$e)}var Be=rr(_e.messages[0].data);{delete Be[6],delete kn[7];var Ee=new Uint8Array(Be[5][0].data);Be[5]=[];for(var Tt=0,lt=0;lt<=r.e.r;++lt){var dn=rr(Ee);Tt+=DY(dn,s[lt],o),dn[1][0].data=Yt(lt),Be[5].push({data:Ir(dn),type:2})}Be[1]=[{type:0,data:Yt(r.e.c+1)}],Be[2]=[{type:0,data:Yt(r.e.r+1)}],Be[3]=[{type:0,data:Yt(Tt)}],Be[4]=[{type:0,data:Yt(r.e.r+1)}]}_e.messages[0].data=Ir(Be);var ft=$u(Q),Jn=qu(ft);J.content=Jn,J.size=J.content.length})()}Nn.data=Ir(bn)}V[3][0].data=Ir(kn)}X[4][0].data=Ir(V)}C.messages[0].data=Ir(X);var R=$u(_),ce=qu(R);return p.content=ce,p.size=p.content.length,l}function OY(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function pE(n){OY([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function MY(n,e){return e.bookType=="ods"?SO(n,e):e.bookType=="numbers"?PY(n,e):e.bookType=="xlsb"?FY(n,e):NY(n,e)}function FY(n,e){Ku=1024,n&&!n.SSF&&(n.SSF=pi(Fn)),n&&n.SSF&&(Qg(),Yg(n.SSF),e.revssf=Jg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Of?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=cO.indexOf(e.bookType)>-1,i=LP();pE(e=e||{});var s=Kb(),o="",a=0;if(e.cellXfs=[],Ha(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",wt(s,o,jP(n.Props,e)),i.coreprops.push(o),Qt(e.rels,2,o,Nt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],l=0;l<n.SheetNames.length;++l)(n.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(n.SheetNames[l]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,wt(s,o,zP(n.Props,e)),i.extprops.push(o),Qt(e.rels,3,o,Nt.EXT_PROPS),n.Custprops!==n.Props&&Pr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",wt(s,o,HP(n.Custprops,e)),i.custprops.push(o),Qt(e.rels,4,o,Nt.CUST_PROPS)),a=1;a<=n.SheetNames.length;++a){var d={"!id":{}},f=n.Sheets[n.SheetNames[a-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,wt(s,o,VX(a-1,o,e,n,d)),i.sheets.push(o),Qt(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Nt.WS[0])}if(f){var _=f["!comments"],C=!1,w="";_&&_.length>0&&(w="xl/comments"+a+"."+t,wt(s,w,jX(_,w,e)),i.comments.push(w),Qt(d,-1,"../comments"+a+"."+t,Nt.CMNT),C=!0),f["!legacy"]&&C&&wt(s,"xl/drawings/vmlDrawing"+a+".vml",oO(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&wt(s,BP(o),Qu(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,wt(s,o,UX(e.Strings,o,e)),i.strs.push(o),Qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),o="xl/workbook."+t,wt(s,o,LX(n,o,e)),i.workbooks.push(o),Qt(e.rels,1,o,Nt.WB),o="xl/theme/theme1.xml",wt(s,o,iO(n.Themes,e)),i.themes.push(o),Qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),o="xl/styles."+t,wt(s,o,BX(n,o,e)),i.styles.push(o),Qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",wt(s,o,n.vbaraw),i.vba.push(o),Qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),o="xl/metadata."+t,wt(s,o,WX(o)),i.metadata.push(o),Qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),wt(s,"[Content_Types].xml",VP(i,e)),wt(s,"_rels/.rels",Qu(e.rels)),wt(s,"xl/_rels/workbook."+t+".rels",Qu(e.wbrels)),delete e.revssf,delete e.ssf,s}function NY(n,e){Ku=1024,n&&!n.SSF&&(n.SSF=pi(Fn)),n&&n.SSF&&(Qg(),Yg(n.SSF),e.revssf=Jg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Of?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=cO.indexOf(e.bookType)>-1,i=LP();pE(e=e||{});var s=Kb(),o="",a=0;if(e.cellXfs=[],Ha(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",wt(s,o,jP(n.Props,e)),i.coreprops.push(o),Qt(e.rels,2,o,Nt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],l=0;l<n.SheetNames.length;++l)(n.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(n.SheetNames[l]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,wt(s,o,zP(n.Props,e)),i.extprops.push(o),Qt(e.rels,3,o,Nt.EXT_PROPS),n.Custprops!==n.Props&&Pr(n.Custprops||{}).length>0&&(o="docProps/custom.xml",wt(s,o,HP(n.Custprops,e)),i.custprops.push(o),Qt(e.rels,4,o,Nt.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,a=1;a<=n.SheetNames.length;++a){var f={"!id":{}},p=n.Sheets[n.SheetNames[a-1]],_=(p||{})["!type"]||"sheet";switch(_){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,wt(s,o,_O(a-1,e,n,f)),i.sheets.push(o),Qt(e.wbrels,-1,"worksheets/sheet"+a+"."+t,Nt.WS[0])}if(p){var C=p["!comments"],w=!1,T="";if(C&&C.length>0){var K=!1;C.forEach(function(X){X[1].forEach(function(Y){Y.T==!0&&(K=!0)})}),K&&(T="xl/threadedComments/threadedComment"+a+"."+t,wt(s,T,fq(C,d,e)),i.threadedcomments.push(T),Qt(f,-1,"../threadedComments/threadedComment"+a+"."+t,Nt.TCMNT)),T="xl/comments"+a+"."+t,wt(s,T,aO(C,e)),i.comments.push(T),Qt(f,-1,"../comments"+a+"."+t,Nt.CMNT),w=!0}p["!legacy"]&&w&&wt(s,"xl/drawings/vmlDrawing"+a+".vml",oO(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&wt(s,BP(o),Qu(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,wt(s,o,JP(e.Strings,e)),i.strs.push(o),Qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),o="xl/workbook."+t,wt(s,o,wO(n,e)),i.workbooks.push(o),Qt(e.rels,1,o,Nt.WB),o="xl/theme/theme1.xml",wt(s,o,iO(n.Themes,e)),i.themes.push(o),Qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),o="xl/styles."+t,wt(s,o,nO(n,e)),i.styles.push(o),Qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",wt(s,o,n.vbaraw),i.vba.push(o),Qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),o="xl/metadata."+t,wt(s,o,sO()),i.metadata.push(o),Qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),d.length>1&&(o="xl/persons/person.xml",wt(s,o,pq(d,e)),i.people.push(o),Qt(e.wbrels,-1,"persons/person.xml",Nt.PEOPLE)),wt(s,"[Content_Types].xml",VP(i,e)),wt(s,"_rels/.rels",Qu(e.rels)),wt(s,"xl/_rels/workbook."+t+".rels",Qu(e.wbrels)),delete e.revssf,delete e.ssf,s}function LY(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Go(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function IO(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Wf(e.file,rn.write(n,{type:Ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return rn.write(n,e)}function VY(n,e){var t=pi(e||{}),r=MY(n,t);return BY(r,t)}function BY(n,e){var t={},r=Ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?rn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Xg(i))}return e.password&&typeof encrypt_agile<"u"?IO(encrypt_agile(i,e.password),e):e.type==="file"?Wf(e.file,i):e.type=="string"?kf(i):i}function UY(n,e){var t=e||{},r=nY(n,t);return IO(r,t)}function eo(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Nf(zo(r));case"binary":return zo(r);case"string":return n;case"file":return Wf(e.file,r,"utf8");case"buffer":return Ut?Xo(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):eo(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function jY(n,e){switch(e.type){case"base64":return Nf(n);case"binary":return n;case"string":return n;case"file":return Wf(e.file,n,"binary");case"buffer":return Ut?Xo(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Fg(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Nf(t):e.type=="string"?kf(t):t;case"file":return Wf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function mE(n,e){fz(),SX(n);var t=pi(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=mE(n,t);return t.type="array",Xg(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return eo(eY(n,t),t);case"slk":case"sylk":return eo(E$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return eo(EO(n.Sheets[n.SheetNames[i]],t),t);case"txt":return jY(AO(n.Sheets[n.SheetNames[i]],t),t);case"csv":return eo(gE(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return eo(C$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Fg(b$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return eo(T$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return eo(P$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return eo(QP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return eo(SO(n,t),t);case"wk1":return Fg(XD.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Fg(XD.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Fg(bO(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),UY(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return VY(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function WY(n,e,t,r,i,s,o,a){var c=Dr(t),l=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!o||n[t])for(var _=e.s.c;_<=e.e.c;++_){var C=o?n[t][_]:n[r[_]+c];if(C===void 0||C.t===void 0){if(l===void 0)continue;s[_]!=null&&(p[s[_]]=l);continue}var w=C.v;switch(C.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(s[_]!=null){if(w==null)if(C.t=="e"&&w===null)p[s[_]]=null;else if(l!==void 0)p[s[_]]=l;else if(d&&w===null)p[s[_]]=null;else continue;else p[s[_]]=d&&(C.t!=="n"||C.t==="n"&&a.rawNumbers!==!1)?w:Ko(C,w,a);w!=null&&(f=!1)}}return{row:p,isempty:f}}function Kg(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},d=l.range!=null?l.range:n["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof d){case"string":c=pn(d);break;case"number":c=pn(n["!ref"]),c.s.r=d;break;default:c=d}r>0&&(i=0);var f=Dr(c.s.r),p=[],_=[],C=0,w=0,T=Array.isArray(n),K=c.s.r,X=0,Y={};T&&!n[K]&&(n[K]=[]);var ee=l.skipHidden&&n["!cols"]||[],me=l.skipHidden&&n["!rows"]||[];for(X=c.s.c;X<=c.e.c;++X)if(!(ee[X]||{}).hidden)switch(p[X]=Ur(X),t=T?n[K][X]:n[p[X]+f],r){case 1:s[X]=X-c.s.c;break;case 2:s[X]=p[X];break;case 3:s[X]=l.header[X-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=Ko(t,null,l),w=Y[o]||0,!w)Y[o]=1;else{do a=o+"_"+w++;while(Y[a]);Y[o]=w,Y[a]=1}s[X]=a}for(K=c.s.r+i;K<=c.e.r;++K)if(!(me[K]||{}).hidden){var we=WY(n,c,K,p,r,s,T,l);(we.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(_[C++]=we.row)}return _.length=C,_}var rP=/"/g;function zY(n,e,t,r,i,s,o,a){for(var c=!0,l=[],d="",f=Dr(t),p=e.s.c;p<=e.e.c;++p)if(r[p]){var _=a.dense?(n[t]||[])[p]:n[r[p]+f];if(_==null)d="";else if(_.v!=null){c=!1,d=""+(a.rawNumbers&&_.t=="n"?_.v:Ko(_,null,a));for(var C=0,w=0;C!==d.length;++C)if((w=d.charCodeAt(C))===i||w===s||w===34||a.forceQuotes){d='"'+d.replace(rP,'""')+'"';break}d=="ID"&&(d='"ID"')}else _.f!=null&&!_.F?(c=!1,d="="+_.f,d.indexOf(",")>=0&&(d='"'+d.replace(rP,'""')+'"')):d="";l.push(d)}return a.blankrows===!1&&c?null:l.join(o)}function gE(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=pn(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,c=a.charCodeAt(0),l=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(n);for(var p=r.skipHidden&&n["!cols"]||[],_=r.skipHidden&&n["!rows"]||[],C=i.s.c;C<=i.e.c;++C)(p[C]||{}).hidden||(f[C]=Ur(C));for(var w=0,T=i.s.r;T<=i.e.r;++T)(_[T]||{}).hidden||(d=zY(n,i,T,f,o,c,s,r),d!=null&&(r.strip&&(d=d.replace(l,"")),(d||r.blankrows!==!1)&&t.push((w++?a:"")+d)));return delete r.dense,t.join("")}function AO(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=gE(n,e);if(typeof an>"u"||e.type=="string")return t;var r=an.utils.encode(1200,t,"str");return"\xFF\xFE"+r}function HY(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=pn(n["!ref"]),s="",o=[],a,c=[],l=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=Ur(a);for(var d=i.s.r;d<=i.e.r;++d)for(s=Dr(d),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=l?(n[d]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function kO(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?gr(r.origin):r.origin;o=c.r,a=c.c}var l,d={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var f=pn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+e.length-1+i)}else o==-1&&(o=0,d.e.r=e.length-1+i);var p=r.header||[],_=0;e.forEach(function(w,T){Pr(w).forEach(function(K){(_=p.indexOf(K))==-1&&(p[_=p.length]=K);var X=w[K],Y="z",ee="",me=Zt({c:a+_,r:o+T+i});l=Uf(s,me),X&&typeof X=="object"&&!(X instanceof Date)?s[me]=X:(typeof X=="number"?Y="n":typeof X=="boolean"?Y="b":typeof X=="string"?Y="s":X instanceof Date?(Y="d",r.cellDates||(Y="n",X=fi(X)),ee=r.dateNF||Fn[14]):X===null&&r.nullError&&(Y="e",X=0),l?(l.t=Y,l.v=X,delete l.w,delete l.R,ee&&(l.z=ee)):s[me]=l={t:Y,v:X},ee&&(l.z=ee))})}),d.e.c=Math.max(d.e.c,a+p.length-1);var C=Dr(o);if(i)for(_=0;_<p.length;++_)s[Ur(_+a)+C]={t:"s",v:p[_]};return s["!ref"]=Yn(d),s}function $Y(n,e){return kO(null,n,e)}function Uf(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=gr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Uf(n,Zt(e)):Uf(n,Zt({r:e,c:t||0}))}function qY(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function GY(){return{SheetNames:[],Sheets:{}}}function KY(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(yO(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function XY(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=qY(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function YY(n,e){return n.z=e,n}function RO(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function QY(n,e,t){return RO(n,"#"+e,t)}function JY(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function ZY(n,e,t,r){for(var i=typeof e!="string"?e:pn(e),s=typeof e=="string"?e:Yn(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=Uf(n,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var DO={encode_col:Ur,encode_row:Dr,encode_cell:Zt,encode_range:Yn,decode_col:iE,decode_row:rE,split_cell:mH,decode_cell:gr,decode_range:ki,format_cell:Ko,sheet_add_aoa:DP,sheet_add_json:kO,sheet_add_dom:CO,aoa_to_sheet:id,json_to_sheet:$Y,table_to_sheet:TO,table_to_book:CY,sheet_to_csv:gE,sheet_to_txt:AO,sheet_to_json:Kg,sheet_to_html:EO,sheet_to_formulae:HY,sheet_to_row_object_array:Kg,sheet_get_cell:Uf,book_new:GY,book_append_sheet:KY,book_set_sheet_visibility:XY,cell_set_number_format:YY,cell_set_hyperlink:RO,cell_set_internal_link:QY,cell_add_comment:JY,sheet_set_array_formula:ZY,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var ode=Mf.version;var i_=(()=>{class n{constructor(){}exportAsExcelFile(t,r){let s={Sheets:{data:DO.json_to_sheet(t)},SheetNames:["data"]},o=mE(s,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,r)}saveAsExcelFile(t,r){let i=new Blob([t],{type:tQ})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tQ="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8";function nQ(n,e){if(n&1){let t=Fe();y(0,"td")(1,"button",11),ge("click",function(){le(t);let i=G().$implicit,s=G();return ue(s.deshabilitarEspecialista(i))}),O(2,"Deshabilitar"),v()()}}function rQ(n,e){if(n&1){let t=Fe();y(0,"td")(1,"button",11),ge("click",function(){le(t);let i=G().$implicit,s=G();return ue(s.habilitarEspecialista(i))}),O(2,"Habilitar"),v()()}}function iQ(n,e){if(n&1){let t=Fe();y(0,"td")(1,"button",12),ge("click",function(){le(t);let i=G().$implicit,s=G();return ue(s.seleccionarPaciente(i.email))}),O(2,"Historia Clinica"),v()()}}function sQ(n,e){if(n&1&&(y(0,"label"),O(1),v()),n&2){let t=e.$implicit;S(),Ke(t.especialidad)}}function oQ(n,e){if(n&1&&(y(0,"tr")(1,"td"),O(2),v(),y(3,"td"),O(4),v(),y(5,"td"),O(6),v(),y(7,"td"),O(8),v(),y(9,"td"),O(10),v(),y(11,"td"),O(12),v(),y(13,"td"),O(14),Nl(15,"misPipes"),v(),se(16,nQ,3,0,"td",10)(17,rQ,3,0,"td",10)(18,iQ,3,0,"td",10)(19,sQ,2,1,"label",9),v()),n&2){let t=e.$implicit;S(2),Ke(t.nombre),S(2),Ke(t.apellido),S(2),Ke(t.edad),S(2),Ke(t.tipo),S(2),Ke(t.email),S(2),Ke(t.obraSocial),S(2),Ke(Qp(15,11,t.aprobado)),S(2),W("ngIf",t.aprobado),S(),W("ngIf",!t.aprobado),S(),W("ngIf",t.tipo=="paciente"),S(),W("ngForOf",t.especialidad)}}var OO=(()=>{class n{userService;excelExportService;usuarios=[];pacienteSeleccionado=new bt;constructor(t,r){this.userService=t,this.excelExportService=r}traer(){this.userService.getUsuarios().subscribe(t=>{this.usuarios=t,console.log(this.usuarios)})}ngOnInit(){this.traer()}habilitarEspecialista(t){this.userService.updateUsuario(t.id,!0).then(()=>{t.aprobado=!0,console.log("se actualizo")}).catch(r=>console.error("error actualizando el usuario"))}deshabilitarEspecialista(t){this.userService.updateUsuario(t.id,!1).then(()=>{t.aprobado=!1}).catch(r=>console.error("error actualizando el usuario"))}seleccionarPaciente(t){this.pacienteSeleccionado.emit(t)}exportToExcel(){this.excelExportService.exportAsExcelFile(this.usuarios,"usuarios")}static \u0275fac=function(r){return new(r||n)(de(fr),de(i_))};static \u0275cmp=tt({type:n,selectors:[["app-tabla-usuarios"]],outputs:{pacienteSeleccionado:"pacienteSeleccionado"},standalone:!0,features:[nt],decls:33,vars:1,consts:[["id","tabs",1,"project-tab"],[1,"btn","btn-success",3,"click"],[1,"container"],[1,"row"],[1,"col-md-12"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[2,"text-align","center"],["cellspacing","0",1,"table",2,"text-align","center"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-toggle","modal","data-target","#squarespaceModal",1,"btn","btn-primary","center-block",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(r,i){r&1&&(y(0,"section",0)(1,"button",1),ge("click",function(){return i.exportToExcel()}),O(2,"Exportar a Excel"),v(),y(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h1",7),O(9,"Usuarios"),v(),y(10,"table",8)(11,"thead")(12,"tr")(13,"th"),O(14,"Nombre"),v(),y(15,"th"),O(16,"Apellido"),v(),y(17,"th"),O(18,"Edad"),v(),y(19,"th"),O(20,"Tipo"),v(),y(21,"th"),O(22,"Correo"),v(),y(23,"th"),O(24,"Obra Social"),v(),y(25,"th"),O(26,"Estado"),v(),y(27,"th"),O(28,"Acci\xF3n"),v(),y(29,"th"),O(30,"Especialidad/Historia Clinica"),v()()(),y(31,"tbody",7),se(32,oQ,20,13,"tr",9),v()()()()()()()()),r&2&&(S(32),W("ngForOf",i.usuarios))},dependencies:[_t,Fr,ln,Dt,_D],styles:[".project-tab[_ngcontent-%COMP%]{padding:8%}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]{background:#007b5e;color:#eee}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]   h6.section-title[_ngcontent-%COMP%]{color:#eee}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#3cff00;background-color:transparent;border-color:transparent transparent #ffe600;border-bottom:3px solid!important;font-size:16px;font-weight:700}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#ffe600;border-color:transparent transparent #ffe600;border-bottom:3px solid!important;font-size:16px;font-weight:600}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none;color:#3cff00}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{border:none;color:#3cff00}.project-tab[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#d9d9d9;color:#ab0000}.project-tab[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-decoration:none;color:#020822;font-weight:900;background-color:#a2e5be}@import url(http://fonts.googleapis.com/css?family=Open+Sans:400,600);form[_ngcontent-%COMP%]{width:320px;margin:20px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:30%;border:2px solid gray;position:relative;top:0;left:0;z-index:1;padding:8px 12px;outline:0}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:valid{background:#fff}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#357ebd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{background:#357ebd;color:#fff;font-size:70%;padding:1px 6px;z-index:2;text-transform:uppercase}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;resize:vertical}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px}form.go-bottom[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:0;bottom:0;left:0;width:60%}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{padding:4px 6px 20px}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{top:100%;margin-top:-16px}label[_ngcontent-%COMP%]{text-decoration:none;color:#020822;font-weight:900;background-color:#a2e5be}"]})}return n})();var ad=class extends Fa{tipo="admin";aprobado=!0};function aQ(n,e){n&1&&(y(0,"small"),O(1,"El nombre es requerido."),v())}function cQ(n,e){n&1&&(y(0,"small"),O(1,"El nombre debe tener al menos 3 caracteres."),v())}function lQ(n,e){if(n&1&&(y(0,"div",20),se(1,aQ,2,0,"small",21)(2,cQ,2,0,"small",21),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("nombre"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function uQ(n,e){n&1&&(y(0,"small"),O(1,"El apellido es requerido."),v())}function dQ(n,e){n&1&&(y(0,"small"),O(1,"El apellido debe tener al menos 2 caracteres."),v())}function hQ(n,e){if(n&1&&(y(0,"div",20),se(1,uQ,2,0,"small",21)(2,dQ,2,0,"small",21),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("apellido"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("apellido"))==null||r.errors==null?null:r.errors.minlength)}}function fQ(n,e){n&1&&(y(0,"small"),O(1,"La edad es requerida."),v())}function pQ(n,e){n&1&&(y(0,"small"),O(1,"Ingrese una edad real."),v())}function mQ(n,e){if(n&1&&(y(0,"div",20),se(1,fQ,2,0,"small",21)(2,pQ,2,0,"small",21),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("edad"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("edad"))==null||r.errors==null?null:r.errors.maxlength)}}function gQ(n,e){n&1&&(y(0,"small"),O(1,"El dni es requerido."),v())}function _Q(n,e){n&1&&(y(0,"small"),O(1,"El dni debe tener al menos 6 caracteres."),v())}function vQ(n,e){n&1&&(y(0,"small"),O(1,"El dni no debe tener mas de 9 caracteres."),v())}function yQ(n,e){if(n&1&&(y(0,"div",20),se(1,gQ,2,0,"small",21)(2,_Q,2,0,"small",21)(3,vQ,2,0,"small",21),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("dni"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("dni"))==null||r.errors==null?null:r.errors.min),S(),W("ngIf",(i=s.formRegistro.get("dni"))==null||i.errors==null?null:i.errors.max)}}function wQ(n,e){n&1&&(y(0,"small"),O(1,"El email es requerido."),v())}function xQ(n,e){n&1&&(y(0,"small"),O(1,"Respetar formato de correo."),v())}function bQ(n,e){if(n&1&&(y(0,"div",20),se(1,wQ,2,0,"small",21)(2,xQ,2,0,"small",21),v()),n&2){let t,r,i=G(2);S(),W("ngIf",(t=i.formRegistro.get("email"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=i.formRegistro.get("email"))==null||r.errors==null?null:r.errors.email)}}function EQ(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function CQ(n,e){n&1&&(y(0,"small"),O(1,"Debe tener mas de 6 caracteres"),v())}function TQ(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caractere"),v())}function SQ(n,e){if(n&1&&(y(0,"div",20),se(1,EQ,2,0,"small",21)(2,CQ,2,0,"small",21)(3,TQ,2,0,"small",21),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("contrasena"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("contrasena"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("contrasena"))==null||i.errors==null?null:i.errors.maxlength)}}function IQ(n,e){n&1&&(y(0,"small"),O(1,"La Contrase\xF1a es requerida."),v())}function AQ(n,e){n&1&&(y(0,"small"),O(1,"Debe tener mas de 6 caracteres"),v())}function kQ(n,e){n&1&&(y(0,"small"),O(1,"Debe tener menos de 9 caractere"),v())}function RQ(n,e){if(n&1&&(y(0,"div",20),se(1,IQ,2,0,"small",21)(2,AQ,2,0,"small",21)(3,kQ,2,0,"small",21),v()),n&2){let t,r,i,s=G(2);S(),W("ngIf",(t=s.formRegistro.get("contrasena2"))==null||t.errors==null?null:t.errors.required),S(),W("ngIf",(r=s.formRegistro.get("contrasena2"))==null||r.errors==null?null:r.errors.minlength),S(),W("ngIf",(i=s.formRegistro.get("contrasena2"))==null||i.errors==null?null:i.errors.maxlength)}}function DQ(n,e){n&1&&(y(0,"small"),O(1,"La foto es requerida."),v())}function PQ(n,e){if(n&1&&(y(0,"div",20),se(1,DQ,2,0,"small",21),v()),n&2){let t,r=G(2);S(),W("ngIf",(t=r.formRegistro.get("foto1"))==null||t.errors==null?null:t.errors.required)}}function OQ(n,e){if(n&1){let t=Fe();y(0,"div",18)(1,"button",22),ge("click",function(){le(t);let i=G(2);return ue(i.enviar())}),O(2,"Enviar"),v()()}}function MQ(n,e){if(n&1){let t=Fe();y(0,"div",18)(1,"button",23),ge("click",function(){le(t);let i=G(2);return ue(i.enviar())}),O(2,"Enviar"),v()()}}function FQ(n,e){if(n&1){let t=Fe();y(0,"form",5)(1,"div")(2,"input",6),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.nombre,i)||(s.paciente.nombre=i),ue(i)}),v(),se(3,lQ,3,2,"div",7),v(),y(4,"div")(5,"input",8),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.apellido,i)||(s.paciente.apellido=i),ue(i)}),v(),se(6,hQ,3,2,"div",7),v(),y(7,"div")(8,"input",9),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.edad,i)||(s.paciente.edad=i),ue(i)}),v(),se(9,mQ,3,2,"div",7),v(),y(10,"div")(11,"input",10),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.dni,i)||(s.paciente.dni=i),ue(i)}),v(),se(12,yQ,4,3,"div",7),v(),y(13,"div")(14,"input",11),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.email,i)||(s.paciente.email=i),ue(i)}),v(),se(15,bQ,3,2,"div",7),v(),y(16,"div")(17,"input",12),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.pass,i)||(s.paciente.pass=i),ue(i)}),v(),se(18,SQ,4,3,"div",7),v(),y(19,"div")(20,"input",13),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.contrasena2,i)||(s.contrasena2=i),ue(i)}),v(),se(21,RQ,4,3,"div",7),v(),y(22,"div")(23,"input",14),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.paciente.img_1,i)||(s.paciente.img_1=i),ue(i)}),ge("change",function(i){le(t);let s=G();return ue(s.onFileSelected(i,1))}),v(),se(24,PQ,2,1,"div",7),v(),y(25,"div",15)(26,"app-captcha2",16),ge("resultadoFinal",function(i){le(t);let s=G();return ue(s.tomarResultado(i))}),v()(),se(27,OQ,3,0,"div",17)(28,MQ,3,0,"div",17),y(29,"div",18)(30,"div",19),O(31,"Loguearse"),v()()()}if(n&2){let t,r,i,s,o,a,c,l,d=G();W("formGroup",d.formRegistro),S(2),Xe("ngModel",d.paciente.nombre),S(),W("ngIf",(t=d.formRegistro.get("nombre"))==null?null:t.invalid),S(2),Xe("ngModel",d.paciente.apellido),S(),W("ngIf",(r=d.formRegistro.get("apellido"))==null?null:r.invalid),S(2),Xe("ngModel",d.paciente.edad),S(),W("ngIf",(i=d.formRegistro.get("edad"))==null?null:i.invalid),S(2),Xe("ngModel",d.paciente.dni),S(),W("ngIf",(s=d.formRegistro.get("dni"))==null?null:s.invalid),S(2),Xe("ngModel",d.paciente.email),S(),W("ngIf",(o=d.formRegistro.get("email"))==null?null:o.invalid),S(2),Xe("ngModel",d.paciente.pass),S(),W("ngIf",(a=d.formRegistro.get("contrasena"))==null?null:a.invalid),S(2),Xe("ngModel",d.contrasena2),S(),W("ngIf",(c=d.formRegistro.get("contrasena2"))==null?null:c.invalid),S(2),Xe("ngModel",d.paciente.img_1),S(),W("ngIf",(l=d.formRegistro.get("foto1"))==null?null:l.invalid),S(3),W("ngIf",d.resultado!=!0),S(),W("ngIf",d.resultado==!0)}}function NQ(n,e){if(n&1&&(y(0,"div",24)(1,"div",25)(2,"div",26),O(3),v()()()),n&2){let t=G();S(2),ha(t.clase),vo("width",t.ProgresoDeAncho),S(),Mr(" ",t.progresoMensaje," - ",t.progreso,"% ")}}var MO=(()=>{class n{fb;authService;fire;router;resultado;paciente;nuevoPaciente;Mensaje;progreso;progresoMensaje="esperando...";logeando=!0;contrasena2;logueado;ProgresoDeAncho;subscription;foto1;foto2;storage=Mu();formRegistro;clase="progress-bar progress-bar-info progress-bar-striped ";constructor(t,r,i,s){this.fb=t,this.authService=r,this.fire=i,this.router=s,this.paciente=new ad,this.nuevoPaciente=new ad,this.formRegistro=this.fb.group({nombre:["",[Ve.required,Ve.minLength(3)]],apellido:["",[Ve.required,Ve.minLength(2)]],edad:["",[Ve.required,Ve.min(0),Ve.max(150)]],dni:["",[Ve.required,Ve.min(1e6),Ve.max(1e8)]],email:["",[Ve.required,Ve.email]],contrasena:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],contrasena2:["",[Ve.required,Ve.minLength(6),Ve.maxLength(8)]],foto1:["",[Ve.required]]})}ngOnInit(){sessionStorage.clear()}onFileSelected(t,r){let i=t.target.files[0];r===1?this.foto1=i:this.foto2=i}tomarResultado(t){this.resultado=t}enviar(){return q(this,null,function*(){if(this.formRegistro.valid&&this.resultado===!0)if(this.paciente.pass==this.contrasena2){let t=yield this.authService.register(this.paciente.email,this.paciente.pass);if(this.MoverBarraDeProgreso(),yield t){yield new Promise(o=>setTimeout(o,2500)),this.paciente.tipo="admin";let r=Xt(this.fire,"Usuarios"),i=Xc(this.storage,`admin/${this.foto1.name}`),s=yield Yc(i,this.foto1);this.paciente.img_1=yield Kc(s.ref),Qr(r,{email:this.paciente.email,nombre:this.paciente.nombre,apellido:this.paciente.apellido,tipo:this.paciente.tipo,dni:this.paciente.dni,contrase\u00F1a:this.paciente.pass,edad:this.paciente.edad,foto1:this.paciente.img_1,aprobado:!0,id:t?.user.uid}),sessionStorage.setItem("user",this.paciente.email),sessionStorage.setItem("muestra","true"),this.router.navigateByUrl("/home",{replaceUrl:!0})}else this.MostarMensaje("Usuario ya registrado, por favor utilice otro correo",!0),this.paciente=new ad,this.contrasena2="",this.logeando=!0}else this.MostarMensaje("Las contrase\xF1as no coinciden, por favor revisarlas",!0),this.logeando=!0;else this.MostarMensaje("Hay datos invalidos en el formulario, por favor revisarlos",!0),this.logeando=!0})}MostarMensaje(t,r){this.Mensaje=t;var i=document.getElementById("snackbar");r&&(i.className="show Ganador");var s=this;setTimeout(function(){i.className=i.className.replace("show","")},3e3)}MoverBarraDeProgreso(){this.progreso=0,this.ProgresoDeAncho="0%",this.logeando=!1,this.clase="progress-bar progress-bar-danger progress-bar-striped active",this.progresoMensaje="Iniciando comprobacion";let t=ca(30);this.subscription=t.subscribe(r=>{switch(this.progreso=this.progreso+1,this.ProgresoDeAncho=this.progreso+15+"%",this.progreso){case 15:this.clase="progress-bar progress-bar-warning progress-bar-striped active",this.progresoMensaje="Verificando Usuario...";break;case 30:this.clase="progress-bar progress-bar-Info progress-bar-striped active",this.progresoMensaje="Verificando contrase\xF1a..";break;case 60:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando Info del dispositivo..";break;case 75:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Desencriptacion de clave ..";break;case 85:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Clave ok, ingresando..";break;case 100:console.log("final"),this.subscription.unsubscribe();break}})}static \u0275fac=function(r){return new(r||n)(de(Ta),de(Ws),de(Sn),de(Cr))};static \u0275cmp=tt({type:n,selectors:[["app-form-admin"]],standalone:!0,features:[nt],decls:7,vars:3,consts:[[1,"container"],[1,"heading"],[3,"formGroup",4,"ngIf"],["style","margin-top: 90%;",4,"ngIf"],["id","snackbar"],[3,"formGroup"],["type","text","name","fname","id","fname","formControlName","nombre","placeholder","Nombre",1,"form-control",3,"ngModelChange","ngModel"],["class","validacion",4,"ngIf"],["type","text","name","lname","id","lname","formControlName","apellido","placeholder","Apellido",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","edad","id","edad","formControlName","edad","placeholder","Edad",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","dni","id","dni","formControlName","dni","placeholder","DNI",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","id","email","formControlName","email","placeholder","Correo Electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","formControlName","contrasena","placeholder","Contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password2","id","password2","formControlName","contrasena2","placeholder","Reingresar contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["type","file","name","foto1","id","foto1","formControlName","foto1","placeholder","Foto 1",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-sm-12"],[3,"resultadoFinal"],["class","col-sm-12","style","margin-left: -34px;",4,"ngIf"],[1,"col-sm-12",2,"margin-left","-34px"],["routerLink","/login",1,"btn","btn-warning"],[1,"validacion"],[4,"ngIf"],["disabled","",1,"btn","btn-warning",3,"click"],[1,"btn","btn-warning",3,"click"],[2,"margin-top","90%"],[1,"progress"],["role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped","active"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"header",1),O(2,"Formulario de Registro de Pacientes"),v(),se(3,FQ,32,19,"form",2)(4,NQ,4,6,"div",3),y(5,"div",4),O(6),v()()),r&2&&(S(3),W("ngIf",i.logeando),S(),W("ngIf",!i.logeando),S(2),Ke(i.Mensaje))},dependencies:[_t,ln,Dt,Ca,li,Pc,ui,Ea,zi,hs,Mo,Fu],styles:["input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc}.cancelbtn[_ngcontent-%COMP%]{padding:14px 20px;background-color:#f44336}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{float:left;width:50%}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;padding-top:60px}.container[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;background-color:#000;border-style:1px solid grey;padding:3.9%;text-align:center;opacity:.8;max-width:40%}.lastname[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;color:#fff;margin-top:10px}.firstname[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14px;color:#fff;margin-top:5px}#lname[_ngcontent-%COMP%]{margin-top:5px}.heading[_ngcontent-%COMP%]{text-decoration:bold;text-align:center;font-size:30px;color:#f96;padding-top:35px}#email[_ngcontent-%COMP%]{margin-top:5px}.mail[_ngcontent-%COMP%]{font-family:sans-serif;color:#fff;font-size:14px;margin-top:13px}.pass[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-family:sans-serif;margin-top:9px}#password[_ngcontent-%COMP%]{margin-top:6px}.pno[_ngcontent-%COMP%]{font-size:18px;margin-left:-13px;margin-top:10px;color:#ff9}.gender[_ngcontent-%COMP%]{color:#fff;font-family:sans-serif;font-size:14px;margin-left:28px;margin-top:8px}.sbutton[_ngcontent-%COMP%]{color:#fff;font-size:20px;border:1px solid white;background-color:#080808;width:32%;margin-left:41%;margin-top:16px;box-shadow:0 2px 2px #fff}.btn.btn-warning[_ngcontent-%COMP%]:hover{box-shadow:2px 1px 2px 3px #9cf;background:#5900a6;color:#fff;transition:background-color 1.15s ease-in-out,border-color 1.15s ease-in-out,box-shadow 1.15s ease-in-out}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:2px;z-index:1;left:50%;bottom:30px;font-size:20px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#df1818;color:#fff}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px}.col-sm-12[_ngcontent-%COMP%]{grid-column:span 2}.validacion[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:15px}"]})}return n})();var ro=(()=>{class n{firestore;historias$;historias;constructor(t){this.firestore=t,this.historias$=new dt,this.getHistoriaDB().subscribe(r=>{this.historias=r,this.historias$.next(r)})}getTurnosDB(){let t=Xt(this.firestore,"turnos");return $i(t,{idField:"id"})}cargarTurnosBD(t){let r=Xt(this.firestore,"turnos");Qr(r,Object.assign({},t))}updateTurnos(t){let r=Xt(this.firestore,"turnos"),i=qc(r,t.id);Gc(i,{estado:t.estado,comentario:t.comentario,calificacion:t.calificacion,encuesta:t.encuesta,fecha:t.fecha,resenia:t.resenia})}getHistoriaDB(){let t=Xt(this.firestore,"historiaClinica");return $i(t,{idField:"id"})}cargarHistoriasBD(t){let r=Xt(this.firestore,"historiaClinica");Qr(r,Object.assign({},t))}updateHistoria(t){let r=Xt(this.firestore,"historiaClinica"),i=qc(r,t.id);Gc(i,{especialista:t.especialista,dinamicos:t.dinamicos,altura:t.altura,peso:t.peso,temperatura:t.temperatura,presion:t.presion,especialidad:t.especialidad})}static \u0275fac=function(r){return new(r||n)(be(Sn))};static \u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LQ(n,e){if(n&1&&(y(0,"li",4)(1,"b"),O(2),v(),y(3,"span"),O(4),v()()),n&2){let t=e.$implicit;S(2),on("",t.clave,": "),S(2),Ke(t.valor)}}function VQ(n,e){if(n&1&&(y(0,"div",2)(1,"ul",3)(2,"li",4)(3,"b"),O(4,"Altura: "),v(),y(5,"span"),O(6),v()(),y(7,"li",4)(8,"b"),O(9,"Peso: "),v(),y(10,"span"),O(11),v()(),y(12,"li",4)(13,"b"),O(14,"Temperatura: "),v(),y(15,"span"),O(16),v()(),y(17,"li",4)(18,"b"),O(19,"Presion: "),v(),y(20,"span"),O(21),v()(),y(22,"li",4)(23,"b"),O(24,"Especialidad: "),v(),y(25,"span"),O(26),v()(),se(27,LQ,5,2,"li",5),v(),pe(28,"br"),v()),n&2){let t=e.$implicit;S(6),Ke(t.altura),S(5),Ke(t.peso),S(5),Ke(t.temperatura),S(5),Ke(t.presion),S(5),Ke(t.especialidad),S(),W("ngForOf",t.dinamicos)}}var cd=(()=>{class n{firebaseService;historiaService;usuario;mail=sessionStorage.getItem("user");paciente=new Na;historias=[];pacientes=[];emailPaciente;constructor(t,r){this.firebaseService=t,this.historiaService=r}ngOnInit(){console.log(this.mail),this.cargarUsuario(),setTimeout(()=>{this.usuario.tipo=="paciente"&&(this.paciente=this.usuario)},5500),console.log("email paciente",this.emailPaciente),this.emailPaciente?this.cargarPaciente2():(this.cargarPacientes(),console.log("historias",this.historias))}cargarUsuario(){return q(this,null,function*(){let t=sessionStorage.getItem("user");this.usuario=yield this.firebaseService.getUsuarioEmail(t),console.log("usuario",this.usuario)})}cargarPacientes(){this.historias=[],this.firebaseService.getUsuariosPorTipo("paciente").subscribe(t=>{this.pacientes=t,console.log(this.pacientes),this.pacientes.forEach(r=>{this.mail==r.email&&(this.paciente=r)}),this.historiaService.getHistoriaDB().subscribe(r=>{r.forEach(i=>{i.paciente===this.paciente.email&&this.historias.push(i)})})})}cargarPaciente2(){this.historias=[],this.firebaseService.getUsuariosPorTipo("paciente").subscribe(t=>{this.pacientes=t,console.log(this.pacientes),this.pacientes.forEach(r=>{this.emailPaciente==r.email&&(this.paciente=r)}),this.historiaService.getHistoriaDB().subscribe(r=>{r.forEach(i=>{i.paciente===this.paciente.email&&this.historias.push(i)})})})}static \u0275fac=function(r){return new(r||n)(de(fr),de(ro))};static \u0275cmp=tt({type:n,selectors:[["app-historia-clinica"]],inputs:{emailPaciente:"emailPaciente"},standalone:!0,features:[nt],decls:7,vars:3,consts:[[1,"mt-5",2,"text-align","center"],["class","text-light",4,"ngFor","ngForOf"],[1,"text-light"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",4,"ngFor","ngForOf"]],template:function(r,i){r&1&&(y(0,"div",0),pe(1,"br"),y(2,"h1"),O(3),v()(),pe(4,"br")(5,"br"),se(6,VQ,29,6,"div",1)),r&2&&(S(3),Mr("Historia Clinica de: ",i.paciente.nombre," ",i.paciente.apellido,""),S(3),W("ngForOf",i.historias))},dependencies:[_t,Fr,Dt]})}return n})();function BQ(n,e){if(n&1){let t=Fe();y(0,"div"),pe(1,"app-form-admin"),y(2,"button",2),ge("click",function(){le(t);let i=G(2);return ue(i.volverMenuSeleccion())}),O(3,"Volver"),v()()}}function UQ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"button",2),ge("click",function(){le(t);let i=G(2);return ue(i.cambiarSeccion("admin"))}),O(2,"Crear usuario Admininistrador"),v(),y(3,"app-tabla-usuarios",3),ge("pacienteSeleccionado",function(i){le(t);let s=G(2);return ue(s.recibirPacienteSeleccionado(i))}),v()()}}function jQ(n,e){if(n&1&&(y(0,"div"),se(1,BQ,4,0,"div",1)(2,UQ,4,0,"div",1),v()),n&2){let t=G();S(),W("ngIf",t.seccion=="seleccion"),S(),W("ngIf",t.seccion=="menu")}}function WQ(n,e){if(n&1&&(y(0,"div"),pe(1,"app-historia-clinica",4),v()),n&2){let t=G();S(),W("emailPaciente",t.emailSeleccionado)}}var FO=(()=>{class n{emailSeleccionado;seccion="menu";tipoUsuarioARegistrar="";cambiarSeccion(t){this.seccion="seleccion",this.tipoUsuarioARegistrar=t}volverMenuSeleccion(){this.seccion="menu"}recibirPacienteSeleccionado(t){this.emailSeleccionado=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-usuarios"]],standalone:!0,features:[nt],decls:4,vars:2,consts:[[1,"fondo"],[4,"ngIf"],[1,"volver-btn",3,"click"],[3,"pacienteSeleccionado"],[3,"emailPaciente"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0),se(2,jQ,3,2,"div",1)(3,WQ,2,1,"div",1),v()),r&2&&(S(2),W("ngIf",!i.emailSeleccionado),S(),W("ngIf",i.emailSeleccionado))},dependencies:[OO,Dt,_t,ln,dr,MO,cd],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);height:100vh}.volver-btn[_ngcontent-%COMP%]{position:absolute;top:110px;right:10%;background-color:#f44336;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:16px;cursor:pointer}"]})}return n})();var zQ=(n,e)=>({"btn-success":n,"btn-danger":e});function HQ(n,e){n&1&&pe(0,"div",16)}function $Q(n,e){if(n&1&&(y(0,"div",16),pe(1,"img",17),v()),n&2){let t=G(2);S(),W("src",t.userData==null?null:t.userData.foto1,da)}}function qQ(n,e){if(n&1&&(y(0,"div",16)(1,"div",18)(2,"div",19)(3,"div",20),pe(4,"img",21),v(),y(5,"div",22),pe(6,"img",23),v()(),y(7,"button",24),pe(8,"span",25),y(9,"span",26),O(10,"Previous"),v()(),y(11,"button",27),pe(12,"span",28),y(13,"span",26),O(14,"Next"),v()()()()),n&2){let t=G(2);S(4),W("src",t.userData.foto1,da),S(2),W("src",t.userData.foto2,da)}}function GQ(n,e){n&1&&(y(0,"button",29),O(1,"Historial Cl\xEDnico"),v())}function KQ(n,e){if(n&1&&(y(0,"p",13),O(1),v()),n&2){let t=G(2);S(),on("Obra social: ",t.userData==null?null:t.userData.obraSocial,"")}}function XQ(n,e){if(n&1&&(y(0,"ul")(1,"li"),O(2),v()()),n&2){let t=e.$implicit;S(2),Ke(t.especialidad)}}function YQ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"p",13),O(2,"Especialidades:"),v(),se(3,XQ,3,1,"ul",30),pe(4,"hr"),y(5,"div")(6,"button",31),ge("click",function(){le(t);let i=G(2);return ue(i.abrirMisHorarios())}),O(7,"Mis Horarios"),v()()()}if(n&2){let t=G(2);S(3),W("ngForOf",t.userData==null?null:t.userData.especialidad)}}function QQ(n,e){if(n&1&&(y(0,"div",6),se(1,HQ,1,0,"div",7)(2,$Q,2,1,"div",7)(3,qQ,15,2,"div",7),y(4,"div",8)(5,"div",9)(6,"div",10)(7,"h1",11),O(8),v(),se(9,GQ,2,0,"button",12),v(),y(10,"p",13),O(11),v(),y(12,"p",13),O(13),v(),y(14,"p",13),O(15),v(),y(16,"p",13),O(17),v(),se(18,KQ,2,1,"p",14)(19,YQ,8,1,"div",15),v()()()),n&2){let t=G();S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="admin"),S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="especialista"),S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="paciente"),S(5),Mr("",t.userData==null?null:t.userData.nombre," ",t.userData==null?null:t.userData.apellido,""),S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="paciente"),S(2),on("Rol: ",t.userData==null?null:t.userData.tipo,""),S(2),on("Email: ",t.userData==null?null:t.userData.email,""),S(2),on("Edad: ",t.userData==null?null:t.userData.edad,""),S(2),on("DNI: ",t.userData==null?null:t.userData.dni,""),S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="paciente"),S(),W("ngIf",(t.userData==null?null:t.userData.tipo)=="especialista")}}function JQ(n,e){if(n&1&&(y(0,"div")(1,"button",42),O(2),pe(3,"span",43),v()()),n&2){let t=G().$implicit;S(2),Ke(t.ini)}}function ZQ(n,e){if(n&1&&(y(0,"mat-option",46),O(1),v()),n&2){let t=e.$implicit;W("value",t),S(),Ke(t)}}function eJ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"mat-form-field")(2,"mat-select",44),ge("change",function(i){le(t);let s=G().$implicit,o=G(2);return ue(o.cambiarHorario(s.dia,"inicio",i))}),Qe("ngModelChange",function(i){le(t);let s=G().$implicit;return Ye(s.ini,i)||(s.ini=i),ue(i)}),se(3,ZQ,2,2,"mat-option",45),v()()()}if(n&2){let t=G().$implicit,r=G(2);S(2),Xe("ngModel",t.ini),S(),W("ngForOf",r.horarios)}}function tJ(n,e){if(n&1&&(y(0,"div")(1,"button",42),O(2),pe(3,"span",43),v()()),n&2){let t=G().$implicit;S(2),Ke(t.fin)}}function nJ(n,e){if(n&1&&(y(0,"mat-option",46),O(1),v()),n&2){let t=e.$implicit;W("value",t),S(),Ke(t)}}function rJ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"mat-form-field")(2,"mat-select",44),ge("change",function(i){le(t);let s=G().$implicit,o=G(2);return ue(o.cambiarHorario(s.dia,"fin",i))}),Qe("ngModelChange",function(i){le(t);let s=G().$implicit;return Ye(s.fin,i)||(s.fin=i),ue(i)}),se(3,nJ,2,2,"mat-option",45),v()()()}if(n&2){let t=G().$implicit,r=G(2);S(2),Xe("ngModel",t.fin),S(),W("ngForOf",r.horarios)}}function iJ(n,e){if(n&1&&(y(0,"div")(1,"button",47),O(2),pe(3,"span",43),v()()),n&2){let t=G().index,r=G(2);S(2),Ke(r.especialidadesPorDia[t])}}function sJ(n,e){if(n&1&&(y(0,"mat-option",46),O(1),v()),n&2){let t=e.$implicit;W("value",t),S(),Ke(t.especialidad)}}function oJ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"mat-form-field")(2,"mat-select",44),ge("change",function(i){le(t);let s=G().$implicit,o=G(2);return ue(o.cambiarEspecialidad(s.dia,i))}),Qe("ngModelChange",function(i){le(t);let s=G().index,o=G(2);return Ye(o.especialidadesPorDia[s],i)||(o.especialidadesPorDia[s]=i),ue(i)}),se(3,sJ,2,2,"mat-option",45),v()()()}if(n&2){let t=G().index,r=G(2);S(2),Xe("ngModel",r.especialidadesPorDia[t]),S(),W("ngForOf",r.userData.especialidad)}}function aJ(n,e){if(n&1){let t=Fe();y(0,"div",37)(1,"div",38)(2,"button",39),ge("click",function(){let i=le(t),s=i.$implicit,o=i.index,a=G(2);return ue(a.cambiarEstado(s.dia,a.disponibilidades[o]))}),O(3),v()(),y(4,"div",38)(5,"div",40)(6,"div",41),se(7,JQ,4,1,"div",15)(8,eJ,4,2,"div",15),v()()(),y(9,"div",38)(10,"div",40)(11,"div",41),se(12,tJ,4,1,"div",15)(13,rJ,4,2,"div",15),v()()(),y(14,"div",38)(15,"div",40)(16,"div",41),se(17,iJ,4,1,"div",15)(18,oJ,4,2,"div",15),v()()()()}if(n&2){let t=e.$implicit,r=e.index,i=G(2);S(2),W("ngClass",$d(9,zQ,i.disponibilidades[r]==="Habilitado",i.disponibilidades[r]==="Inhabilitado")),S(),Mr("",t.dia," ",i.disponibilidades[r],""),S(4),W("ngIf",i.disponibilidades[r]!="Habilitado"),S(),W("ngIf",i.disponibilidades[r]=="Habilitado"),S(4),W("ngIf",i.disponibilidades[r]!="Habilitado"),S(),W("ngIf",i.disponibilidades[r]=="Habilitado"),S(4),W("ngIf",i.disponibilidades[r]!="Habilitado"),S(),W("ngIf",i.disponibilidades[r]=="Habilitado")}}function cJ(n,e){if(n&1){let t=Fe();y(0,"div",32)(1,"div",33),pe(2,"br"),y(3,"h1",34),O(4,"Disponibilidad Horaria"),v(),pe(5,"br"),se(6,aJ,19,12,"div",35),pe(7,"br"),y(8,"button",36),ge("click",function(){le(t);let i=G();return ue(i.cerrarModulo())}),O(9,"Confirmar"),v(),pe(10,"br"),v()()}if(n&2){let t=G();S(6),W("ngForOf",t.dias)}}var NO=(()=>{class n{firebaseService;horarioEspService;mostrar=!1;userData;porTipo=[];email=sessionStorage.getItem("user");dias=[{dia:"Lunes",ini:"",fin:""},{dia:"Martes",ini:"",fin:""},{dia:"Miercoles",ini:"",fin:""},{dia:"Jueves",ini:"",fin:""},{dia:"Viernes",ini:"",fin:""},{dia:"Sabado",ini:"",fin:""}];horasDefault=[8,9,10,11,12,13,14,15,16,17,18,19];disponibilidades=["Habilitado","Habilitado","Habilitado","Habilitado","Habilitado","Habilitado"];horarios=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"];horariosEspecialista;especialidadesPorDia=[];seccion="menu";tipoUsuarioARegistrar="";constructor(t,r){this.firebaseService=t,this.horarioEspService=r}ngOnInit(){this.firebaseService.getUsuariosPorTipo("especialista").subscribe(t=>{this.porTipo=t,console.log(this.porTipo)}),this.searchUser(),this.horarioEspService.getHorarioEspecialistas().subscribe(t=>{t.forEach(r=>{console.log(r),this.userData.email==r.email&&(this.horariosEspecialista=r,this.disponibilidades=this.horariosEspecialista.estados,this.especialidadesPorDia=this.horariosEspecialista.especialidadesPorDia,this.cargarHorarios(r))})})}searchUser(){return q(this,null,function*(){this.email&&(console.log("entre aca"),this.userData=yield this.firebaseService.getUsuarioEmail(this.email))})}cambiarSeccion(t){this.seccion="seleccion",this.tipoUsuarioARegistrar=t}volverMenuSeleccion(){this.seccion="menu"}abrirMisHorarios(){this.mostrar=!0}cargarHorarios(t){this.dias[0].ini=t.lunInicio,this.dias[0].fin=t.lunFin,this.dias[1].ini=t.marInicio,this.dias[1].fin=t.marFin,this.dias[2].ini=t.mierInicio,this.dias[2].fin=t.mierFin,this.dias[3].ini=t.jueInicio,this.dias[3].fin=t.jueFin,this.dias[4].ini=t.vierInicio,this.dias[4].fin=t.vierFin,this.dias[5].ini=t.sabInicio,this.dias[5].fin=t.sabFin}cambiarEstado(t,r){switch(r=="Habilitado"?r="Inhabilitado":r="Habilitado",t){case"Lunes":this.horariosEspecialista.estados[0]=r;break;case"Martes":this.horariosEspecialista.estados[1]=r;break;case"Miercoles":this.horariosEspecialista.estados[2]=r;break;case"Jueves":this.horariosEspecialista.estados[3]=r;break;case"Viernes":this.horariosEspecialista.estados[4]=r;break;case"Sabado":this.horariosEspecialista.estados[5]=r;break}console.log(this.horarios)}cambiarHorario(t,r,i){let o=i.target.value;if(r=="inicio")switch(t){case"Lunes":this.dias[0].ini=o;break;case"Martes":this.dias[1].ini=o;break;case"Miercoles":this.dias[2].ini=o;break;case"Jueves":this.dias[3].ini=o;break;case"Viernes":this.dias[4].ini=o;break;case"Sabado":this.dias[5].ini=o;break}else switch(t){case"Lunes":this.dias[0].fin=o;break;case"Martes":this.dias[1].fin=o;break;case"Miercoles":this.dias[2].fin=o;break;case"Jueves":this.dias[3].fin=o;break;case"Viernes":this.dias[4].fin=o;break;case"Sabado":this.dias[5].fin=o;break}}cambiarEspecialidad(t,r){console.log(this.especialidadesPorDia);let s=r.target.value;switch(t){case"Lunes":this.especialidadesPorDia[0]=s;break;case"Martes":this.especialidadesPorDia[1]=s;break;case"Miercoles":this.especialidadesPorDia[2]=s;break;case"Jueves":this.especialidadesPorDia[3]=s;break;case"Viernes":this.especialidadesPorDia[4]=s;break;case"Sabado":this.especialidadesPorDia[5]=s;break}}actualizarHorarioEspecialista(){this.horariosEspecialista.lunInicio=this.dias[0].ini,this.horariosEspecialista.lunFin=this.dias[0].fin,this.horariosEspecialista.marInicio=this.dias[1].ini,this.horariosEspecialista.marFin=this.dias[1].fin,this.horariosEspecialista.mierInicio=this.dias[2].ini,this.horariosEspecialista.mierFin=this.dias[2].fin,this.horariosEspecialista.jueInicio=this.dias[3].ini,this.horariosEspecialista.jueFin=this.dias[3].fin,this.horariosEspecialista.vierInicio=this.dias[4].ini,this.horariosEspecialista.vierFin=this.dias[4].fin,this.horariosEspecialista.sabInicio=this.dias[5].ini,this.horariosEspecialista.sabFin=this.dias[5].fin}cerrarModulo(){this.actualizarHorarioEspecialista(),this.horarioEspService.updateHorarioEspecialistas(this.horariosEspecialista),this.mostrar=!1}static \u0275fac=function(r){return new(r||n)(de(fr),de(Wu))};static \u0275cmp=tt({type:n,selectors:[["app-mi-perfil"]],standalone:!0,features:[nt],decls:7,vars:2,consts:[[1,"fondo"],[1,"container-fluid","d-flex","justify-content-center","aling-content-center"],[1,"pantalla","d-flex","flex-column","position-relative"],[1,"card","m-5","p-3",2,"width","80%","max-width","90%"],["class","row g-0",4,"ngIf"],["class","container-fluid contenedor p-4 text-center mt-5",4,"ngIf"],[1,"row","g-0"],["class","col-md-4",4,"ngIf"],[1,"col-md-8"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],["class","btn btn-info","routerLink","/historial",4,"ngIf"],["appLupa","",1,"card-text"],["appLupa","","class","card-text",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100","active",3,"src"],[1,"carousel-item"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["routerLink","/historial",1,"btn","btn-info"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","horarios","largo",3,"click"],[1,"container-fluid","contenedor","p-4","text-center","mt-5"],[1,"modal-content","card",2,"text-align","center","max-width","1200px","max-height","600px","margin","0 auto"],[1,"title"],["style","margin: 0 auto; float: none;","class","w-75 row",4,"ngFor","ngForOf"],[1,"btn","btn-primary",2,"margin","0 auto","float","none",3,"click"],[1,"w-75","row",2,"margin","0 auto","float","none"],[1,"col-md-3","mb-3"],[1,"btn","disponibilidad",3,"click","ngClass"],[1,"form-floating","mb-3"],["dropdown","",1,"btn-group","w-100"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn","btn-secondary","dropdown-toggle"],[1,"caret"],[3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","button-basic2","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn","btn-secondary","dropdown-toggle"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),se(5,QQ,20,12,"div",4)(6,cJ,11,1,"div",5),v()()()()),r&2&&(S(5),W("ngIf",!i.mostrar),S(),W("ngIf",(i.userData==null?null:i.userData.tipo)==="especialista"&&i.mostrar===!0))},dependencies:[dr,_t,pa,Fr,ln,Dt,ui,Dc,Tg,Eg,Cg,Bu,Uu,xm],styles:['.fondo[_ngcontent-%COMP%]{background:url("./media/slider-bg-2-7UI2L5W4.jpg");background-size:cover;height:100%;display:flex;align-items:center;justify-content:center}.pantalla[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15vh;background-color:#00000080;height:90%;width:80%;border-radius:20px;padding:20px}.backMenu[_ngcontent-%COMP%]{border-radius:50px;background-color:#fa9b39;font-size:25px;font-weight:700}.backMenu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.titulo[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px}.img-btn[_ngcontent-%COMP%]{width:25px;height:25px;margin-left:5px;margin-right:5px}']})}return n})();var s_=class{id;paciente;especialista;dinamicos;altura;peso;temperatura;presion;especialidad;constructor(e,t,r,i,s,o,a,c,l){this.id=e,this.paciente=t,this.especialista=r,this.dinamicos=i,this.altura=s,this.peso=o,this.temperatura=a,this.presion=c,this.especialidad=l}};var LO=(()=>{class n{firebaseService;turnosService;especialistas=[];pacientes=[];historias=[];constructor(t,r){this.firebaseService=t,this.turnosService=r}transform(t,r){if(!t||!r)return t;r=r.toLowerCase();let i=r.length,s=t.filter(o=>o.estado.toLowerCase().substring(0,i)==r);return s.length>0||(s=t.filter(o=>{let a=!1;return this.firebaseService.getUsuariosPorTipo("especialista").subscribe(c=>{this.especialistas=c,console.log("especialistas",this.especialistas)}),this.especialistas.forEach(c=>{c.email==o.especialista&&c.nombre.toLowerCase().substring(0,i)==r&&(a=!0)}),a}),s.length>0)||(s=t.filter(o=>{let a=!1;return this.turnosService.getHistoriaDB().subscribe(c=>{this.historias=c,console.log(c)}),this.historias.forEach(c=>{c.paciente==o.paciente&&c.especialidad==o.especialidad&&o.estado=="finalizado"&&c.dinamicos.forEach(l=>{console.log(l),console.log(l.clave.toLowerCase()),console.log(r),l.clave.toLowerCase().substring(0,i)==r&&o.estado=="finalizado"&&(a=!0,console.log(o))})}),a}),s.length>0)||(s=t.filter(o=>{let a=!1;return this.turnosService.getHistoriaDB().subscribe(c=>{this.historias=c,console.log(c)}),this.historias.forEach(c=>{c.paciente==o.paciente&&c.especialidad==o.especialidad&&o.estado=="finalizado"&&(c.altura.toLowerCase().substring(0,i)==r&&o.estado=="finalizado"||c.peso.toString().toLowerCase().substring(0,i)==r&&o.estado=="finalizado"||c.presion.toString().toLowerCase().substring(0,i)==r&&o.estado=="finalizado"||c.temperatura.toString().toLowerCase().substring(0,i)==r&&o.estado=="finalizado")&&(a=!0)}),a}),s.length>0)||(s=t.filter(o=>o.especialidad.toLowerCase().substring(0,i)==r||o.comentario.toLowerCase().substring(0,i)==r||o.hora.toString().toLowerCase().substring(0,i)==r||o.mes.toString().toLowerCase().substring(0,i)==r||o.estado.toLowerCase().substring(0,i)==r||o.dia.toLowerCase().substring(0,i)==r||o.calificacion.toLowerCase().substring(0,i)==r?!0:o.anio.toLowerCase().substring(0,i)==r),s.length>0)||(s=t.filter(o=>{let a=!1;return this.firebaseService.getUsuariosPorTipo("paciente").subscribe(c=>{this.pacientes=c,console.log("pacientes",this.pacientes)}),this.pacientes.forEach(c=>{c.email==o.paciente&&c.nombre.toLowerCase().substring(0,i)==r&&(a=!0)}),a}),s.length>0)?s:[]}static \u0275fac=function(r){return new(r||n)(de(fr,16),de(ro,16))};static \u0275pipe=Rl({name:"filtros",type:n,pure:!0,standalone:!0})}return n})();var lJ=(n,e,t,r)=>({"btn-secondary":n,"btn-danger":e,"btn-primary":t,"btn-success":r}),uJ=()=>({color:"rgb(180, 180, 180)"}),dJ=()=>({color:"red"}),hJ=()=>({color:"green"}),fJ=()=>[],Gf=n=>({checked:n});function pJ(n,e){if(n&1&&(y(0,"i",28),O(1),v()),n&2){let t=G().$implicit;W("ngStyle",Hd(4,uJ)),S(),cc("",t.especialidad," - ",t.dia," de ",t.mes,"")}}function mJ(n,e){if(n&1&&(y(0,"span",28),O(1),v()),n&2){let t=G().$implicit;W("ngStyle",Hd(4,dJ)),S(),cc("",t.especialidad," - ",t.dia," de ",t.mes,"")}}function gJ(n,e){if(n&1&&(y(0,"span"),O(1),v()),n&2){let t=G().$implicit;S(),cc("",t.especialidad," - ",t.dia," de ",t.mes,"")}}function _J(n,e){if(n&1&&(y(0,"span",28),O(1),v()),n&2){let t=G().$implicit;W("ngStyle",Hd(4,hJ)),S(),cc("",t.especialidad," - ",t.dia," de ",t.mes,"")}}function vJ(n,e){if(n&1){let t=Fe();y(0,"button",25),ge("click",function(){let i=le(t).$implicit,s=G();return ue(s.verTurno(i))}),se(1,pJ,2,5,"i",26)(2,mJ,2,5,"span",26)(3,gJ,2,3,"span",27)(4,_J,2,5,"span",26),v()}if(n&2){let t=e.$implicit;S(),W("ngIf",t.estado=="pendiente"),S(),W("ngIf",t.estado=="cancelado"||t.estado=="rechazado"),S(),W("ngIf",t.estado=="aceptado"),S(),W("ngIf",t.estado=="finalizado")}}function yJ(n,e){n&1&&(y(0,"div",29),pe(1,"br"),y(2,"p"),O(3,"No se encontr\xF3 ningun turno"),v()())}function wJ(n,e){if(n&1){let t=Fe();y(0,"div",16)(1,"label",3),O(2,"Especialista"),v(),y(3,"input",30),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.especialistaNombreCompleto,i)||(s.especialistaNombreCompleto=i),ue(i)}),v()()}if(n&2){let t=G();S(3),Xe("ngModel",t.especialistaNombreCompleto),W("readonly",!0)}}function xJ(n,e){if(n&1){let t=Fe();y(0,"div",16)(1,"label",3),O(2,"Paciente"),v(),y(3,"input",30),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.pacienteNombreCompleto,i)||(s.pacienteNombreCompleto=i),ue(i)}),v()()}if(n&2){let t=G();S(3),Xe("ngModel",t.pacienteNombreCompleto),W("readonly",!0)}}function bJ(n,e){if(n&1&&(y(0,"p"),O(1),v()),n&2){let t=G(2);S(),on("Calificaci\xF3n: ",t.turnoElegido.calificacion,"")}}function EJ(n,e){if(n&1&&(y(0,"p"),O(1),v()),n&2){let t=e.$implicit;S(),Mr("",t.clave,": ",t.valor,"")}}function CJ(n,e){if(n&1&&(y(0,"div",13)(1,"label",17),O(2,"Historia Cl\xEDnica"),v(),y(3,"div",31)(4,"p"),O(5),v(),y(6,"p"),O(7),v(),y(8,"p"),O(9),v(),y(10,"p"),O(11),v(),pe(12,"hr"),y(13,"h5"),O(14,"Din\xE1micos"),v(),se(15,EJ,2,2,"p",32),v()()),n&2){let t=G().$implicit;S(5),on("Altura: ",t.altura,""),S(2),on("Peso: ",t.peso,""),S(2),on("Presion: ",t.presion,""),S(2),on("Temperatura: ",t.temperatura,""),S(4),W("ngForOf",t.dinamicos)}}function TJ(n,e){if(n&1&&(y(0,"div"),se(1,CJ,16,5,"div",19),v()),n&2){let t=e.$implicit,r=G(2);S(),W("ngIf",t.paciente==r.turnoElegido.paciente&&t.especialista==r.turnoElegido.especialista)}}function SJ(n,e){if(n&1&&(y(0,"div",13)(1,"label",17),O(2,"Turno"),v(),y(3,"div",31)(4,"p"),O(5),v(),se(6,bJ,2,1,"p",27),v(),se(7,TJ,2,1,"div",32),v()),n&2){let t=G();S(5),on("Diagn\xF3stico: ",t.turnoElegido.comentario,""),S(),W("ngIf",t.usuario.tipo=="especialista"&&t.turnoElegido.calificacion!==""),S(),W("ngForOf",t.historiaPrevia)}}function IJ(n,e){if(n&1){let t=Fe();y(0,"button",35),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("cancelar"))}),O(1,"Cancelar turno"),v()}}function AJ(n,e){if(n&1){let t=Fe();y(0,"button",36),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("rese\xF1a"))}),O(1,"Ver rese\xF1a"),v()}}function kJ(n,e){if(n&1){let t=Fe();y(0,"button",36),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("calificar"))}),O(1," Calificar atenci\xF3n"),v()}}function RJ(n,e){if(n&1){let t=Fe();y(0,"button",36),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("encuesta"))}),O(1,"Completar encuesta"),v()}}function DJ(n,e){if(n&1&&(y(0,"div",29),se(1,IJ,2,0,"button",33)(2,AJ,2,0,"button",34)(3,kJ,2,0,"button",34)(4,RJ,2,0,"button",34),pe(5,"br"),v()),n&2){let t=G();S(),W("ngIf",t.estado!="finalizado"&&t.estado!="cancelado"&&t.estado!="rechazado"&&t.estado!=""),S(),W("ngIf",t.comentario!=""),S(),W("ngIf",t.estado=="finalizado"),S(),W("ngIf",t.comentario!=""&&t.estado=="finalizado")}}function PJ(n,e){if(n&1){let t=Fe();y(0,"button",36),ge("click",function(){le(t);let i=G(2);return ue(i.modificarTurnoSinComentario("aceptado"))}),O(1,"Aceptar turno"),v()}}function OJ(n,e){if(n&1){let t=Fe();y(0,"button",41),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("finalizado"))}),O(1,"Finalizar turno"),v()}}function MJ(n,e){if(n&1){let t=Fe();y(0,"button",42),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("rechazar"))}),O(1,"Rechazar turno"),v()}}function FJ(n,e){if(n&1){let t=Fe();y(0,"button",43),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("cancelar"))}),O(1,"Cancelar turno"),v()}}function NJ(n,e){if(n&1){let t=Fe();y(0,"button",44),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("rese\xF1a"))}),O(1,"Ver rese\xF1a"),v()}}function LJ(n,e){if(n&1&&(y(0,"div",29),se(1,PJ,2,0,"button",34)(2,OJ,2,0,"button",37)(3,MJ,2,0,"button",38)(4,FJ,2,0,"button",39)(5,NJ,2,0,"button",40),pe(6,"br"),v()),n&2){let t=G();S(),W("ngIf",t.estado!="aceptado"&&t.estado!="rechazado"&&t.estado!="finalizado"&&t.estado!="cancelado"&&t.estado!=""),S(),W("ngIf",t.estado=="aceptado"),S(),W("ngIf",t.estado!="aceptado"&&t.estado!="rechazado"&&t.estado!="finalizado"&&t.estado!="cancelado"&&t.estado!=""),S(),W("ngIf",t.estado!="aceptado"&&t.estado!="rechazado"&&t.estado!="finalizado"&&t.estado!="cancelado"&&t.estado!=""),S(),W("ngIf",t.comentario!="")}}function VJ(n,e){if(n&1){let t=Fe();y(0,"button",46),ge("click",function(){le(t);let i=G(2);return ue(i.abrirPopUp("cancelar"))}),O(1,"Cancelar turno"),v()}}function BJ(n,e){if(n&1&&(y(0,"div",29),se(1,VJ,2,0,"button",45),pe(2,"br"),v()),n&2){let t=G();S(),W("ngIf",t.estado!="aceptado"&&t.estado!="finalizado"&&t.estado!="rechazado"&&t.estado!="cancelado"&&t.estado!="")}}function UJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"Cancelar turno"),v(),pe(4,"br"),y(5,"label",48),O(6,"Comentario"),v(),y(7,"textarea",49),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.comentarioAux,i)||(s.comentarioAux=i),ue(i)}),ge("ngModelChange",function(){le(t);let i=G();return ue(i.resetearMensajeError())}),v(),pe(8,"br"),y(9,"p",50),O(10),v(),y(11,"button",51),ge("click",function(){le(t);let i=G();return ue(i.modificarTurno("cancelado"))}),O(12,"Cancelar turno"),v(),pe(13,"br")(14,"br"),v()}if(n&2){let t=G();S(7),Xe("ngModel",t.comentarioAux),S(3),Ke(t.mensajeError)}}function jJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"Rechazar turno"),v(),pe(4,"br"),y(5,"label",48),O(6,"Comentario"),v(),y(7,"textarea",49),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.comentarioAux,i)||(s.comentarioAux=i),ue(i)}),ge("ngModelChange",function(){le(t);let i=G();return ue(i.resetearMensajeError())}),v(),pe(8,"br"),y(9,"p",50),O(10),v(),y(11,"button",51),ge("click",function(){le(t);let i=G();return ue(i.modificarTurno("rechazado"))}),O(12,"Rechazar turno"),v(),pe(13,"br")(14,"br"),v()}if(n&2){let t=G();S(7),Xe("ngModel",t.comentarioAux),S(3),Ke(t.mensajeError)}}function WJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"Rese\xF1a"),v(),O(4),pe(5,"br")(6,"br"),y(7,"button",51),ge("click",function(){le(t);let i=G();return ue(i.cerrarPopUp())}),O(8,"Cerrar"),v(),pe(9,"br")(10,"br"),v()}if(n&2){let t=G();S(4),Mr(" ",t.comentario," ",t.resenia," ")}}function zJ(n,e){if(n&1){let t=Fe();y(0,"div",5)(1,"div",16)(2,"label",56),O(3,"Clave"),v(),y(4,"input",62),Qe("ngModelChange",function(i){let s=le(t).index,o=G(2);return Ye(o.dinamicos[s].clave,i)||(o.dinamicos[s].clave=i),ue(i)}),v()(),y(5,"div",16)(6,"label",58),O(7,"Valor"),v(),y(8,"input",63),Qe("ngModelChange",function(i){let s=le(t).index,o=G(2);return Ye(o.dinamicos[s].valor,i)||(o.dinamicos[s].valor=i),ue(i)}),v()()()}if(n&2){let t=e.index,r=G(2);S(4),Xe("ngModel",r.dinamicos[t].clave),S(4),Xe("ngModel",r.dinamicos[t].valor)}}function HJ(n,e){if(n&1){let t=Fe();y(0,"button",51),ge("click",function(){le(t);let i=G(2);return ue(i.agregarValorDinamico("restar"))}),O(1,"Restar dato"),v()}}function $J(n,e){if(n&1){let t=Fe();y(0,"button",51),ge("click",function(){le(t);let i=G(2);return ue(i.agregarValorDinamico("sumar"))}),O(1,"Agregar dato"),v()}}function qJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"Finalizado"),v(),y(4,"div",5)(5,"div",16)(6,"label",52),O(7,"Altura"),v(),y(8,"input",53),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.altura,i)||(s.altura=i),ue(i)}),v()(),y(9,"div",16)(10,"label",54),O(11,"Peso"),v(),y(12,"input",55),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.peso,i)||(s.peso=i),ue(i)}),v()()(),y(13,"div",5)(14,"div",16)(15,"label",56),O(16,"Temperatura"),v(),y(17,"input",57),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.temperatura,i)||(s.temperatura=i),ue(i)}),v()(),y(18,"div",16)(19,"label",58),O(20,"Presion"),v(),y(21,"input",59),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.presion,i)||(s.presion=i),ue(i)}),v()()(),y(22,"h4"),O(23,"Datos Dinamicos"),v(),se(24,zJ,9,2,"div",60),y(25,"div"),se(26,HJ,2,0,"button",61)(27,$J,2,0,"button",61),v(),pe(28,"br"),y(29,"label",48),O(30,"Comentario"),v(),y(31,"textarea",49),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.comentarioAux,i)||(s.comentarioAux=i),ue(i)}),ge("ngModelChange",function(){le(t);let i=G();return ue(i.resetearMensajeError())}),v(),pe(32,"br"),y(33,"p",50),O(34),v(),y(35,"button",51),ge("click",function(){le(t);let i=G();return ue(i.finalizarTurno())}),O(36,"Finalizar turno"),v(),pe(37,"br")(38,"br"),y(39,"button",51),ge("click",function(){le(t);let i=G();return ue(i.cerrarPopUp())}),O(40,"Cerrar"),v(),pe(41,"br")(42,"br"),v()}if(n&2){let t=G();S(8),Xe("ngModel",t.altura),S(4),Xe("ngModel",t.peso),S(5),Xe("ngModel",t.temperatura),S(4),Xe("ngModel",t.presion),S(3),W("ngForOf",Hd(9,fJ).constructor(t.cantidadDatos)),S(2),W("ngIf",t.cantidadDatos>0),S(),W("ngIf",t.cantidadDatos<3),S(4),Xe("ngModel",t.comentarioAux),S(3),Ke(t.mensajeError)}}function GJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"\xBFC\xF3mo calificarias la atencion de nuestro profecional?"),v(),y(4,"div",64),pe(5,"link",65),y(6,"span",66),ge("click",function(){le(t);let i=G();return ue(i.calificar(5))}),v(),y(7,"span",67),ge("click",function(){le(t);let i=G();return ue(i.calificar(4))}),v(),y(8,"span",68),ge("click",function(){le(t);let i=G();return ue(i.calificar(3))}),v(),y(9,"span",69),ge("click",function(){le(t);let i=G();return ue(i.calificar(2))}),v(),y(10,"span",70),ge("click",function(){le(t);let i=G();return ue(i.calificar(1))}),v()(),y(11,"div")(12,"label",48),O(13,"Comentario"),v(),y(14,"textarea",49),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.calificacion,i)||(s.calificacion=i),ue(i)}),ge("ngModelChange",function(){le(t);let i=G();return ue(i.resetearMensajeError())}),v(),pe(15,"br"),y(16,"p",50),O(17),v(),y(18,"button",51),ge("click",function(){le(t);let i=G();return ue(i.calificarTurno())}),O(19,"Calificar"),v(),pe(20,"br")(21,"br"),v()()}if(n&2){let t=G();S(6),W("ngClass",Fl(7,Gf,t.estrellas==5)),S(),W("ngClass",Fl(9,Gf,t.estrellas>=4)),S(),W("ngClass",Fl(11,Gf,t.estrellas>=3)),S(),W("ngClass",Fl(13,Gf,t.estrellas>=2)),S(),W("ngClass",Fl(15,Gf,t.estrellas>=1)),S(4),Xe("ngModel",t.calificacion),S(3),Ke(t.mensajeError)}}function KJ(n,e){if(n&1){let t=Fe();y(0,"div",47),pe(1,"br"),y(2,"h1"),O(3,"Encuesta"),v(),y(4,"label",3),O(5,"\xBFC\xF3mo calificarias las instalaciones de nuestro establecimiento?"),v(),y(6,"input",71),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.preguntas[0],i)||(s.preguntas[0]=i),ue(i)}),v(),pe(7,"br"),y(8,"label",3),O(9,"\xBFDeberiamos mejorar aspectos de nuestra clinica?"),v(),y(10,"input",71),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.preguntas[1],i)||(s.preguntas[1]=i),ue(i)}),v(),pe(11,"br"),y(12,"label",3),O(13,"\xBFRecomendar\xEDa nuestra cl\xEDnica a familiares y amigos?"),v(),y(14,"input",71),Qe("ngModelChange",function(i){le(t);let s=G();return Ye(s.preguntas[2],i)||(s.preguntas[2]=i),ue(i)}),v(),pe(15,"br"),y(16,"button",51),ge("click",function(){le(t);let i=G();return ue(i.llenarEncuesta())}),O(17,"Completar encuesta"),v(),y(18,"p",50),O(19),v(),pe(20,"br")(21,"br"),v()}if(n&2){let t=G();S(6),Xe("ngModel",t.preguntas[0]),S(4),Xe("ngModel",t.preguntas[1]),S(4),Xe("ngModel",t.preguntas[2]),S(5),Ke(t.mensajeError)}}var VO=(()=>{class n{firebaseData;data;especialidadesService;usuario;turnos=[];email;loading=!0;turnoElegido;fechaAux;especialistaNombreCompleto="";pacienteNombreCompleto="";especialista;especialidad;estado="";comentarioAux="";comentario="";reseniaAux="";resenia="";calificacion="";tipo;especialistas=[];especialidades=[];pacientes=[];filtro="";formModal;popUpRazon="";mensajeError="";estrellas=0;altura="";peso=0;temperatura=0;presion=0;dinamicos=[];cantidadDatos=0;historiaPrevia=[];preguntas=["","",""];constructor(t,r,i){this.firebaseData=t,this.data=r,this.especialidadesService=i}ngOnInit(){this.cargarUsuario(),setTimeout(()=>{},3500),this.especialidadesService.getEspecialidades().subscribe(t=>{this.especialidades=t}),this.data.getTurnosDB().subscribe(t=>{this.firebaseData.getUsuariosPorTipo("especialista").subscribe(r=>{this.especialistas=r,console.log("especialistas",this.especialistas)}),this.firebaseData.getUsuariosPorTipo("paciente").subscribe(r=>{this.pacientes=r,console.log("pacientes",this.pacientes)}),this.turnos=[],this.tipo=this.usuario.tipo,this.email=this.usuario.email,this.usuario.tipo!=="admin"?t.forEach(r=>{this.tipo==="paciente"&&r.paciente===this.email?this.turnos.push(r):this.usuario.tipo==="especialista"&&r.especialista===this.email&&this.turnos.push(r),console.log("los turnos son",this.turnos)}):this.turnos=t,this.data.getHistoriaDB().subscribe(r=>{this.historiaPrevia=r,console.log(r)})}),this.formModal=new window.bootstrap.Modal(document.getElementById("cancelarTurno"))}cargarUsuario(){return q(this,null,function*(){let t=sessionStorage.getItem("user");this.usuario=yield this.firebaseData.getUsuarioEmail(t),console.log("usuario",this.usuario)})}verTurno(t){this.turnos.forEach(r=>{r.especialista==t.especialista&&r.dia==t.dia&&r.mes==t.mes&&r.anio==t.anio&&r.hora==t.hora&&r.especialidad==t.especialidad&&(this.turnoElegido=r,this.fechaAux=r.hora+"Hs "+r.dia+" "+r.mes+" "+r.anio,this.especialidad=r.especialidad,this.buscarEspecialista(r.especialista),this.buscarPaciente(r.paciente),this.estado=r.estado,this.comentario=r.comentario,this.calificacion=r.calificacion)})}agregarValorDinamico(t){t=="sumar"&&this.cantidadDatos<3?(this.cantidadDatos++,this.dinamicos.push({clave:"",valor:""})):t=="restar"&&this.cantidadDatos>0&&(this.cantidadDatos--,this.dinamicos.splice(-1))}calificar(t){this.estrellas=t}abrirPopUp(t){this.popUpRazon=t,this.formModal.show()}cerrarPopUp(){this.formModal.hide()}completarResenia(){this.resenia=this.reseniaAux,this.cerrarPopUp()}completarComentario(){this.comentario=this.comentarioAux,this.cerrarPopUp()}buscarEspecialista(t){for(let r=0;r<this.especialistas.length;r++)this.especialistas[r].email==t&&(this.especialista=this.especialistas[r],this.especialistaNombreCompleto=this.especialistas[r].nombre+" "+this.especialistas[r].apellido);console.log("buscar especialista",this.especialistaNombreCompleto)}buscarPaciente(t){for(let r=0;r<this.pacientes.length;r++)this.pacientes[r].email==t&&(this.pacienteNombreCompleto=this.pacientes[r].nombre+" "+this.pacientes[r].apellido);console.log("buscar paciente",this.pacienteNombreCompleto)}ordernarListaTurnos(){this.turnos.sort((t,r)=>t.anio<r.anio||t.anio==r.anio&&this.mesToNumber(t.mes)<this.mesToNumber(r.mes)||t.anio==r.anio&&t.mes==r.mes&&t.dia<r.dia||t.anio==r.anio&&t.mes==r.mes&&t.dia==r.dia&&t.hora<r.hora?1:-1)}finalizarTurno(){if(this.comentarioAux==""||this.altura==""||this.peso==0||this.temperatura==0||this.presion==0)this.mensajeError="Complete los campos";else{this.estado="finalizado",this.turnoElegido.estado="finalizado",this.comentario=this.comentarioAux,this.turnoElegido.comentario=this.comentario;let t=new Date;this.turnoElegido.fecha=t.getDate().toString()+"/"+t.getMonth().toString()+"/"+t.getFullYear().toString(),this.data.updateTurnos(this.turnoElegido),this.comentario=="",this.altura=="",this.peso==0,this.temperatura==0,this.presion==0;let r=null;this.historiaPrevia.forEach(i=>{this.turnoElegido.paciente==i.paciente&&this.turnoElegido.especialista==i.especialista&&(r=i)}),console.log("El turno elegido",this.turnoElegido,this.historiaPrevia),r!==null&&this.turnoElegido.especialidad===r.especialidad?(r.especialista=this.turnoElegido.especialista,r.dinamicos=this.dinamicos,r.altura=this.altura,r.peso=this.peso,r.temperatura=this.temperatura.toString(),r.presion=this.presion.toString(),r.especialidad=this.turnoElegido.especialidad,this.data.updateHistoria(r)):this.data.cargarHistoriasBD(new s_("",this.turnoElegido.paciente,this.turnoElegido.especialista,this.dinamicos,this.altura,this.peso,this.temperatura.toString(),this.presion.toString(),this.turnoElegido.especialidad)),this.limpiarData(),this.cerrarPopUp()}}modificarTurno(t){this.comentarioAux==""?this.mensajeError="Complete el comentario":(this.estado=t,this.turnoElegido.estado=t,this.comentario=this.comentarioAux,this.turnoElegido.comentario=this.comentario,this.turnoElegido.resenia=this.resenia,this.data.updateTurnos(this.turnoElegido),this.limpiarData(),this.cerrarPopUp())}limpiarData(){this.comentarioAux="",this.comentario="",this.reseniaAux="",this.resenia="",this.calificacion=""}modificarTurnoSinComentario(t){this.estado=t,this.turnoElegido.estado=t,this.turnoElegido.comentario=this.comentario,this.data.updateTurnos(this.turnoElegido),this.limpiarData(),this.cerrarPopUp()}calificarTurno(){this.calificacion==""?this.mensajeError="Complete el comentario":(this.turnoElegido.calificacion=this.calificacion,this.data.updateTurnos(this.turnoElegido),this.limpiarData(),this.cerrarPopUp())}llenarEncuesta(){this.turnoElegido.encuesta=`${this.preguntas[0]}, ${this.preguntas[1]}, ${this.preguntas[2]}`,this.data.updateTurnos(this.turnoElegido),this.limpiarData(),this.cerrarPopUp()}resetearMensajeError(){this.mensajeError=""}mesToNumber(t){let r=-1;switch(t){case"Enero":r=1;break;case"Febrero":r=2;break;case"Marzo":r=3;break;case"Abril":r=4;break;case"Mayo":r=5;break;case"Junio":r=6;break;case"Julio":r=7;break;case"Agosto":r=8;break;case"Septiembre":r=9;break;case"Octubre":r=10;break;case"Noviembre":r=11;break;case"Diciembre":r=12;break}}static \u0275fac=function(r){return new(r||n)(de(fr),de(ro),de(ju))};static \u0275cmp=tt({type:n,selectors:[["app-mis-turnos"]],standalone:!0,features:[nt],decls:56,vars:29,consts:[[1,"fondo"],[1,"container","card","mt-5"],[1,"",2,"text-align","center"],["for","fecha"],["name","filtro","placeholder","Ingrese el nombre de la especialidad o nombre del especialista o paciente...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-4","order-md-1","mb-4"],[1,"text-center",2,"color","black"],[1,"list-group","bg-light"],["type","button","class","list-group-item btn btn-secondary",3,"click",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],[1,"col-md-8","order-md-2"],[1,"mb-3",2,"text-align","center"],[1,"mb-3"],["name","mail",1,"form-control",3,"ngModelChange","ngModel","readonly"],["class","col-md-6 mb-3",4,"ngIf"],[1,"col-md-6","mb-3"],["for","apellido"],["name","apellido",1,"form-control",3,"ngModelChange","ngModel","readonly"],["class","mb-3",4,"ngIf"],[1,"w-100","btn","notButton",3,"ngClass"],["id","cancelarTurno","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content","text-bg-dark",2,"text-align","center"],["class","card-color",4,"ngIf"],["type","button",1,"list-group-item","btn","btn-secondary",3,"click"],[3,"ngStyle",4,"ngIf"],[4,"ngIf"],[3,"ngStyle"],[2,"text-align","center"],["name","fecha",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"card",2,"background-color","#fff"],[4,"ngFor","ngForOf"],["class","w-50 btn btn-danger",3,"click",4,"ngIf"],["class","w-30 btn btn-primary calificadores",3,"click",4,"ngIf"],[1,"w-50","btn","btn-danger",3,"click"],[1,"w-30","btn","btn-primary","calificadores",3,"click"],["class","w-50 btn btn-success",3,"click",4,"ngIf"],["class","w-30 btn btn-warning calificadores",3,"click",4,"ngIf"],["class","w-30 btn btn-danger calificadores",3,"click",4,"ngIf"],["class","w-50 btn btn-primary",3,"click",4,"ngIf"],[1,"w-50","btn","btn-success",3,"click"],[1,"w-30","btn","btn-warning","calificadores",3,"click"],[1,"w-30","btn","btn-danger","calificadores",3,"click"],[1,"w-50","btn","btn-primary",3,"click"],["class","w-50 btn btn-warning",3,"click",4,"ngIf"],[1,"w-50","btn","btn-warning",3,"click"],[1,"card-color"],["for","textAreaExample",1,"form-label"],["id","textAreaExample1","rows","4",1,"form-control","w-50",2,"margin","0 auto","float","none",3,"ngModelChange","ngModel"],[2,"color","red"],[1,"btn","btn-secondary",2,"margin","0 auto","float","none",3,"click"],["for","altura"],["name","altura",1,"form-control",3,"ngModelChange","ngModel"],["for","peso"],["name","peso",1,"form-control",3,"ngModelChange","ngModel"],["for","temperatura"],["name","temperatura",1,"form-control",3,"ngModelChange","ngModel"],["for","presion"],["name","presion",1,"form-control",3,"ngModelChange","ngModel"],["class","row",4,"ngFor","ngForOf"],["class","btn btn-secondary","style","margin: 0 auto; float: none;",3,"click",4,"ngIf"],["name","temperatura","placeholder","Ej: caries",1,"form-control",3,"ngModelChange","ngModel"],["name","presion","placeholder","Ej: 4",1,"form-control",3,"ngModelChange","ngModel"],[1,"star-wrapper",2,"font-size","40px"],["rel","stylesheet","href",pT`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css`],[1,"fa","fa-star","s1",3,"click","ngClass"],[1,"fa","fa-star","s2",3,"click","ngClass"],[1,"fa","fa-star","s3",3,"click","ngClass"],[1,"fa","fa-star","s4",3,"click","ngClass"],[1,"fa","fa-star","s5",3,"click","ngClass"],["name","mail",1,"w-75","form-control",2,"margin","0 auto","float","none",3,"ngModelChange","ngModel"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0)(2,"div",1)(3,"div",2),pe(4,"br"),y(5,"h4",3),O(6,"Filtrar Turnos"),v(),y(7,"input",4),Qe("ngModelChange",function(o){return Ye(i.filtro,o)||(i.filtro=o),o}),v()(),y(8,"div",5)(9,"div",6),pe(10,"br")(11,"br"),y(12,"h4",7),O(13,"Turnos"),v(),y(14,"div",8),se(15,vJ,5,4,"button",9),Nl(16,"filtros"),se(17,yJ,4,0,"div",10),v()(),y(18,"div",11),pe(19,"br")(20,"br"),y(21,"h4",12),O(22,"Informaci\xF3n"),v(),y(23,"div",13)(24,"label",3),O(25,"Fecha"),v(),y(26,"input",14),Qe("ngModelChange",function(o){return Ye(i.fechaAux,o)||(i.fechaAux=o),o}),v()(),y(27,"div",5),se(28,wJ,4,2,"div",15)(29,xJ,4,2,"div",15),y(30,"div",16)(31,"label",17),O(32,"Especialidad"),v(),y(33,"input",18),Qe("ngModelChange",function(o){return Ye(i.especialidad,o)||(i.especialidad=o),o}),v()()(),se(34,SJ,8,3,"div",19),y(35,"div",13)(36,"label",3),O(37,"Estado"),v(),pe(38,"br"),y(39,"button",20),O(40),v()(),pe(41,"br")(42,"br")(43,"br"),se(44,DJ,6,4,"div",10)(45,LJ,7,5,"div",10)(46,BJ,3,1,"div",10),v()()()(),y(47,"div",21)(48,"div",22)(49,"div",23),se(50,UJ,15,2,"div",24)(51,jJ,15,2,"div",24)(52,WJ,11,2,"div",24)(53,qJ,43,10,"div",24)(54,GJ,22,17,"div",24)(55,KJ,22,4,"div",24),v()()()),r&2&&(S(7),Xe("ngModel",i.filtro),S(8),W("ngForOf",ST(16,21,i.turnos,i.filtro)),S(2),W("ngIf",i.turnos.length==0),S(9),Xe("ngModel",i.fechaAux),W("readonly",!0),S(2),W("ngIf",i.usuario.tipo=="paciente"),S(),W("ngIf",i.usuario.tipo=="especialista"),S(4),Xe("ngModel",i.especialidad),W("readonly",!0),S(),W("ngIf",i.estado=="finalizado"),S(5),W("ngClass",TT(24,lJ,i.estado=="pendiente",i.estado=="cancelado"||i.estado=="rechazado",i.estado=="aceptado",i.estado=="finalizado")),S(),Ke(i.estado),S(4),W("ngIf",i.usuario.tipo=="paciente"),S(),W("ngIf",i.usuario.tipo=="especialista"),S(),W("ngIf",i.usuario.tipo=="admin"),S(4),W("ngIf",i.popUpRazon=="cancelar"),S(),W("ngIf",i.popUpRazon=="rechazar"),S(),W("ngIf",i.popUpRazon=="rese\xF1a"),S(),W("ngIf",i.popUpRazon=="finalizado"),S(),W("ngIf",i.popUpRazon=="calificar"),S(),W("ngIf",i.popUpRazon=="encuesta"))},dependencies:[dr,_t,pa,Fr,ln,LT,Dt,li,ui,Dc,zi,LO],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);height:100vh}.card[_ngcontent-%COMP%]{background-color:#49a22b;padding:10px}.card-color[_ngcontent-%COMP%]{background-color:#49a22b}.star-wrapper[_ngcontent-%COMP%]{direction:rtl}.star-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;transition:all .5s;margin:4px}.star-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:gold;transform:scale(1.3);cursor:pointer}.s1[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{color:gold}.s2[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{color:gold}.s3[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{color:gold}.s4[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{color:gold}.s5[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{color:gold}.checked[_ngcontent-%COMP%]{color:gold}.calificadores[_ngcontent-%COMP%]{margin:10px}"]})}return n})();var o_=class{id;paciente;especialista;especialidad;dia;mes;anio;hora;estado;comentario;resenia;encuesta;calificacion;fecha;constructor(e,t,r,i,s,o,a,c,l,d,f,p){this.id=e,this.paciente=t,this.especialista=r,this.especialidad=i,this.dia=s,this.mes=o,this.anio=a,this.hora=c,this.estado=l,this.comentario=d,this.resenia="",this.encuesta=f,this.calificacion=p,this.fecha=""}};var BO=(n,e)=>({"btn-primary":n,"btn-secondary":e});function XJ(n,e){n&1&&(y(0,"h1"),O(1,"Solicitar Turno"),v())}function YJ(n,e){if(n&1){let t=Fe();y(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),ge("click",function(){let i=le(t).$implicit,s=G(2);return ue(s.elegirEspecialidad(i.especialidad))}),y(4,"p"),O(5),v()()()()()}if(n&2){let t=e.$implicit;S(5),on("Especialidad ",t.especialidad,"")}}function QJ(n,e){if(n&1&&(y(0,"div",8)(1,"div",9)(2,"h4"),O(3,"Especialidad"),v()(),se(4,YJ,6,1,"div",10),v()),n&2){let t=G();S(4),W("ngForOf",t.especialidades)}}function JJ(n,e){n&1&&(y(0,"p"),pe(1,"br"),O(2,"No se encuentran especialistas con esta especialidad "),pe(3,"br"),O(4,"Elija otra por favor"),v())}function ZJ(n,e){if(n&1){let t=Fe();y(0,"div",11)(1,"div",12)(2,"div",18)(3,"div",19),ge("click",function(){let i=le(t).$implicit,s=G(2);return ue(s.elegirEspecialista(i.nombre,i.apellido))}),O(4),pe(5,"img",20),v()()()()}if(n&2){let t=e.$implicit;S(4),on(" ",t.nombre+" "+t.apellido," "),S(),rv("src",t.img_1,da),rv("alt",t.apellido)}}function eZ(n,e){if(n&1){let t=Fe();y(0,"div",15)(1,"div",9)(2,"h4"),O(3,"Especialista"),v()(),y(4,"div",8)(5,"div",9),se(6,JJ,5,0,"p",4),v(),pe(7,"br")(8,"br"),se(9,ZJ,6,3,"div",10),v(),y(10,"div",16)(11,"button",17),ge("click",function(){le(t);let i=G();return ue(i.volver("especialidad"))}),O(12,"Volver"),v()()()}if(n&2){let t=G();S(6),W("ngIf",t.especialistasPorEspecialidad.length==0),S(3),W("ngForOf",t.especialistasPorEspecialidad)}}function tZ(n,e){if(n&1){let t=Fe();y(0,"div",29)(1,"button",30),ge("click",function(){let i=le(t).$implicit,s=G(2);return ue(s.elegirHorario(i))}),O(2),v()()}if(n&2){let t=e.$implicit;S(2),Ke(t)}}function nZ(n,e){if(n&1){let t=Fe();y(0,"div",21)(1,"div",22),pe(2,"br"),y(3,"div",23),O(4),y(5,"button",24),ge("click",function(){le(t);let i=G();return ue(i.sumarRestarDias("antes"))}),O(6,"<"),v(),y(7,"button",24),ge("click",function(){le(t);let i=G();return ue(i.sumarRestarDias("despues"))}),O(8,">"),v()(),pe(9,"br"),y(10,"div",25)(11,"h4",26),O(12,"Horarios disponibles"),v(),y(13,"div",8)(14,"h3"),O(15),v(),se(16,tZ,3,1,"div",27),v()(),y(17,"button",28),ge("click",function(){le(t);let i=G();return ue(i.volver("especialista"))}),O(18,"Volver"),v()()()}if(n&2){let t=G();S(4),cc(" ",t.diaString," ",t.dia," de ",t.mes," "),S(),W("ngClass",$d(7,BO,t.restarDia,!t.restarDia)),S(2),W("ngClass",$d(10,BO,t.sumarDia,!t.sumarDia)),S(8),Ke(t.noHayDatos),S(),W("ngForOf",t.horariosDisponiblesOtroFormato)}}function rZ(n,e){if(n&1){let t=Fe();y(0,"div",15)(1,"h1"),O(2,"Confirmar turno"),v(),pe(3,"br"),y(4,"p"),O(5,"Especialidad "),pe(6,"br"),O(7),v(),pe(8,"br"),y(9,"p"),O(10,"Especialista "),pe(11,"br"),O(12),v(),pe(13,"br"),y(14,"p"),O(15,"Horario "),pe(16,"br"),O(17),v(),y(18,"button",17),ge("click",function(){le(t);let i=G();return ue(i.confirmar())}),O(19,"Confirmar"),v(),pe(20,"br")(21,"br"),y(22,"div",23)(23,"button",28),ge("click",function(){le(t);let i=G();return ue(i.volver("horario"))}),O(24,"Volver"),v()()()}if(n&2){let t=G();S(7),on(" ",t.especialidadElegida,""),S(5),on(" ",t.especialistaElegidoStr,""),S(5),on(" ",t.diaElegido,"")}}function iZ(n,e){if(n&1){let t=Fe();y(0,"div",15)(1,"h1"),O(2,"Turno Solicitado"),v(),y(3,"p"),O(4,"Ir a mis turnos"),v(),pe(5,"br")(6,"br"),y(7,"button",17),ge("click",function(){le(t);let i=G();return ue(i.volver("irMisTurno"))}),O(8,"Mis Turnos"),v()()}}var UO=(()=>{class n{turnosData;horariosEspecialistaService;especialidadesService;firebaseData;router;hoy=new Date;now=new Date;dia=this.now.getDate().toString();mesNumero=this.now.getMonth();mes=this.mesNumeroToString(this.mesNumero-1);anio=this.now.getFullYear().toString();hora=this.now.getHours();diaString=this.diaSemanaString(this.now.getDay());restarDia=!1;sumarDia=!0;loading=!0;usuario;noHayDatos="";horarios=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"];horariosDisponibles=[];horariosDisponiblesOtroFormato=[];etapa="especialidad";turnos=[];especialidades;especialidadElegida;especialistas=[];especialistaElegido;especialistaElegidoStr="";diaElegido="";horarioElegido="";especialistasPorEspecialidad=[];horariosEspecialistas=[];constructor(t,r,i,s,o){this.turnosData=t,this.horariosEspecialistaService=r,this.especialidadesService=i,this.firebaseData=s,this.router=o}ngOnInit(){this.especialidadesService.getEspecialidades().subscribe(t=>{this.especialidades=t,this.ordernarListaEspecialidades(),this.firebaseData.getUsuariosPorTipo("especialista").subscribe(r=>{this.especialistas=r}),this.horariosEspecialistaService.getHorarioEspecialistas().subscribe(r=>{this.horariosEspecialistas=r,console.log(this.horariosEspecialistas)}),this.turnosData.getTurnosDB().subscribe(r=>{this.turnos=r}),setTimeout(()=>{this.loading=!1},2500),this.cargarUsuario()})}cargarUsuario(){return q(this,null,function*(){let t=sessionStorage.getItem("user");this.usuario=yield this.firebaseData.getUsuarioEmail(t),console.log("usuario",this.usuario)})}elegirEspecialidad(t){let r=-1;this.especialidadElegida=t,this.especialistas.forEach((i,s)=>{console.log(i),i.especialidad.forEach(o=>{o.especialidad==t&&(r=s,this.especialistasPorEspecialidad.push(i))})}),this.volver("especialista")}elegirHorario(t){this.horarioElegido=this.volverCambiarFormato(t),this.diaElegido=this.horarioElegido+" Hrs. "+this.diaString+" "+this.dia+" de "+this.mes,this.volver("confirmar")}confirmar(){this.turnosData.cargarTurnosBD(new o_("",this.usuario.email,this.especialistaElegido.email,this.especialidadElegida,this.dia,this.mes,this.anio,this.horarioElegido,"pendiente","","","")),this.volver("fin")}elegirEspecialista(t,r){let i=-1;this.especialistas.forEach((s,o)=>{s.nombre==t&&s.apellido==r&&(i=o,this.especialidades=s.especialidad)}),this.especialistaElegido=this.especialistas[i],this.especialistaElegidoStr=this.especialistaElegido.nombre+" "+this.especialistaElegido.apellido,this.cambiarHorariosPorEspecialista(),this.volver("horario")}cambiarHorariosPorEspecialista(){let t=0,r=0;this.diaString=="Sabado"?r=12:r=this.horarios.length,this.horariosEspecialistas.forEach(s=>{s.email==this.especialistaElegido.email&&this.horarios.forEach((o,a)=>{switch(console.log(s.especialidadesPorDia[0]),console.log(this.especialidadElegida),this.diaString){case"Lunes":o==s.lunInicio&&this.especialidadElegida==s.especialidadesPorDia[0]&&(t=a),o==s.lunFin&&this.especialidadElegida==s.especialidadesPorDia[0]&&(r=a),(s.estados[0]=="Inhabilitado"||this.especialidadElegida!=s.especialidadesPorDia[0])&&(t=0,r=0);break;case"Martes":o==s.marInicio&&this.especialidadElegida==s.especialidadesPorDia[1]&&(t=a),o==s.marFin&&this.especialidadElegida==s.especialidadesPorDia[1]&&(r=a),(s.estados[1]=="Inhabilitado"||this.especialidadElegida!=s.especialidadesPorDia[1])&&(t=0,r=0);break;case"Miercoles":o==s.mierInicio&&this.especialidadElegida==s.especialidadesPorDia[2]&&(t=a),o==s.mierFin&&this.especialidadElegida==s.especialidadesPorDia[2]&&(r=a),(s.estados[2]=="Inhabilitado"||this.especialidadElegida!=s.especialidadesPorDia[2])&&(t=0,r=0);break;case"Jueves":o==s.jueInicio&&this.especialidadElegida==s.especialidadesPorDia[3]&&(t=a),o==s.jueFin&&this.especialidadElegida==s.especialidadesPorDia[3]&&(r=a),(s.estados[3]=="Inhabilitado"||this.especialidadElegida!=s.especialidadesPorDia[3])&&(t=0,r=0);break;case"Viernes":o==s.vierInicio&&this.especialidadElegida==s.especialidadesPorDia[4]&&(t=a),o==s.vierFin&&this.especialidadElegida==s.especialidadesPorDia[4]&&(r=a),(s.estados[4]=="Inhabilitado"||this.especialidadElegida!=s.especialidadesPorDia[4])&&(t=0,r=0);break;case"Sabado":o==s.sabInicio&&this.especialidadElegida==s.especialidadesPorDia[5]&&(t=a),o==s.sabFin&&this.especialidadElegida==s.especialidadesPorDia[5]&&(r=a),(s.estados[5]=="Inhabilitado"||this.especialidadElegida==s.especialidadesPorDia[5])&&(t=0,r=0);break}})});let i=[...this.horarios];this.horariosDisponibles=i.splice(t,r-t),console.log(this.horariosDisponibles),console.log(this.horarios),this.horariosDisponibles.length===0?this.noHayDatos="No hay turnos disponibles para el d\xEDa seleccionado":this.noHayDatos="",this.sacarHorariosNoDisponibles(),this.cambiarFormato()}volverCambiarFormato(t){let r=t.split(" "),i=r[1].split(":"),s=Number(i[0]);return r[2]=="PM"&&(s+=12),s+":"+i[1]}cambiarFormato(){this.horariosDisponiblesOtroFormato=[],this.mesNumero+=1,this.horariosDisponibles.forEach(t=>{this.horariosDisponiblesOtroFormato.push(this.anio+"-"+this.mesNumero+"-"+this.dia+" "+this.cambiarHoraAmPm(t))})}cambiarHoraAmPm(t){let r=t.split(":"),i=r[0],s=r[1];return Number(r[0])>12?(i=String(Number(r[0])-12),i+":"+s+" PM"):i+":"+s+" AM"}sacarHorariosNoDisponibles(){let t=[],r=[...this.horariosDisponibles];this.turnos.forEach(i=>{this.horariosDisponibles.forEach((s,o)=>{i.especialista==this.especialistaElegido.email&&i.dia==this.dia&&i.hora==s&&t.push(o)})}),t.forEach(i=>{r.splice(i,1),this.horariosDisponibles=r})}volver(t){t=="home"?this.router.navigateByUrl(""):t=="especialidad"?this.etapa="especialidad":t=="especialista"?this.etapa="especialista":t=="horario"?this.etapa="horario":t=="confirmar"?this.etapa="confirmar":t=="fin"?this.etapa="fin":this.router.navigateByUrl("/login/mis-turnos")}ordernarListaEspecialidades(){this.especialidades.sort((t,r)=>t<r?-1:1)}cambiarDia(t){console.log("La funci\xF3n cambiarDia se est\xE1 ejecutando.");let r=!1;this.now=new Date,t=="antes"?this.limitarFecha("restar")&&(r=!0,this.now.setDate(this.now.getDate()-1),this.now.getDay()==0&&this.now.setDate(this.now.getDate()-1)):this.limitarFecha("sumar")&&(r=!0,this.now.setDate(this.now.getDate()+1),this.now.getDay()==0&&this.now.setDate(this.now.getDate()+1)),r&&(this.dia=this.now.getDate().toString(),this.mesNumero=this.now.getMonth(),this.mes=this.mesNumeroToString(this.mesNumero),this.diaString=this.diaSemanaString(this.now.getDay()),this.anio=this.now.getFullYear().toString(),console.log(this.dia),this.getHorariosDisponibles(),this.cambiarHorariosPorEspecialista())}limitarFecha(t){let r=this.hoy.getDate();return this.hoy.getDate()+15>30&&(r=this.hoy.getDate()-15),t=="restar"&&this.hoy.getDate()==this.now.getDate()?(this.restarDia=!1,this.sumarDia=!0,!1):t=="sumar"&&r==this.now.getDate()?(this.restarDia=!0,this.sumarDia=!1,!1):(this.restarDia=!0,this.sumarDia=!0,!0)}getHorariosDisponibles(){this.diaString=="Sabado"?this.horariosDisponibles=this.horarios.slice(0,12):this.horariosDisponibles=this.horarios}diaSemanaString(t){let r="";switch(t){case 1:r="Lunes";break;case 2:r="Martes";break;case 3:r="Miercoles";break;case 4:r="Jueves";break;case 5:r="Viernes";break;case 6:r="Sabado";break;case 0:r="Domingo";break}return r}mesNumeroToString(t){t++;let r="";switch(t){case 1:r="Enero";break;case 2:r="Febrero";break;case 3:r="Marzo";break;case 4:r="Abril";break;case 5:r="Mayo";break;case 6:r="Junio";break;case 7:r="Julio";break;case 8:r="Agosto";break;case 9:r="Septiembre";break;case 10:r="Octubre";break;case 11:r="Noviembre";break;case 12:r="Diciembre";break}return r}sumarRestarDias(t){let i=1*(t==="antes"?-1:1),s=new Date(this.now);s.setDate(this.now.getDate()+i);let o=new Date,a=new Date(o);a.setDate(o.getDate()+15),s.getDay()===0&&(t==="antes"?s.setDate(s.getDate()-1):s.setDate(s.getDate()+1)),t==="despues"&&s<=a||t==="antes"&&s>=o?(this.now=s,this.dia=this.now.getDate().toString(),this.mesNumero=this.now.getMonth(),this.mes=this.mesNumeroToString(this.mesNumero),this.anio=this.now.getFullYear().toString(),this.hora=this.now.getHours(),this.diaString=this.diaSemanaString(this.now.getDay()),this.getHorariosDisponibles(),this.cambiarHorariosPorEspecialista()):console.error("No se puede avanzar m\xE1s all\xE1 de los 15 d\xEDas posteriores a la fecha actual o retroceder desde la fecha actual.")}imgEspecialidad(t){let r;switch(t){case"Traumat\xF3logo":r="../../../assets/especialistas/Traumat\xF3logo.png";break;case"Cirujano":r="../../../assets/especialistas/Cirujano.png";break;case"Neum\xF3logo":r="../../../assets/especialistas/Infectologo.png";break;case"Dentista":r="../../../assets/especialistas/Dentista.png";break;case"Cardiologo":r="../../../assets/especialistas/Cardiologo.png";break;case"Pediatra":r="../../../assets/especialistas/Pediatra.png";break;case"Ginecolo":r="../../../assets/especialistas/Ginecologa.png";break;default:r="../../../assets/especialistas/Generico.png";break}return r}static \u0275fac=function(r){return new(r||n)(de(ro),de(Wu),de(ju),de(fr),de(Cr))};static \u0275cmp=tt({type:n,selectors:[["app-crear-turno"]],standalone:!0,features:[nt],decls:12,vars:6,consts:[[1,"fondo"],[1,"h-100",2,"text-align","center"],[1,"container-fluid","contenedor","p-4","mt-5"],[1,"card"],[4,"ngIf"],["class","row",4,"ngIf"],["class","form-floating mb-3",4,"ngIf"],["class","modal-content rounded-4 shadow","style","text-align: center; max-width: 1250px; max-height: 600px; margin: 0 auto;",4,"ngIf"],[1,"row"],[1,"col-12"],["class","col-md-3 mb-3",4,"ngFor","ngForOf"],[1,"col-md-3","mb-3"],[1,"container"],[1,"overlay","imagenBoton"],[1,"btn","btn-primary","especialidad-btn",3,"click"],[1,"form-floating","mb-3"],[1,"col-12",2,"text-align","right"],[1,"btn","btn-success",3,"click"],[1,"overlay","btn-especialista"],[1,"btn","btn-primary","btn-especialista",3,"click"],["height","100px","width","100px",1,"imagen-especialista",3,"src","alt"],[1,"modal-content","rounded-4","shadow",2,"text-align","center","max-width","1250px","max-height","600px","margin","0 auto"],[1,"modal-body","p-5","pt-0"],[2,"text-align","right"],[1,"btn",3,"click","ngClass"],[1,"table"],[2,"text-align","center"],["class","col-6 col-md-2",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"col-6","col-md-2"],["type","button",1,"btn","btn-success","horarios",3,"click"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),se(5,XJ,2,0,"h1",4),pe(6,"br"),se(7,QJ,5,1,"div",5)(8,eZ,13,2,"div",6)(9,nZ,19,13,"div",7)(10,rZ,25,3,"div",6)(11,iZ,9,0,"div",6),v()()()()),r&2&&(S(5),W("ngIf",i.etapa!="confirmar"&&i.etapa!="fin"),S(2),W("ngIf",i.etapa=="especialidad"),S(),W("ngIf",i.etapa=="especialista"),S(),W("ngIf",i.etapa=="horario"),S(),W("ngIf",i.etapa=="confirmar"),S(),W("ngIf",i.etapa=="fin"))},dependencies:[dr,zi,Dt,_t,pa,Fr,ln],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);height:100vh}.card[_ngcontent-%COMP%]{background-color:#49a22b}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;text-align:center}.btn[_ngcontent-%COMP%]{margin:20px;width:150px}.rounded-4[_ngcontent-%COMP%]{background-color:#004373;color:#fff}.horarios[_ngcontent-%COMP%]{width:190px;height:50px;margin:2px}.especialidad-btn[_ngcontent-%COMP%]{width:250px;display:flex;justify-content:center;align-items:center}.img-especialidad[_ngcontent-%COMP%], .imagen-especialista[_ngcontent-%COMP%]{height:80px}.btn-especialista[_ngcontent-%COMP%]{width:250px;display:flex;flex-direction:column;justify-content:center;align-items:center}"]})}return n})();function sZ(n,e){if(n&1){let t=Fe();y(0,"tr")(1,"td"),O(2),v(),y(3,"td"),O(4),v(),y(5,"td"),O(6),v(),y(7,"td"),O(8),v(),y(9,"td"),O(10),v(),y(11,"td")(12,"button",9),ge("click",function(){let i=le(t).$implicit,s=G();return ue(s.seleccionarPaciente(i.email))}),O(13,"Historia Clinica"),v()()()}if(n&2){let t=e.$implicit;S(2),Ke(t.nombre),S(2),Ke(t.apellido),S(2),Ke(t.edad),S(2),Ke(t.email),S(2),Ke(t.obraSocial)}}var jO=(()=>{class n{firebaseService;turnosService;usuarios=[];historias=[];mail=sessionStorage.getItem("user");listaPacientesEsp=[];pacienteSeleccionado=new bt;constructor(t,r){this.firebaseService=t,this.turnosService=r}traer(){this.firebaseService.getUsuariosPorTipo("paciente").subscribe(t=>{this.usuarios=t,this.turnosService.getHistoriaDB().subscribe(r=>{this.historias=r,this.traerPacientesEsp()})})}ngOnInit(){this.traer()}traerPacientesEsp(){this.usuarios.forEach(t=>{this.historias.filter(i=>i.paciente===t.email).forEach(i=>{i.especialista==this.mail&&this.listaPacientesEsp.push(t)})}),console.log("aca",this.listaPacientesEsp)}seleccionarPaciente(t){this.pacienteSeleccionado.emit(t)}static \u0275fac=function(r){return new(r||n)(de(fr),de(ro))};static \u0275cmp=tt({type:n,selectors:[["app-tabla-pacientes"]],outputs:{pacienteSeleccionado:"pacienteSeleccionado"},standalone:!0,features:[nt],decls:25,vars:1,consts:[["id","tabs",1,"project-tab"],[1,"container"],[1,"row"],[1,"col-md-12"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[2,"text-align","center"],["cellspacing","0",1,"table",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"]],template:function(r,i){r&1&&(y(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),O(7,"Mis Pacientes"),v(),y(8,"table",7)(9,"thead")(10,"tr")(11,"th"),O(12,"Nombre"),v(),y(13,"th"),O(14,"Apellido"),v(),y(15,"th"),O(16,"Edad"),v(),y(17,"th"),O(18,"Correo"),v(),y(19,"th"),O(20,"Obra Social"),v(),y(21,"th"),O(22,"Historia Clinica"),v()()(),y(23,"tbody",6),se(24,sZ,14,5,"tr",8),v()()()()()()()()),r&2&&(S(24),W("ngForOf",i.listaPacientesEsp))},dependencies:[_t,Fr,Dt],styles:[".project-tab[_ngcontent-%COMP%]{padding:8%}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]{background:#007b5e;color:#eee}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]   h6.section-title[_ngcontent-%COMP%]{color:#eee}.project-tab[_ngcontent-%COMP%]   #tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#3cff00;background-color:transparent;border-color:transparent transparent #ffe600;border-bottom:3px solid!important;font-size:16px;font-weight:700}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#ffe600;border-color:transparent transparent #ffe600;border-bottom:3px solid!important;font-size:16px;font-weight:600}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none;color:#3cff00}.project-tab[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{border:none;color:#3cff00}.project-tab[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#d9d9d9;color:#ab0000}.project-tab[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-decoration:none;color:#020822;font-weight:900;background-color:#a2e5be}form[_ngcontent-%COMP%]{width:320px;margin:20px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:30%;border:2px solid gray;position:relative;top:0;left:0;z-index:1;padding:8px 12px;outline:0}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:valid{background:#fff}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#357ebd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{background:#357ebd;color:#fff;font-size:70%;padding:1px 6px;z-index:2;text-transform:uppercase}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;resize:vertical}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px}form.go-bottom[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:0;bottom:0;left:0;width:60%}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{padding:4px 6px 20px}form.go-bottom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], form.go-bottom[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{top:100%;margin-top:-16px}label[_ngcontent-%COMP%]{text-decoration:none;color:#020822;font-weight:900;background-color:#a2e5be}"]})}return n})();function oZ(n,e){if(n&1){let t=Fe();y(0,"div")(1,"app-tabla-pacientes",2),ge("pacienteSeleccionado",function(i){le(t);let s=G();return ue(s.recibirPacienteSeleccionado(i))}),v()()}}function aZ(n,e){if(n&1&&(y(0,"div"),pe(1,"app-historia-clinica",3),v()),n&2){let t=G();S(),W("emailPaciente",t.emailSeleccionado)}}var WO=(()=>{class n{emailSeleccionado;recibirPacienteSeleccionado(t){this.emailSeleccionado=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-mis-pacientes"]],standalone:!0,features:[nt],decls:4,vars:2,consts:[[1,"fondo"],[4,"ngIf"],[3,"pacienteSeleccionado"],[3,"emailPaciente"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0),se(2,oZ,2,0,"div",1)(3,aZ,2,1,"div",1),v()),r&2&&(S(2),W("ngIf",!i.emailSeleccionado),S(),W("ngIf",i.emailSeleccionado))},dependencies:[dr,jO,Dt,_t,ln,cd],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);height:100vh}.volver-btn[_ngcontent-%COMP%]{position:absolute;top:110px;right:10%;background-color:#f44336;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:16px;cursor:pointer}"]})}return n})();var zO=(()=>{class n{transform(t){return new Date(t*1e3).toLocaleString()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Rl({name:"formatoFecha",type:n,pure:!0,standalone:!0})}return n})();function cZ(n,e){if(n&1&&(y(0,"tr")(1,"td"),O(2),v(),y(3,"td"),O(4),Nl(5,"formatoFecha"),v()()),n&2){let t=e.$implicit;S(2),Ke(t.email),S(2),Ke(Qp(5,2,t.fecha.seconds))}}var HO=(()=>{class n{logService;excelExportService;logs=[];constructor(t,r){this.logService=t,this.excelExportService=r}ngOnInit(){this.logService.getLogData().subscribe(t=>{this.logs=t})}exportToExcel(){this.excelExportService.exportAsExcelFile(this.logs,"login")}static \u0275fac=function(r){return new(r||n)(de(fr),de(i_))};static \u0275cmp=tt({type:n,selectors:[["app-log-ingresos"]],standalone:!0,features:[nt],decls:22,vars:1,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col","text-center"],[1,"btn","btn-primary","mx-2"],[1,"btn","btn-success","mx-2",3,"click"],[1,"row"],[1,"col","d-flex","justify-content-center"],[1,"table-container"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),O(4,"Informe de Ingresos"),v(),y(5,"button",3),O(6,"Generar PDF"),v(),y(7,"button",4),ge("click",function(){return i.exportToExcel()}),O(8,"Generar Excel"),v()()(),y(9,"div",5)(10,"div",5)(11,"div",6)(12,"div",7)(13,"table",8)(14,"thead",9)(15,"tr")(16,"th",10),O(17,"Email"),v(),y(18,"th",10),O(19,"Fecha"),v()()(),y(20,"tbody"),se(21,cZ,6,4,"tr",11),v()()()()()()()),r&2&&(S(21),W("ngForOf",i.logs))},dependencies:[_t,Fr,Dt,zO]})}return n})();function lZ(n,e){n&1&&(y(0,"div",4),pe(1,"app-log-ingresos"),v())}var $O=(()=>{class n{showTableLog=!1;constructor(){}toggleTable(){this.showTableLog=!this.showTableLog}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-estadisticas"]],standalone:!0,features:[nt],decls:8,vars:2,consts:[[1,"fondo"],[1,"col-3","text-left"],[1,"btn","btn-info","mx-2",3,"click"],["class","col-9",4,"ngIf"],[1,"col-9"]],template:function(r,i){r&1&&(pe(0,"app-cabecera"),y(1,"div",0)(2,"h2"),O(3,"Estadisticas"),v(),y(4,"div",1)(5,"button",2),ge("click",function(){return i.toggleTable()}),O(6),v()(),se(7,lZ,2,0,"div",3),v()),r&2&&(S(6),on(" ",i.showTableLog?"Ocultar":"Mostrar"," Tabla de Logueos "),S(),W("ngIf",i.showTableLog))},dependencies:[dr,HO,_t,ln,Dt],styles:[".fondo[_ngcontent-%COMP%]{background:url(/assets/imagenes/slider-bg-2.jpg);height:100vh}.btn[_ngcontent-%COMP%]{margin-top:40px}.text-center[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.text-left[_ngcontent-%COMP%]{display:flex;align-items:center}.col-3[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start}"]})}return n})();var qO=[{path:"",component:x1},{path:"bienvenido",component:x1},{path:"login",component:jk},{path:"registro",component:mD},{path:"usuarios",component:FO},{path:"perfil",component:NO},{path:"turnos",component:VO},{path:"crearTurno",component:UO},{path:"historial",component:cd},{path:"pacientes",component:WO},{path:"estadisticas",component:$O},{path:"**",component:gD}];var GO="@firebase/database",KO="1.0.6";var pC="";function uZ(n){pC=n}var CE=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ur(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ql(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var TE=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var SM=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new CE(e)}}catch{}return new TE},ml=SM("localStorage"),SE=SM("sessionStorage");var hd=new Ns("@firebase/database"),dZ=function(){let n=1;return function(){return n++}}(),IM=function(n){let e=YS(n),t=new bm;t.update(e);let r=t.digest();return Em.encodeByteArray(r)},op=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=op.apply(null,r):typeof r=="object"?e+=ur(r):e+=r,e+=" "}return e},gl=null,XO=!0,hZ=function(n,e){Me(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(hd.logLevel=Et.VERBOSE,gl=hd.log.bind(hd),e&&SE.set("logging_enabled",!0)):typeof n=="function"?gl=n:(gl=null,SE.remove("logging_enabled"))},Wr=function(...n){if(XO===!0&&(XO=!1,gl===null&&SE.get("logging_enabled")===!0&&hZ(!0)),gl){let e=op.apply(null,n);gl(e)}},ap=function(n){return function(...e){Wr(n,...e)}},IE=function(...n){let e="FIREBASE INTERNAL ERROR: "+op(...n);hd.error(e)},Qo=function(...n){let e=`FIREBASE FATAL ERROR: ${op(...n)}`;throw hd.error(e),new Error(e)},Ri=function(...n){let e="FIREBASE WARNING: "+op(...n);hd.warn(e)},fZ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},AM=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pZ=function(n){if(Ms()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},pd="[MIN_NAME]",_l="[MAX_NAME]",xd=function(n,e){if(n===e)return 0;if(n===pd||e===_l)return-1;if(e===pd||n===_l)return 1;{let t=YO(n),r=YO(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},mZ=function(n,e){return n===e?0:n<e?-1:1},Kf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+ur(e))},mC=function(n){if(typeof n!="object"||n===null)return ur(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=ur(e[r]),t+=":",t+=mC(n[e[r]]);return t+="}",t},kM=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Ji(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var RM=function(n){Me(!AM(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,s,o,a,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));let l=[];for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let d=l.join(""),f="";for(c=0;c<64;c+=8){let p=parseInt(d.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},gZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_Z=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var vZ=new RegExp("^-?(0*)\\d{1,10}$"),yZ=-2147483648,wZ=2147483647,YO=function(n){if(vZ.test(n)){let e=Number(n);if(e>=yZ&&e<=wZ)return e}return null},cp=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Ri("Exception was thrown by user callback.",t),e},Math.floor(0))}},xZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zf=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var AE=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var kE=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}},ep=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),c_="5",DM="v",PM="s",OM="r",MM="f",FM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NM="ls",LM="p",RE="ac",VM="websocket",BM="long_polling";var l_=class{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ml.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ml.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function bZ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function UM(n,e,t){Me(typeof e=="string","typeof type must == string"),Me(typeof t=="object","typeof params must == object");let r;if(e===VM)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===BM)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bZ(n)&&(t.ns=n.namespace);let i=[];return Ji(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var DE=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return BS(this.counters_)}};var _E={},vE={};function gC(n){let e=n.toString();return _E[e]||(_E[e]=new DE),_E[e]}function EZ(n,e){let t=n.toString();return vE[t]||(vE[t]=e()),vE[t]}var PE=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var QO="start",CZ="close",TZ="pLPCommand",SZ="pRTLPCB",jM="id",WM="pw",zM="ser",IZ="cb",AZ="seg",kZ="ts",RZ="d",DZ="dframe",HM=1870,$M=30,PZ=HM-$M,OZ=25e3,MZ=3e4,OE=class n{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ap(e),this.stats_=gC(t),this.urlFn=c=>(this.appCheckToken&&(c[RE]=this.appCheckToken),UM(t,BM,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new PE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MZ)),pZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ME((...s)=>{let[o,a,c,l,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===QO)this.id=a,this.password=c;else if(o===CZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[QO]="t",r[zM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[IZ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[DM]=c_,this.transportSessionId&&(r[PM]=this.transportSessionId),this.lastSessionId&&(r[NM]=this.lastSessionId),this.applicationId&&(r[LM]=this.applicationId),this.appCheckToken&&(r[RE]=this.appCheckToken),typeof location<"u"&&location.hostname&&FM.test(location.hostname)&&(r[OM]=MM);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Ms()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gZ()&&!_Z()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=ur(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=iy(t),i=kM(r,PZ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ms())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[DZ]="t",r[jM]=e,r[WM]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=ur(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},ME=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ms())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=dZ(),window[TZ+this.uniqueCallbackIdentifier]=e,window[SZ+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Wr("frame writing exception"),a.stack&&Wr(a.stack),Wr(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Wr("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[jM]=this.myID,e[WM]=this.myPW,e[zM]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$M+r.length<=HM;){let o=this.pendingSegs.shift();r=r+"&"+AZ+i+"="+o.seg+"&"+kZ+i+"="+o.ts+"&"+RZ+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(OZ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){Ms()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var FZ=16384,NZ=45e3,u_=null;typeof MozWebSocket<"u"?u_=MozWebSocket:typeof WebSocket<"u"&&(u_=WebSocket);var Xf=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ap(this.connId),this.stats_=gC(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){let a={};return a[DM]=c_,!Ms()&&typeof location<"u"&&location.hostname&&FM.test(location.hostname)&&(a[OM]=MM),r&&(a[PM]=r),i&&(a[NM]=i),s&&(a[RE]=s),o&&(a[LM]=o),UM(t,VM,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ml.set("previous_websocket_failure",!0);try{let i;if(Ms()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${c_}/${pC}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new u_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&u_!==null&&!n.forceDisallow_}static previouslyFailed(){return ml.isInMemoryStorage||ml.get("previous_websocket_failure")===!0}markConnectionHealthy(){ml.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ql(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Me(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=ur(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=kM(r,FZ);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(NZ))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),LZ=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[OE,Xf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let r=Xf&&Xf.isAvailable(),i=r&&!Xf.previouslyFailed();if(t.webSocketOnly&&(r||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xf];else{let s=this.transports_=[];for(let o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),VZ=6e4,BZ=5e3,UZ=10*1024,jZ=100*1024,yE="t",JO="d",WZ="s",ZO="r",zZ="e",eM="o",tM="a",nM="n",rM="p",HZ="h",FE=class{constructor(e,t,r,i,s,o,a,c,l,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ap("c:"+this.id+":"),this.transportManager_=new LZ(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(yE in e){let t=e[yE];t===tM?this.upgradeIfSecondaryHealthy_():t===ZO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===eM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Kf("t",e),r=Kf("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rM,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Kf("t",e),r=Kf("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Kf(yE,e);if(JO in e){let r=e[JO];if(t===HZ){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===nM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===WZ?this.onConnectionShutdown_(r):t===ZO?this.onReset_(r):t===zZ?IE("Server Error: "+r):t===eM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IE("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),c_!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Zf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rM,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ml.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var d_=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var h_=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Me(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Me(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var f_=class n extends h_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return Me(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var iM=32,sM=768,cn=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function sn(){return new cn("")}function Ot(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qa(n){return n.pieces_.length-n.pieceNum_}function mn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new cn(n.pieces_,e)}function qM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function $Z(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function GM(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function KM(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new cn(e,0)}function vr(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof cn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new cn(t,0)}function At(n){return n.pieceNum_>=n.pieces_.length}function Yi(n,e){let t=Ot(n),r=Ot(e);if(t===null)return e;if(t===r)return Yi(mn(n),mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function XM(n,e){if(qa(n)!==qa(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function bs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(qa(n)>qa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var NE=class{constructor(e,t){this.errorPrefix_=t,this.parts_=GM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Eh(this.parts_[r]);YM(this)}};function qZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Eh(e),YM(n)}function GZ(n){let e=n.parts_.pop();n.byteLength_-=Eh(e),n.parts_.length>0&&(n.byteLength_-=1)}function YM(n){if(n.byteLength_>sM)throw new Error(n.errorPrefix_+"has a key path longer than "+sM+" bytes ("+n.byteLength_+").");if(n.parts_.length>iM)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+iM+") or object contains a cycle "+pl(n))}function pl(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var LE=class n extends h_{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new n}getInitialEvent(e){return Me(e==="visible","Unknown event type: "+e),[this.visible_]}};var Yf=1e3,KZ=60*5*1e3,oM=30*1e3,XZ=1.3,YZ=3e4,QZ="server_kill",aM=3,_C=(()=>{class n extends d_{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=ap("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yf,this.maxReconnectDelay_=KZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ms())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");LE.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&f_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(ur(o)),Me(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();let r=new gc,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();let o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Me(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Me(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,d=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(d,l))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Fs(t,"w")){let i=vc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||GS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oM)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=qS(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Me(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);let o={p:t},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ur(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):IE("Unrecognized action received from server: "+ur(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Me(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Yf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YZ&&(this.reconnectDelay_=Yf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XZ)}this.onConnectStatus_(!1)}establishConnection_(){return q(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},d=function(p){Me(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:l,sendRequest:d};let f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[p,_]=yield Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Wr("getToken() completed but was canceled"):(Wr("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=_&&_.token,c=new FE(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,C=>{Ri(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(QZ)},o))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Ri(p),l())}}})}interrupt(t){Wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xh(this.interruptReasons_)&&(this.reconnectDelay_=Yf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(o=>mC(o)).join("$"):i="default";let s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){let i=new cn(t).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Wr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=aM&&(this.reconnectDelay_=oM,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Wr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=aM&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";Ms()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+pC.replace(/\./g,"-")]=1,wh()?t["framework.cordova"]=1:Tm()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=f_.getInstance().currentlyOnline();return xh(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Mt=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var md=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new Mt(pd,e),i=new Mt(pd,t);return this.compare(r,i)!==0}minPost(){return Mt.MIN}};var a_,p_=class extends md{static get __EMPTY_NODE(){return a_}static set __EMPTY_NODE(e){a_=e}compare(e,t){return xd(e.name,t.name)}isDefinedOn(e){throw _c("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(_l,a_)}makePost(e,t){return Me(typeof e=="string","KeyIndex indexValue must always be a string."),new Mt(e,a_)}toString(){return".key"}},fd=new p_;var ud=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xs=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Qi.EMPTY_NODE,this.right=o??Qi.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return Qi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),VE=class{copy(e,t,r,i,s){return this}insert(e,t,r){return new xs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Qi=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xs.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xs.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ud(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ud(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ud(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ud(this.root_,null,this.comparator_,!0,e)}};Qi.EMPTY_NODE=new VE;function JZ(n,e){return xd(n.name,e.name)}function vC(n,e){return xd(n,e)}var BE;function ZZ(n){BE=n}var QM=function(n){return typeof n=="number"?"number:"+RM(n):"string:"+n},JM=function(n){if(n.isLeafNode()){let e=n.val();Me(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fs(e,".sv"),"Priority must be a string or number.")}else Me(n===BE||n.isEmpty(),"priority of unexpected type.");Me(n===BE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var cM,gd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Me(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JM(this.priorityNode_)}static set __childrenNodeConstructor(t){cM=t}static get __childrenNodeConstructor(){return cM}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return At(t)?this:Ot(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=Ot(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(Me(i!==".priority"||qa(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(mn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+QM(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=RM(this.value_):t+=this.value_,this.lazyHash_=IM(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Me(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return Me(s>=0,"Unknown leaf type: "+r),Me(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),ZM,eF;function eee(n){ZM=n}function tee(n){eF=n}var UE=class extends md{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?xd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(_l,new gd("[PRIORITY-POST]",eF))}makePost(e,t){let r=ZM(e);return new Mt(t,new gd("[PRIORITY-POST]",r))}toString(){return".priority"}},Hr=new UE;var nee=Math.log(2),jE=class{constructor(e){let t=s=>parseInt(Math.log(s)/nee,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},m_=function(n,e,t,r){n.sort(e);let i=function(c,l){let d=l-c,f,p;if(d===0)return null;if(d===1)return f=n[c],p=t?t(f):f,new xs(p,f.node,xs.BLACK,null,null);{let _=parseInt(d/2,10)+c,C=i(c,_),w=i(_+1,l);return f=n[_],p=t?t(f):f,new xs(p,f.node,xs.BLACK,C,w)}},s=function(c){let l=null,d=null,f=n.length,p=function(C,w){let T=f-C,K=f;f-=C;let X=i(T+1,K),Y=n[T],ee=t?t(Y):Y;_(new xs(ee,Y.node,w,null,X))},_=function(C){l?(l.left=C,l=C):(d=C,l=C)};for(let C=0;C<c.count;++C){let w=c.nextBitIsOne(),T=Math.pow(2,c.count-(C+1));w?p(T,xs.BLACK):(p(T,xs.BLACK),p(T,xs.RED))}return d},o=new jE(n.length),a=s(o);return new Qi(r||e,a)};var wE,ld={},_d=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Me(ld&&Hr,"ChildrenNode.ts has not been loaded"),wE=wE||new n({".priority":ld},{".priority":Hr}),wE}get(e){let t=vc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qi?t:null}hasIndex(e){return Fs(this.indexSet_,e.toString())}addIndex(e,t){Me(e!==fd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(Mt.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=m_(r,e.getCompare()):a=ld;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let d=Object.assign({},this.indexes_);return d[c]=a,new n(d,l)}addToIndexes(e,t){let r=bh(this.indexes_,(i,s)=>{let o=vc(this.indexSet_,s);if(Me(o,"Missing index implementation for "+s),i===ld)if(o.isDefinedOn(e.node)){let a=[],c=t.getIterator(Mt.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),m_(a,o.getCompare())}else return ld;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new Mt(e.name,a))),c.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=bh(this.indexes_,i=>{if(i===ld)return i;{let s=t.get(e.name);return s?i.remove(new Mt(e.name,s)):i}});return new n(r,this.indexSet_)}};var Qf,In=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&JM(this.priorityNode_),this.children_.isEmpty()&&Me(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qf||(Qf=new n(new Qi(vC),null,_d.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Qf:r}}getChild(t){let r=Ot(t);return r===null?this:this.getImmediateChild(r).getChild(mn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(Me(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new Mt(t,r),s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Qf:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){let i=Ot(t);if(i===null)return r;{Me(Ot(t)!==".priority"||qa(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(mn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Hr,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+QM(this.getPriority().val())+":"),this.forEachChild(Hr,(r,i)=>{let s=i.hash();s!==""&&(t+=":"+r+":"+s)}),this.lazyHash_=t===""?"":IM(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Mt(t,r));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new Mt(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new Mt(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,Mt.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===lp?-1:0}withIndex(t){if(t===fd||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===fd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Hr),s=r.getIterator(Hr),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===fd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),WE=class extends In{constructor(){super(new Qi(vC),In.EMPTY_NODE,_d.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return In.EMPTY_NODE}isEmpty(){return!1}},lp=new WE;Object.defineProperties(Mt,{MIN:{value:new Mt(pd,In.EMPTY_NODE)},MAX:{value:new Mt(_l,lp)}});p_.__EMPTY_NODE=In.EMPTY_NODE;gd.__childrenNodeConstructor=In;ZZ(lp);tee(lp);var ree=!0;function zr(n,e=null){if(n===null)return In.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Me(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new gd(t,zr(e))}if(!(n instanceof Array)&&ree){let t=[],r=!1;if(Ji(n,(o,a)=>{if(o.substring(0,1)!=="."){let c=zr(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new Mt(o,c)))}}),t.length===0)return In.EMPTY_NODE;let s=m_(t,JZ,o=>o.name,vC);if(r){let o=m_(t,Hr.getCompare());return new In(s,zr(e),new _d({".priority":o},{".priority":Hr}))}else return new In(s,zr(e),_d.Default)}else{let t=In.EMPTY_NODE;return Ji(n,(r,i)=>{if(Fs(n,r)&&r.substring(0,1)!=="."){let s=zr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(zr(e))}}eee(zr);var zE=class extends md{constructor(e){super(),this.indexPath_=e,Me(!At(e)&&Ot(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?xd(e.name,t.name):s}makePost(e,t){let r=zr(e),i=In.EMPTY_NODE.updateChild(this.indexPath_,r);return new Mt(t,i)}maxPost(){let e=In.EMPTY_NODE.updateChild(this.indexPath_,lp);return new Mt(_l,e)}toString(){return GM(this.indexPath_,0).join("/")}};var HE=class extends md{compare(e,t){let r=e.node.compareTo(t.node);return r===0?xd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(e,t){let r=zr(e);return new Mt(t,r)}toString(){return".value"}},iee=new HE;function see(n){return{type:"value",snapshotNode:n}}function oee(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function aee(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function lM(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function cee(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var $E=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Me(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Me(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pd}hasEnd(){return this.endSet_}getIndexEndValue(){return Me(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Me(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_l}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Me(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hr}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function uM(n){let e={};if(n.isDefault())return e;let t;if(n.index_===Hr?t="$priority":n.index_===iee?t="$value":n.index_===fd?t="$key":(Me(n.index_ instanceof zE,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=ur(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=ur(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+ur(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=ur(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+ur(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function dM(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Hr&&(e.i=n.index_.toString()),e}var qE=class n extends d_{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ap("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Me(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=n.getListenId_(e,r),a={};this.listens_[o]=a;let c=uM(e._queryParams);this.restRequest_(s+".json",c,(l,d)=>{let f=d;if(l===404&&(f=null,l=null),l===null&&this.onDataUpdate_(s,f,!1,r),vc(this.listens_,o)===a){let p;l?l===401?p="permission_denied":p="rest_error:"+l:p="ok",i(p,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=uM(e._queryParams),r=e._path.toString(),i=new gc;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wc(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ql(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var GE=class{constructor(){this.rootNode_=In.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function g_(){return{value:null,children:new Map}}function tF(n,e,t){if(At(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=Ot(e);n.children.has(r)||n.children.set(r,g_());let i=n.children.get(r);e=mn(e),tF(i,e,t)}}function KE(n,e,t){n.value!==null?t(e,n.value):lee(n,(r,i)=>{let s=new cn(e.toString()+"/"+r);KE(i,s,t)})}function lee(n,e){n.children.forEach((t,r)=>{e(r,t)})}var XE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ji(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var hM=10*1e3,uee=30*1e3,dee=5*60*1e3,YE=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new XE(e);let r=hM+(uee-hM)*Math.random();Zf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;Ji(e,(i,s)=>{s>0&&Fs(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Zf(this.reportStats_.bind(this),Math.floor(Math.random()*2*dee))}};var Yo=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Yo||{});function nF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var QE=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Yo.ACK_USER_WRITE,this.source=nF()}operationForChild(e){if(At(this.path)){if(this.affectedTree.value!=null)return Me(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new cn(e));return new n(sn(),t,this.revert)}}else return Me(Ot(this.path)===e,"operationForChild called for unrelated child."),new n(mn(this.path),this.affectedTree,this.revert)}};var vd=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Yo.OVERWRITE}operationForChild(e){return At(this.path)?new n(this.source,sn(),this.snap.getImmediateChild(e)):new n(this.source,mn(this.path),this.snap)}};var __=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Yo.MERGE}operationForChild(e){if(At(this.path)){let t=this.children.subtree(new cn(e));return t.isEmpty()?null:t.value?new vd(this.source,sn(),t.value):new n(this.source,sn(),t)}else return Me(Ot(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var rp=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(At(e))return this.isFullyInitialized()&&!this.filtered_;let t=Ot(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function hee(n,e,t,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(cee(o.childName,o.snapshotNode))}),Jf(n,i,"child_removed",e,r,t),Jf(n,i,"child_added",e,r,t),Jf(n,i,"child_moved",s,r,t),Jf(n,i,"child_changed",e,r,t),Jf(n,i,"value",e,r,t),i}function Jf(n,e,t,r,i,s){let o=r.filter(a=>a.type===t);o.sort((a,c)=>pee(n,a,c)),o.forEach(a=>{let c=fee(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function fee(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function pee(n,e,t){if(e.childName==null||t.childName==null)throw _c("Should only compare child_ events.");let r=new Mt(e.childName,e.snapshotNode),i=new Mt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function sF(n,e){return{eventCache:n,serverCache:e}}function tp(n,e,t,r){return sF(new rp(e,t,r),n.serverCache)}function oF(n,e,t,r){return sF(n.eventCache,new rp(e,t,r))}function JE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var xE,mee=()=>(xE||(xE=new Qi(mZ)),xE),mi=class n{constructor(e,t=mee()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return Ji(e,(r,i)=>{t=t.set(new cn(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:sn(),value:this.value};if(At(e))return null;{let r=Ot(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(mn(e),t);return s!=null?{path:vr(new cn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(At(e))return this;{let t=Ot(e),r=this.children.get(t);return r!==null?r.subtree(mn(e)):new n(null)}}set(e,t){if(At(e))return new n(t,this.children);{let r=Ot(e),s=(this.children.get(r)||new n(null)).set(mn(e),t),o=this.children.insert(r,s);return new n(this.value,o)}}remove(e){if(At(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Ot(e),r=this.children.get(t);if(r){let i=r.remove(mn(e)),s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(At(e))return this.value;{let t=Ot(e),r=this.children.get(t);return r?r.get(mn(e)):null}}setTree(e,t){if(At(e))return t;{let r=Ot(e),s=(this.children.get(r)||new n(null)).setTree(mn(e),t),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new n(this.value,o)}}fold(e){return this.fold_(sn(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(vr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,sn(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(At(e))return null;{let s=Ot(e),o=this.children.get(s);return o?o.findOnPath_(mn(e),vr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sn(),t)}foreachOnPath_(e,t,r){if(At(e))return this;{this.value&&r(t,this.value);let i=Ot(e),s=this.children.get(i);return s?s.foreachOnPath_(mn(e),vr(t,i),r):new n(null)}}foreach(e){this.foreach_(sn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(vr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var Es=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new mi(null))}};function np(n,e,t){if(At(e))return new Es(new mi(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Yi(i,e);return s=s.updateChild(o,t),new Es(n.writeTree_.set(i,s))}else{let i=new mi(t),s=n.writeTree_.setTree(e,i);return new Es(s)}}}function fM(n,e,t){let r=n;return Ji(t,(i,s)=>{r=np(r,vr(e,i),s)}),r}function pM(n,e){if(At(e))return Es.empty();{let t=n.writeTree_.setTree(e,new mi(null));return new Es(t)}}function ZE(n,e){return yl(n,e)!=null}function yl(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Yi(t.path,e)):null}function mM(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Hr,(r,i)=>{e.push(new Mt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Mt(r,i.value))}),e}function $a(n,e){if(At(e))return n;{let t=yl(n,e);return t!=null?new Es(new mi(t)):new Es(n.writeTree_.subtree(e))}}function eC(n){return n.writeTree_.isEmpty()}function yd(n,e){return aF(sn(),n.writeTree_,e)}function aF(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Me(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=aF(vr(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(vr(n,".priority"),r)),t}}function cF(n,e){return fF(e,n)}function gee(n,e,t,r,i){Me(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=np(n.visibleWrites,e,t)),n.lastWriteId=r}function _ee(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function vee(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);Me(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&yee(a,r.path)?i=!1:bs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return wee(n),!0;if(r.snap)n.visibleWrites=pM(n.visibleWrites,r.path);else{let a=r.children;Ji(a,c=>{n.visibleWrites=pM(n.visibleWrites,vr(r.path,c))})}return!0}else return!1}function yee(n,e){if(n.snap)return bs(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&bs(vr(n.path,t),e))return!0;return!1}function wee(n){n.visibleWrites=lF(n.allWrites,xee,sn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function xee(n){return n.visible}function lF(n,e,t){let r=Es.empty();for(let i=0;i<n.length;++i){let s=n[i];if(e(s)){let o=s.path,a;if(s.snap)bs(t,o)?(a=Yi(t,o),r=np(r,a,s.snap)):bs(o,t)&&(a=Yi(o,t),r=np(r,sn(),s.snap.getChild(a)));else if(s.children){if(bs(t,o))a=Yi(t,o),r=fM(r,a,s.children);else if(bs(o,t))if(a=Yi(o,t),At(a))r=fM(r,sn(),s.children);else{let c=vc(s.children,Ot(a));if(c){let l=c.getChild(mn(a));r=np(r,sn(),l)}}}else throw _c("WriteRecord should have .snap or .children")}}return r}function uF(n,e,t,r,i){if(!r&&!i){let s=yl(n.visibleWrites,e);if(s!=null)return s;{let o=$a(n.visibleWrites,e);if(eC(o))return t;if(t==null&&!ZE(o,sn()))return null;{let a=t||In.EMPTY_NODE;return yd(o,a)}}}else{let s=$a(n.visibleWrites,e);if(!i&&eC(s))return t;if(!i&&t==null&&!ZE(s,sn()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(bs(l.path,e)||bs(e,l.path))},a=lF(n.allWrites,o,e),c=t||In.EMPTY_NODE;return yd(a,c)}}}function bee(n,e,t){let r=In.EMPTY_NODE,i=yl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Hr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){let s=$a(n.visibleWrites,e);return t.forEachChild(Hr,(o,a)=>{let c=yd($a(s,new cn(o)),a);r=r.updateImmediateChild(o,c)}),mM(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=$a(n.visibleWrites,e);return mM(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Eee(n,e,t,r,i){Me(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=vr(e,t);if(ZE(n.visibleWrites,s))return null;{let o=$a(n.visibleWrites,s);return eC(o)?i.getChild(t):yd(o,i.getChild(t))}}function Cee(n,e,t,r){let i=vr(e,t),s=yl(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){let o=$a(n.visibleWrites,i);return yd(o,r.getNode().getImmediateChild(t))}else return null}function Tee(n,e){return yl(n.visibleWrites,e)}function See(n,e,t,r,i,s,o){let a,c=$a(n.visibleWrites,e),l=yl(c,sn());if(l!=null)a=l;else if(t!=null)a=yd(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let d=[],f=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),_=p.getNext();for(;_&&d.length<i;)f(_,r)!==0&&d.push(_),_=p.getNext();return d}else return[]}function Iee(){return{visibleWrites:Es.empty(),allWrites:[],lastWriteId:-1}}function tC(n,e,t,r){return uF(n.writeTree,n.treePath,e,t,r)}function dF(n,e){return bee(n.writeTree,n.treePath,e)}function gM(n,e,t,r){return Eee(n.writeTree,n.treePath,e,t,r)}function v_(n,e){return Tee(n.writeTree,vr(n.treePath,e))}function Aee(n,e,t,r,i,s){return See(n.writeTree,n.treePath,e,t,r,i,s)}function yC(n,e,t){return Cee(n.writeTree,n.treePath,e,t)}function hF(n,e){return fF(vr(n.treePath,e),n.writeTree)}function fF(n,e){return{treePath:n,writeTree:e}}var nC=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;Me(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Me(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,lM(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,aee(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,oee(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,lM(r,e.snapshotNode,i.oldSnap));else throw _c("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var rC=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},pF=new rC,ip=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new rp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yC(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vl(this.viewCache_),s=Aee(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}};function kee(n,e){Me(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Me(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Ree(n,e,t,r,i){let s=new nC,o,a;if(t.type===Yo.OVERWRITE){let l=t;l.source.fromUser?o=iC(n,e,l.path,l.snap,r,i,s):(Me(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!At(l.path),o=y_(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===Yo.MERGE){let l=t;l.source.fromUser?o=Pee(n,e,l.path,l.children,r,i,s):(Me(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=sC(n,e,l.path,l.children,r,i,a,s))}else if(t.type===Yo.ACK_USER_WRITE){let l=t;l.revert?o=Fee(n,e,l.path,r,i,s):o=Oee(n,e,l.path,l.affectedTree,r,i,s)}else if(t.type===Yo.LISTEN_COMPLETE)o=Mee(n,e,t.path,r,s);else throw _c("Unknown operation type: "+t.type);let c=s.getChanges();return Dee(e,o,c),{viewCache:o,changes:c}}function Dee(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=JE(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(see(JE(e)))}}function mF(n,e,t,r,i,s){let o=e.eventCache;if(v_(r,t)!=null)return e;{let a,c;if(At(t))if(Me(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=vl(e),d=l instanceof In?l:In.EMPTY_NODE,f=dF(r,d);a=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{let l=tC(r,vl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=Ot(t);if(l===".priority"){Me(qa(t)===1,"Can't have a priority with additional path components");let d=o.getNode();c=e.serverCache.getNode();let f=gM(r,t,d,c);f!=null?a=n.filter.updatePriority(d,f):a=o.getNode()}else{let d=mn(t),f;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let p=gM(r,t,o.getNode(),c);p!=null?f=o.getNode().getImmediateChild(l).updateChild(d,p):f=o.getNode().getImmediateChild(l)}else f=yC(r,l,e.serverCache);f!=null?a=n.filter.updateChild(o.getNode(),l,f,d,i,s):a=o.getNode()}}return tp(e,a,o.isFullyInitialized()||At(t),n.filter.filtersNodes())}}function y_(n,e,t,r,i,s,o,a){let c=e.serverCache,l,d=o?n.filter:n.filter.getIndexedFilter();if(At(t))l=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){let _=c.getNode().updateChild(t,r);l=d.updateFullNode(c.getNode(),_,null)}else{let _=Ot(t);if(!c.isCompleteForPath(t)&&qa(t)>1)return e;let C=mn(t),T=c.getNode().getImmediateChild(_).updateChild(C,r);_===".priority"?l=d.updatePriority(c.getNode(),T):l=d.updateChild(c.getNode(),_,T,C,pF,null)}let f=oF(e,l,c.isFullyInitialized()||At(t),d.filtersNodes()),p=new ip(i,f,s);return mF(n,f,t,i,p,a)}function iC(n,e,t,r,i,s,o){let a=e.eventCache,c,l,d=new ip(i,e,s);if(At(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=tp(e,l,!0,n.filter.filtersNodes());else{let f=Ot(t);if(f===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),c=tp(e,l,a.isFullyInitialized(),a.isFiltered());else{let p=mn(t),_=a.getNode().getImmediateChild(f),C;if(At(p))C=r;else{let w=d.getCompleteChild(f);w!=null?qM(p)===".priority"&&w.getChild(KM(p)).isEmpty()?C=w:C=w.updateChild(p,r):C=In.EMPTY_NODE}if(_.equals(C))c=e;else{let w=n.filter.updateChild(a.getNode(),f,C,p,d,o);c=tp(e,w,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function _M(n,e){return n.eventCache.isCompleteForChild(e)}function Pee(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{let d=vr(t,c);_M(e,Ot(d))&&(a=iC(n,a,d,l,i,s,o))}),r.foreach((c,l)=>{let d=vr(t,c);_M(e,Ot(d))||(a=iC(n,a,d,l,i,s,o))}),a}function vM(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function sC(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;At(t)?l=r:l=new mi(null).setTree(t,r);let d=e.serverCache.getNode();return l.children.inorderTraversal((f,p)=>{if(d.hasChild(f)){let _=e.serverCache.getNode().getImmediateChild(f),C=vM(n,_,p);c=y_(n,c,new cn(f),C,i,s,o,a)}}),l.children.inorderTraversal((f,p)=>{let _=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!d.hasChild(f)&&!_){let C=e.serverCache.getNode().getImmediateChild(f),w=vM(n,C,p);c=y_(n,c,new cn(f),w,i,s,o,a)}}),c}function Oee(n,e,t,r,i,s,o){if(v_(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(At(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return y_(n,e,t,c.getNode().getChild(t),i,s,a,o);if(At(t)){let l=new mi(null);return c.getNode().forEachChild(fd,(d,f)=>{l=l.set(new cn(d),f)}),sC(n,e,t,l,i,s,a,o)}else return e}else{let l=new mi(null);return r.foreach((d,f)=>{let p=vr(t,d);c.isCompleteForPath(p)&&(l=l.set(d,c.getNode().getChild(p)))}),sC(n,e,t,l,i,s,a,o)}}function Mee(n,e,t,r,i){let s=e.serverCache,o=oF(e,s.getNode(),s.isFullyInitialized()||At(t),s.isFiltered());return mF(n,o,t,r,pF,i)}function Fee(n,e,t,r,i,s){let o;if(v_(r,t)!=null)return e;{let a=new ip(r,e,i),c=e.eventCache.getNode(),l;if(At(t)||Ot(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=tC(r,vl(e));else{let f=e.serverCache.getNode();Me(f instanceof In,"serverChildren would be complete if leaf node"),d=dF(r,f)}d=d,l=n.filter.updateFullNode(c,d,s)}else{let d=Ot(t),f=yC(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=c.getImmediateChild(d)),f!=null?l=n.filter.updateChild(c,d,f,mn(t),a,s):e.eventCache.getNode().hasChild(d)?l=n.filter.updateChild(c,d,In.EMPTY_NODE,mn(t),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=tC(r,vl(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||v_(r,sn())!=null,tp(e,l,o,n.filter.filtersNodes())}}function Nee(n,e){let t=vl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!At(e)&&!t.getImmediateChild(Ot(e)).isEmpty())?t.getChild(e):null}function yM(n,e,t,r){e.type===Yo.MERGE&&e.source.queryId!==null&&(Me(vl(n.viewCache_),"We should always have a full cache before handling merges"),Me(JE(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,s=Ree(n.processor_,i,e,t,r);return kee(n.processor_,s.viewCache),Me(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Lee(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Lee(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return hee(n.eventGenerator_,e,t,i)}var wM;function Vee(n){Me(!wM,"__referenceConstructor has already been defined"),wM=n}function wC(n,e,t,r){let i=e.source.queryId;if(i!==null){let s=n.views.get(i);return Me(s!=null,"SyncTree gave us an op for an invalid query."),yM(s,e,t,r)}else{let s=[];for(let o of n.views.values())s=s.concat(yM(o,e,t,r));return s}}function xC(n,e){let t=null;for(let r of n.views.values())t=t||Nee(r,e);return t}var xM;function Bee(n){Me(!xM,"__referenceConstructor has already been defined"),xM=n}var w_=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mi(null),this.pendingWriteTree_=Iee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Uee(n,e,t,r,i){return gee(n.pendingWriteTree_,e,t,r,i),i?b_(n,new vd(nF(),e,t)):[]}function dd(n,e,t=!1){let r=_ee(n.pendingWriteTree_,e);if(vee(n.pendingWriteTree_,e)){let s=new mi(null);return r.snap!=null?s=s.set(sn(),!0):Ji(r.children,o=>{s=s.set(new cn(o),!0)}),b_(n,new QE(r.path,s,t))}else return[]}function x_(n,e,t){return b_(n,new vd(rF(),e,t))}function jee(n,e,t){let r=mi.fromObject(t);return b_(n,new __(rF(),e,r))}function Wee(n,e,t,r){let i=yF(n,r);if(i!=null){let s=wF(i),o=s.path,a=s.queryId,c=Yi(o,e),l=new vd(iF(a),c,t);return xF(n,o,l)}else return[]}function zee(n,e,t,r){let i=yF(n,r);if(i){let s=wF(i),o=s.path,a=s.queryId,c=Yi(o,e),l=mi.fromObject(t),d=new __(iF(a),c,l);return xF(n,o,d)}else return[]}function gF(n,e,t){let i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let c=Yi(o,e),l=xC(a,c);if(l)return l});return uF(i,e,s,t,!0)}function b_(n,e){return _F(e,n.syncPointTree_,null,cF(n.pendingWriteTree_,sn()))}function _F(n,e,t,r){if(At(n.path))return vF(n,e,t,r);{let i=e.get(sn());t==null&&i!=null&&(t=xC(i,sn()));let s=[],o=Ot(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){let l=t?t.getImmediateChild(o):null,d=hF(r,o);s=s.concat(_F(a,c,l,d))}return i&&(s=s.concat(wC(i,n,r,t))),s}}function vF(n,e,t,r){let i=e.get(sn());t==null&&i!=null&&(t=xC(i,sn()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=t?t.getImmediateChild(o):null,l=hF(r,o),d=n.operationForChild(o);d&&(s=s.concat(vF(d,a,c,l)))}),i&&(s=s.concat(wC(i,n,r,t))),s}function yF(n,e){return n.tagToQueryMap.get(e)}function wF(n){let e=n.indexOf("$");return Me(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new cn(n.substr(0,e))}}function xF(n,e,t){let r=n.syncPointTree_.get(e);Me(r,"Missing sync point for query tag that we're tracking");let i=cF(n.pendingWriteTree_,e);return wC(r,t,i,null)}var oC=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},aC=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=vr(this.path_,e);return new n(this.syncTree_,t)}node(){return gF(this.syncTree_,this.path_)}},Hee=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},bM=function(n,e,t){if(!n||typeof n!="object")return n;if(Me(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return $ee(n[".sv"],e,t);if(typeof n[".sv"]=="object")return qee(n[".sv"],e);Me(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},$ee=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Me(!1,"Unexpected server value: "+n)}},qee=function(n,e,t){n.hasOwnProperty("increment")||Me(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&Me(!1,"Unexpected increment value: "+r);let i=e.node();if(Me(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},Gee=function(n,e,t,r){return bC(e,new aC(t,n),r)},Kee=function(n,e,t){return bC(n,new oC(e),t)};function bC(n,e,t){let r=n.getPriority().val(),i=bM(r,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=bM(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new gd(a,zr(i)):n}else{let o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new gd(i))),o.forEachChild(Hr,(a,c)=>{let l=bC(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var sp=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function EC(n,e){let t=e instanceof cn?e:new cn(e),r=n,i=Ot(t);for(;i!==null;){let s=vc(r.node.children,i)||{children:{},childCount:0};r=new sp(i,r,s),t=mn(t),i=Ot(t)}return r}function bd(n){return n.node.value}function bF(n,e){n.node.value=e,cC(n)}function EF(n){return n.node.childCount>0}function Xee(n){return bd(n)===void 0&&!EF(n)}function E_(n,e){Ji(n.node.children,(t,r)=>{e(new sp(t,n,r))})}function CF(n,e,t,r){t&&!r&&e(n),E_(n,i=>{CF(i,e,!0,r)}),t&&r&&e(n)}function Yee(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function up(n){return new cn(n.parent===null?n.name:up(n.parent)+"/"+n.name)}function cC(n){n.parent!==null&&Qee(n.parent,n.name,n)}function Qee(n,e,t){let r=Xee(t),i=Fs(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,cC(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,cC(n))}var Jee=/[\[\].#$\/\u0000-\u001F\u007F]/,Zee=/[\[\].#$\u0000-\u001F\u007F]/,bE=10*1024*1024,TF=function(n){return typeof n=="string"&&n.length!==0&&!Jee.test(n)},ete=function(n){return typeof n=="string"&&n.length!==0&&!Zee.test(n)},tte=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ete(n)};var SF=function(n,e,t){let r=t instanceof cn?new NE(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+pl(r));if(typeof e=="function")throw new Error(n+"contains a function "+pl(r)+" with contents = "+e.toString());if(AM(e))throw new Error(n+"contains "+e.toString()+" "+pl(r));if(typeof e=="string"&&e.length>bE/3&&Eh(e)>bE)throw new Error(n+"contains a string greater than "+bE+" utf8 bytes "+pl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ji(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!TF(o)))throw new Error(n+" contains an invalid key ("+o+") "+pl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qZ(r,o),SF(n,a,r),GZ(r)}),i&&s)throw new Error(n+' contains ".value" child '+pl(r)+" in addition to actual children.")}};var nte=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!TF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!tte(t))throw new Error(XS(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var lC=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function rte(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();t!==null&&!XM(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function wl(n,e,t){rte(n,t),ite(n,r=>bs(r,e)||bs(e,r))}function ite(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let s=i.path;e(s)?(ste(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function ste(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();gl&&Wr("event: "+t.toString()),cp(r)}}}var ote="repo_interrupt",ate=25,uC=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=g_(),this.transactionQueueTree_=new sp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function cte(n,e,t){if(n.stats_=gC(n.repoInfo_),n.forceRestClient_||xZ())n.server_=new qE(n.repoInfo_,(r,i,s,o)=>{EM(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>CM(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ur(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new _C(n.repoInfo_,e,(r,i,s,o)=>{EM(n,r,i,s,o)},r=>{CM(n,r)},r=>{ute(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=EZ(n.repoInfo_,()=>new YE(n.stats_,n.server_)),n.infoData_=new GE,n.infoSyncTree_=new w_({startListening:(r,i,s,o)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=x_(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),CC(n,"connected",!1),n.serverSyncTree_=new w_({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);wl(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function lte(n){let t=n.infoData_.getNode(new cn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function IF(n){return Hee({timestamp:lte(n)})}function EM(n,e,t,r,i){n.dataUpdateCount++;let s=new cn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){let c=bh(t,l=>zr(l));o=zee(n.serverSyncTree_,s,c,i)}else{let c=zr(t);o=Wee(n.serverSyncTree_,s,c,i)}else if(r){let c=bh(t,l=>zr(l));o=jee(n.serverSyncTree_,s,c)}else{let c=zr(t);o=x_(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=SC(n,s)),wl(n.eventQueue_,a,o)}function CM(n,e){CC(n,"connected",e),e===!1&&hte(n)}function ute(n,e){Ji(e,(t,r)=>{CC(n,t,r)})}function CC(n,e,t){let r=new cn("/.info/"+e),i=zr(t);n.infoData_.updateSnapshot(r,i);let s=x_(n.infoSyncTree_,r,i);wl(n.eventQueue_,r,s)}function dte(n){return n.nextWriteId_++}function hte(n){AF(n,"onDisconnectEvents");let e=IF(n),t=g_();KE(n.onDisconnect_,sn(),(i,s)=>{let o=Gee(i,s,n.serverSyncTree_,e);tF(t,i,o)});let r=[];KE(t,sn(),(i,s)=>{r=r.concat(x_(n.serverSyncTree_,i,s));let o=gte(n,i);SC(n,o)}),n.onDisconnect_=g_(),wl(n.eventQueue_,sn(),r)}function fte(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ote)}function AF(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Wr(t,...e)}function kF(n,e,t){return gF(n.serverSyncTree_,e,t)||In.EMPTY_NODE}function TC(n,e=n.transactionQueueTree_){if(e||C_(n,e),bd(e)){let t=DF(n,e);Me(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&pte(n,up(e),t)}else EF(e)&&E_(e,t=>{TC(n,t)})}function pte(n,e,t){let r=t.map(l=>l.currentWriteId),i=kF(n,e,r),s=i,o=i.hash();for(let l=0;l<t.length;l++){let d=t[l];Me(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let f=Yi(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{AF(n,"transaction put response",{path:c.toString(),status:l});let d=[];if(l==="ok"){let f=[];for(let p=0;p<t.length;p++)t[p].status=2,d=d.concat(dd(n.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&f.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();C_(n,EC(n.transactionQueueTree_,e)),TC(n,n.transactionQueueTree_),wl(n.eventQueue_,e,d);for(let p=0;p<f.length;p++)cp(f[p])}else{if(l==="datastale")for(let f=0;f<t.length;f++)t[f].status===3?t[f].status=4:t[f].status=0;else{Ri("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=l}SC(n,e)}},o)}function SC(n,e){let t=RF(n,e),r=up(t),i=DF(n,t);return mte(n,i,r),r}function mte(n,e,t){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Yi(t,c.path),d=!1,f;if(Me(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,f=c.abortReason,i=i.concat(dd(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=ate)d=!0,f="maxretry",i=i.concat(dd(n.serverSyncTree_,c.currentWriteId,!0));else{let p=kF(n,c.path,o);c.currentInputSnapshot=p;let _=e[a].update(p.val());if(_!==void 0){SF("transaction failed: Data returned ",_,c.path);let C=zr(_);typeof _=="object"&&_!=null&&Fs(_,".priority")||(C=C.updatePriority(p.getPriority()));let T=c.currentWriteId,K=IF(n),X=Kee(C,p,K);c.currentOutputSnapshotRaw=C,c.currentOutputSnapshotResolved=X,c.currentWriteId=dte(n),o.splice(o.indexOf(T),1),i=i.concat(Uee(n.serverSyncTree_,c.path,X,c.currentWriteId,c.applyLocally)),i=i.concat(dd(n.serverSyncTree_,T,!0))}else d=!0,f="nodata",i=i.concat(dd(n.serverSyncTree_,c.currentWriteId,!0))}wl(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}C_(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)cp(r[a]);TC(n,n.transactionQueueTree_)}function RF(n,e){let t,r=n.transactionQueueTree_;for(t=Ot(e);t!==null&&bd(r)===void 0;)r=EC(r,t),e=mn(e),t=Ot(e);return r}function DF(n,e){let t=[];return PF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function PF(n,e,t){let r=bd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);E_(e,i=>{PF(n,i,t)})}function C_(n,e){let t=bd(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,bF(e,t.length>0?t:void 0)}E_(e,r=>{C_(n,r)})}function gte(n,e){let t=up(RF(n,e)),r=EC(n.transactionQueueTree_,e);return Yee(r,i=>{EE(n,i)}),EE(n,r),CF(r,i=>{EE(n,i)}),t}function EE(n,e){let t=bd(e);if(t){let r=[],i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(Me(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Me(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(dd(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?bF(e,void 0):t.length=s+1,wl(n.eventQueue_,up(e),i);for(let o=0;o<r.length;o++)cp(r[o])}}function _te(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vte(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${t}' in query '${n}'`)}return e}var TM=function(n,e){let t=yte(n),r=t.namespace;t.domain==="firebase.com"&&Qo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Qo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||fZ();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new l_(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new cn(t.pathString)}},yte=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let d=n.indexOf("/");d===-1&&(d=n.length);let f=n.indexOf("?");f===-1&&(f=n.length),e=n.substring(0,Math.min(d,f)),d<f&&(i=_te(n.substring(d,f)));let p=vte(n.substring(Math.min(n.length,f)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let _=e.slice(0,l);if(_.toLowerCase()==="localhost")t="localhost";else if(_.split(".").length<=2)t=_;else{let C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),t=e.substring(C+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var dC=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return At(this._path)?null:qM(this._path)}get ref(){return new wd(this._repo,this._path)}get _queryIdentifier(){let e=dM(this._queryParams),t=mC(e);return t==="{}"?"default":t}get _queryObject(){return dM(this._queryParams)}isEqual(e){if(e=Kt(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=XM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+$Z(this._path)}};var wd=class n extends dC{constructor(e,t){super(e,t,new $E,!1)}get parent(){let e=KM(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};Vee(wd);Bee(wd);var wte="FIREBASE_DATABASE_EMULATOR_HOST",hC={},xte=!1;function bte(n,e,t,r){n.repoInfo_=new l_(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function Ete(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Qo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=TM(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[wte]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=TM(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let d=i&&c?new ep(ep.OWNER):new kE(n.name,n.options,e);nte("Invalid Firebase Database URL",o),At(o.path)||Qo("Database URL must point to the root of a Firebase Database (not including a child path).");let f=Tte(a,n,d,new AE(n.name,t));return new fC(f,n)}function Cte(n,e){let t=hC[e];(!t||t[n.key]!==n)&&Qo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),fte(n),delete t[n.key]}function Tte(n,e,t,r){let i=hC[e.name];i||(i={},hC[e.name]=i);let s=i[n.toURLString()];return s&&Qo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new uC(n,xte,t,r),i[n.toURLString()]=s,s}var fC=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wd(this._repo,sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qo("Cannot call "+e+" on a deleted database.")}};function OF(n=Vs(),e){let t=Eo(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=Jl("database");r&&MF(t,...r)}return t}function MF(n,e,t,r={}){n=Kt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Qo("Cannot call useEmulator() after instance has already been initialized.");let i=n._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ep(ep.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Zl(r.mockUserToken,n.app.options.projectId);s=new ep(o)}bte(i,e,t,s)}function Ste(n){uZ(Wi),ji(new Nr("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Ete(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),nn(GO,KO,n),nn(GO,KO,"esm2017")}_C.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};_C.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Ste();var dp=class{constructor(e){return e}},FF="database",IC=class{constructor(){return va(FF)}};var AC=new et("angularfire2.database-instances");function Ite(n,e){let t=Cc(FF,n,e);return t&&new dp(t)}function Ate(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new dp(r)}}var kte={provide:IC,deps:[[new tr,AC]]},Rte={provide:dp,useFactory:Ite,deps:[[new tr,AC],ds]};function NF(n,...e){return nn("angularfire",Bs.full,"rtdb"),yi([Rte,kte,{provide:AC,useFactory:Ate(n),multi:!0,deps:[st,cr,To,So,[new tr,Rc],[new tr,Co],...e]}])}var LF=xn(OF,!0);var Dte=(()=>{let e=class e extends nm{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(be(It),be(Xd),be(tm))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})();function Pte(){return new $T}function Ote(n,e,t){return new GT(n,e,t)}var VF=[{provide:tm,useFactory:Pte},{provide:nm,useClass:Dte},{provide:Pl,useFactory:Ote,deps:[jl,nm,st]}],Mte=[{provide:Xd,useFactory:()=>new qT},{provide:Li,useValue:"BrowserAnimations"},...VF],Jfe=[{provide:Xd,useClass:HT},{provide:Li,useValue:"NoopAnimations"},...VF];function BF(){return Gp("NgEagerAnimations"),[...Mte]}var Fte="@",Nte=(()=>{let e=class e{constructor(r,i,s,o,a){this.doc=r,this.delegate=i,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=qe(gT,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-ALBJNCMI.js").then(i=>i)).catch(i=>{throw new vn(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(r,i){let s=this.delegate.createRenderer(r,i);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new kC(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(r,i);o.use(c),this.scheduler?.notify(9)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){ev()},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let n=e;return n})(),kC=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Fte)}};function UF(n="animations"){return Gp("NgAsyncAnimations"),yi([{provide:Pl,useFactory:(e,t,r)=>new Nte(e,t,r,n),deps:[It,jl,st]},{provide:Li,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var jF={providers:[RT({eventCoalescing:!0}),NS(qO),dI(()=>hI({projectId:"clinica-22442",appId:"1:235357332503:web:e03014e1b1fcb0af3b6852",storageBucket:"clinica-22442.appspot.com",apiKey:"AIzaSyCYJNO1mUpzxRzCSi7jWwwquq2q-8KAETU",authDomain:"clinica-22442.firebaseapp.com",messagingSenderId:"235357332503"})),a2(()=>l2()),Uk(()=>Ma()),NF(()=>LF()),BF(),UF()]};var WF=(()=>{class n{title="tpclinica2024";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=tt({type:n,selectors:[["app-root"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(r,i){r&1&&pe(0,"router-outlet")},dependencies:[Gv]})}return n})();eS(WF,jF).catch(n=>console.error(n));
